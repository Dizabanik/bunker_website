var dT=n=>{throw TypeError(n)};var ws=(n,e,o)=>e.has(n)?dT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,o);function pT(n,e){for(var o=0;o<e.length;o++){const s=e[o];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in n)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function Yc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rc={exports:{}},Ls={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function hT(){if(pm)return Ls;pm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Ls.Fragment=e,Ls.jsx=o,Ls.jsxs=o,Ls}var hm;function mT(){return hm||(hm=1,rc.exports=hT()),rc.exports}var R=mT(),lc={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function gT(){if(mm)return ye;mm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,W={};function te(E,D,X){this.props=E,this.context=D,this.refs=W,this.updater=X||O}te.prototype.isReactComponent={},te.prototype.setState=function(E,D){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,D,"setState")},te.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function ie(){}ie.prototype=te.prototype;function F(E,D,X){this.props=E,this.context=D,this.refs=W,this.updater=X||O}var le=F.prototype=new ie;le.constructor=F,B(le,te.prototype),le.isPureReactComponent=!0;var fe=Array.isArray;function ae(){}var j={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function ce(E,D,X){var Z=X.ref;return{$$typeof:n,type:E,key:D,ref:Z!==void 0?Z:null,props:X}}function ge(E,D){return ce(E.type,D,E.props)}function Ie(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function ve(E){var D={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(X){return D[X]})}var k=/\/+/g;function $(E,D){return typeof E=="object"&&E!==null&&E.key!=null?ve(""+E.key):D.toString(36)}function J(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ae,ae):(E.status="pending",E.then(function(D){E.status==="pending"&&(E.status="fulfilled",E.value=D)},function(D){E.status==="pending"&&(E.status="rejected",E.reason=D)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function b(E,D,X,Z,he){var de=typeof E;(de==="undefined"||de==="boolean")&&(E=null);var De=!1;if(E===null)De=!0;else switch(de){case"bigint":case"string":case"number":De=!0;break;case"object":switch(E.$$typeof){case n:case e:De=!0;break;case v:return De=E._init,b(De(E._payload),D,X,Z,he)}}if(De)return he=he(E),De=Z===""?"."+$(E,0):Z,fe(he)?(X="",De!=null&&(X=De.replace(k,"$&/")+"/"),b(he,D,X,"",function(zo){return zo})):he!=null&&(Ie(he)&&(he=ge(he,X+(he.key==null||E&&E.key===he.key?"":(""+he.key).replace(k,"$&/")+"/")+De)),D.push(he)),1;De=0;var Tt=Z===""?".":Z+":";if(fe(E))for(var Ze=0;Ze<E.length;Ze++)Z=E[Ze],de=Tt+$(Z,Ze),De+=b(Z,D,X,de,he);else if(Ze=x(E),typeof Ze=="function")for(E=Ze.call(E),Ze=0;!(Z=E.next()).done;)Z=Z.value,de=Tt+$(Z,Ze++),De+=b(Z,D,X,de,he);else if(de==="object"){if(typeof E.then=="function")return b(J(E),D,X,Z,he);throw D=String(E),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return De}function I(E,D,X){if(E==null)return E;var Z=[],he=0;return b(E,Z,"","",function(de){return D.call(X,de,he++)}),Z}function Q(E){if(E._status===-1){var D=E._result;D=D(),D.then(function(X){(E._status===0||E._status===-1)&&(E._status=1,E._result=X)},function(X){(E._status===0||E._status===-1)&&(E._status=2,E._result=X)}),E._status===-1&&(E._status=0,E._result=D)}if(E._status===1)return E._result.default;throw E._result}var ee=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},H={map:I,forEach:function(E,D,X){I(E,function(){D.apply(this,arguments)},X)},count:function(E){var D=0;return I(E,function(){D++}),D},toArray:function(E){return I(E,function(D){return D})||[]},only:function(E){if(!Ie(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ye.Activity=_,ye.Children=H,ye.Component=te,ye.Fragment=o,ye.Profiler=l,ye.PureComponent=F,ye.StrictMode=s,ye.Suspense=y,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,ye.__COMPILER_RUNTIME={__proto__:null,c:function(E){return j.H.useMemoCache(E)}},ye.cache=function(E){return function(){return E.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(E,D,X){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var Z=B({},E.props),he=E.key;if(D!=null)for(de in D.key!==void 0&&(he=""+D.key),D)!Te.call(D,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&D.ref===void 0||(Z[de]=D[de]);var de=arguments.length-2;if(de===1)Z.children=X;else if(1<de){for(var De=Array(de),Tt=0;Tt<de;Tt++)De[Tt]=arguments[Tt+2];Z.children=De}return ce(E.type,he,Z)},ye.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},ye.createElement=function(E,D,X){var Z,he={},de=null;if(D!=null)for(Z in D.key!==void 0&&(de=""+D.key),D)Te.call(D,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(he[Z]=D[Z]);var De=arguments.length-2;if(De===1)he.children=X;else if(1<De){for(var Tt=Array(De),Ze=0;Ze<De;Ze++)Tt[Ze]=arguments[Ze+2];he.children=Tt}if(E&&E.defaultProps)for(Z in De=E.defaultProps,De)he[Z]===void 0&&(he[Z]=De[Z]);return ce(E,de,he)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(E){return{$$typeof:h,render:E}},ye.isValidElement=Ie,ye.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:Q}},ye.memo=function(E,D){return{$$typeof:m,type:E,compare:D===void 0?null:D}},ye.startTransition=function(E){var D=j.T,X={};j.T=X;try{var Z=E(),he=j.S;he!==null&&he(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ae,ee)}catch(de){ee(de)}finally{D!==null&&X.types!==null&&(D.types=X.types),j.T=D}},ye.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},ye.use=function(E){return j.H.use(E)},ye.useActionState=function(E,D,X){return j.H.useActionState(E,D,X)},ye.useCallback=function(E,D){return j.H.useCallback(E,D)},ye.useContext=function(E){return j.H.useContext(E)},ye.useDebugValue=function(){},ye.useDeferredValue=function(E,D){return j.H.useDeferredValue(E,D)},ye.useEffect=function(E,D){return j.H.useEffect(E,D)},ye.useEffectEvent=function(E){return j.H.useEffectEvent(E)},ye.useId=function(){return j.H.useId()},ye.useImperativeHandle=function(E,D,X){return j.H.useImperativeHandle(E,D,X)},ye.useInsertionEffect=function(E,D){return j.H.useInsertionEffect(E,D)},ye.useLayoutEffect=function(E,D){return j.H.useLayoutEffect(E,D)},ye.useMemo=function(E,D){return j.H.useMemo(E,D)},ye.useOptimistic=function(E,D){return j.H.useOptimistic(E,D)},ye.useReducer=function(E,D,X){return j.H.useReducer(E,D,X)},ye.useRef=function(E){return j.H.useRef(E)},ye.useState=function(E){return j.H.useState(E)},ye.useSyncExternalStore=function(E,D,X){return j.H.useSyncExternalStore(E,D,X)},ye.useTransition=function(){return j.H.useTransition()},ye.version="19.2.1",ye}var gm;function Kc(){return gm||(gm=1,lc.exports=gT()),lc.exports}var kt=Kc();const Xc=Yc(kt);var ac={exports:{}},Gs={},uc={exports:{}},cc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function yT(){return ym||(ym=1,(function(n){function e(b,I){var Q=b.length;b.push(I);e:for(;0<Q;){var ee=Q-1>>>1,H=b[ee];if(0<l(H,I))b[ee]=I,b[Q]=H,Q=ee;else break e}}function o(b){return b.length===0?null:b[0]}function s(b){if(b.length===0)return null;var I=b[0],Q=b.pop();if(Q!==I){b[0]=Q;e:for(var ee=0,H=b.length,E=H>>>1;ee<E;){var D=2*(ee+1)-1,X=b[D],Z=D+1,he=b[Z];if(0>l(X,Q))Z<H&&0>l(he,X)?(b[ee]=he,b[Z]=Q,ee=Z):(b[ee]=X,b[D]=Q,ee=D);else if(Z<H&&0>l(he,Q))b[ee]=he,b[Z]=Q,ee=Z;else break e}}return I}function l(b,I){var Q=b.sortIndex-I.sortIndex;return Q!==0?Q:b.id-I.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var y=[],m=[],v=1,_=null,S=3,x=!1,O=!1,B=!1,W=!1,te=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function le(b){for(var I=o(m);I!==null;){if(I.callback===null)s(m);else if(I.startTime<=b)s(m),I.sortIndex=I.expirationTime,e(y,I);else break;I=o(m)}}function fe(b){if(B=!1,le(b),!O)if(o(y)!==null)O=!0,ae||(ae=!0,ve());else{var I=o(m);I!==null&&J(fe,I.startTime-b)}}var ae=!1,j=-1,Te=5,ce=-1;function ge(){return W?!0:!(n.unstable_now()-ce<Te)}function Ie(){if(W=!1,ae){var b=n.unstable_now();ce=b;var I=!0;try{e:{O=!1,B&&(B=!1,ie(j),j=-1),x=!0;var Q=S;try{t:{for(le(b),_=o(y);_!==null&&!(_.expirationTime>b&&ge());){var ee=_.callback;if(typeof ee=="function"){_.callback=null,S=_.priorityLevel;var H=ee(_.expirationTime<=b);if(b=n.unstable_now(),typeof H=="function"){_.callback=H,le(b),I=!0;break t}_===o(y)&&s(y),le(b)}else s(y);_=o(y)}if(_!==null)I=!0;else{var E=o(m);E!==null&&J(fe,E.startTime-b),I=!1}}break e}finally{_=null,S=Q,x=!1}I=void 0}}finally{I?ve():ae=!1}}}var ve;if(typeof F=="function")ve=function(){F(Ie)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,$=k.port2;k.port1.onmessage=Ie,ve=function(){$.postMessage(null)}}else ve=function(){te(Ie,0)};function J(b,I){j=te(function(){b(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(b){b.callback=null},n.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<b?Math.floor(1e3/b):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(b){switch(S){case 1:case 2:case 3:var I=3;break;default:I=S}var Q=S;S=I;try{return b()}finally{S=Q}},n.unstable_requestPaint=function(){W=!0},n.unstable_runWithPriority=function(b,I){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var Q=S;S=b;try{return I()}finally{S=Q}},n.unstable_scheduleCallback=function(b,I,Q){var ee=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ee+Q:ee):Q=ee,b){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Q+H,b={id:v++,callback:I,priorityLevel:b,startTime:Q,expirationTime:H,sortIndex:-1},Q>ee?(b.sortIndex=Q,e(m,b),o(y)===null&&b===o(m)&&(B?(ie(j),j=-1):B=!0,J(fe,Q-ee))):(b.sortIndex=H,e(y,b),O||x||(O=!0,ae||(ae=!0,ve()))),b},n.unstable_shouldYield=ge,n.unstable_wrapCallback=function(b){var I=S;return function(){var Q=S;S=I;try{return b.apply(this,arguments)}finally{S=Q}}}})(cc)),cc}var vm;function vT(){return vm||(vm=1,uc.exports=yT()),uc.exports}var fc={exports:{}},yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function _T(){if(_m)return yt;_m=1;var n=Kc();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:y,containerInfo:m,implementation:v}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,yt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(y,m,null,v)},yt.flushSync=function(y){var m=d.T,v=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=m,s.p=v,s.d.f()}},yt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},yt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},yt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:x}):v==="script"&&s.d.X(y,{crossOrigin:_,integrity:S,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},yt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},yt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin);s.d.L(y,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},yt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=h(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},yt.requestFormReset=function(y){s.d.r(y)},yt.unstable_batchedUpdates=function(y,m){return y(m)},yt.useFormState=function(y,m,v){return d.H.useFormState(y,m,v)},yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},yt.version="19.2.1",yt}var Tm;function TT(){if(Tm)return fc.exports;Tm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fc.exports=_T(),fc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function ST(){if(Sm)return Gs;Sm=1;var n=vT(),e=Kc(),o=TT();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var r=t,a=i;;){var p=r.return;if(p===null)break;var g=p.alternate;if(g===null){if(a=p.return,a!==null){r=a;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===r)return y(p),t;if(g===a)return y(p),i;g=g.sibling}throw Error(s(188))}if(r.return!==a.return)r=p,a=g;else{for(var T=!1,C=p.child;C;){if(C===r){T=!0,r=p,a=g;break}if(C===a){T=!0,a=p,r=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===r){T=!0,r=g,a=p;break}if(C===a){T=!0,a=g,r=p;break}C=C.sibling}if(!T)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),F=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),Ie=Symbol.iterator;function ve(t){return t===null||typeof t!="object"?null:(t=Ie&&t[Ie]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case te:return"Profiler";case W:return"StrictMode";case fe:return"Suspense";case ae:return"SuspenseList";case ce:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case F:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return i=t.displayName||null,i!==null?i:$(t.type)||"Memo";case Te:i=t._payload,t=t._init;try{return $(t(i))}catch{}}return null}var J=Array.isArray,b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ee=[],H=-1;function E(t){return{current:t}}function D(t){0>H||(t.current=ee[H],ee[H]=null,H--)}function X(t,i){H++,ee[H]=t.current,t.current=i}var Z=E(null),he=E(null),de=E(null),De=E(null);function Tt(t,i){switch(X(de,i),X(he,t),X(Z,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Lh(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Lh(i),t=Gh(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}D(Z),X(Z,t)}function Ze(){D(Z),D(he),D(de)}function zo(t){t.memoizedState!==null&&X(De,t);var i=Z.current,r=Gh(i,t.type);i!==r&&(X(he,t),X(Z,r))}function Ws(t){he.current===t&&(D(Z),D(he)),De.current===t&&(D(De),Ds._currentValue=Q)}var zl,df;function yi(t){if(zl===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);zl=i&&i[1]||"",df=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zl+t+df}var ql=!1;function Fl(t,i){if(!t||ql)return"";ql=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(V){var G=V}Reflect.construct(t,[],K)}else{try{K.call()}catch(V){G=V}t.call(K.prototype)}}else{try{throw Error()}catch(V){G=V}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(V){if(V&&G&&typeof V.stack=="string")return[V.stack,G.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=a.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var A=T.split(`
`),w=C.split(`
`);for(p=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;p<w.length&&!w[p].includes("DetermineComponentFrameRoot");)p++;if(a===A.length||p===w.length)for(a=A.length-1,p=w.length-1;1<=a&&0<=p&&A[a]!==w[p];)p--;for(;1<=a&&0<=p;a--,p--)if(A[a]!==w[p]){if(a!==1||p!==1)do if(a--,p--,0>p||A[a]!==w[p]){var z=`
`+A[a].replace(" at new "," at ");return t.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",t.displayName)),z}while(1<=a&&0<=p);break}}}finally{ql=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?yi(r):""}function q0(t,i){switch(t.tag){case 26:case 27:case 5:return yi(t.type);case 16:return yi("Lazy");case 13:return t.child!==i&&i!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Fl(t.type,!1);case 11:return Fl(t.type.render,!1);case 1:return Fl(t.type,!0);case 31:return yi("Activity");default:return""}}function pf(t){try{var i="",r=null;do i+=q0(t,r),r=t,t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Jl=Object.prototype.hasOwnProperty,Yl=n.unstable_scheduleCallback,Kl=n.unstable_cancelCallback,F0=n.unstable_shouldYield,J0=n.unstable_requestPaint,Lt=n.unstable_now,Y0=n.unstable_getCurrentPriorityLevel,hf=n.unstable_ImmediatePriority,mf=n.unstable_UserBlockingPriority,js=n.unstable_NormalPriority,K0=n.unstable_LowPriority,gf=n.unstable_IdlePriority,X0=n.log,Q0=n.unstable_setDisableYieldValue,qo=null,Gt=null;function qn(t){if(typeof X0=="function"&&Q0(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(qo,t)}catch{}}var Ht=Math.clz32?Math.clz32:W0,$0=Math.log,Z0=Math.LN2;function W0(t){return t>>>=0,t===0?32:31-($0(t)/Z0|0)|0}var er=256,tr=262144,nr=4194304;function vi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ir(t,i,r){var a=t.pendingLanes;if(a===0)return 0;var p=0,g=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=a&134217727;return C!==0?(a=C&~g,a!==0?p=vi(a):(T&=C,T!==0?p=vi(T):r||(r=C&~t,r!==0&&(p=vi(r))))):(C=a&~g,C!==0?p=vi(C):T!==0?p=vi(T):r||(r=a&~t,r!==0&&(p=vi(r)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,r=i&-i,g>=r||g===32&&(r&4194048)!==0)?i:p}function Fo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function j0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yf(){var t=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),t}function Xl(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Jo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ev(t,i,r,a,p,g){var T=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var C=t.entanglements,A=t.expirationTimes,w=t.hiddenUpdates;for(r=T&~r;0<r;){var z=31-Ht(r),K=1<<z;C[z]=0,A[z]=-1;var G=w[z];if(G!==null)for(w[z]=null,z=0;z<G.length;z++){var V=G[z];V!==null&&(V.lane&=-536870913)}r&=~K}a!==0&&vf(t,a,0),g!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=g&~(T&~i))}function vf(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var a=31-Ht(i);t.entangledLanes|=i,t.entanglements[a]=t.entanglements[a]|1073741824|r&261930}function _f(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var a=31-Ht(r),p=1<<a;p&i|t[a]&i&&(t[a]|=i),r&=~p}}function Tf(t,i){var r=i&-i;return r=(r&42)!==0?1:Ql(r),(r&(t.suspendedLanes|i))!==0?0:r}function Ql(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $l(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sf(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:rm(t.type))}function Cf(t,i){var r=I.p;try{return I.p=t,i()}finally{I.p=r}}var Fn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Fn,xt="__reactProps$"+Fn,Ji="__reactContainer$"+Fn,Zl="__reactEvents$"+Fn,tv="__reactListeners$"+Fn,nv="__reactHandles$"+Fn,Ef="__reactResources$"+Fn,Yo="__reactMarker$"+Fn;function Wl(t){delete t[dt],delete t[xt],delete t[Zl],delete t[tv],delete t[nv]}function Yi(t){var i=t[dt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Ji]||r[dt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=Fh(t);t!==null;){if(r=t[dt])return r;t=Fh(t)}return i}t=r,r=t.parentNode}return null}function Ki(t){if(t=t[dt]||t[Ji]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Ko(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Xi(t){var i=t[Ef];return i||(i=t[Ef]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(t){t[Yo]=!0}var xf=new Set,Af={};function _i(t,i){Qi(t,i),Qi(t+"Capture",i)}function Qi(t,i){for(Af[t]=i,t=0;t<i.length;t++)xf.add(i[t])}var iv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rf={},bf={};function ov(t){return Jl.call(bf,t)?!0:Jl.call(Rf,t)?!1:iv.test(t)?bf[t]=!0:(Rf[t]=!0,!1)}function or(t,i,r){if(ov(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var a=i.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function sr(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Sn(t,i,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+a)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mf(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sv(t,i,r){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(T){r=""+T,g.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function jl(t){if(!t._valueTracker){var i=Mf(t)?"checked":"value";t._valueTracker=sv(t,i,""+t[i])}}function Nf(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),a="";return t&&(a=Mf(t)?t.checked?"true":"false":t.value),t=a,t!==r?(i.setValue(t),!0):!1}function rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rv=/[\n"\\]/g;function Xt(t){return t.replace(rv,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ea(t,i,r,a,p,g,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Kt(i)):t.value!==""+Kt(i)&&(t.value=""+Kt(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?ta(t,T,Kt(i)):r!=null?ta(t,T,Kt(r)):a!=null&&t.removeAttribute("value"),p==null&&g!=null&&(t.defaultChecked=!!g),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Kt(C):t.removeAttribute("name")}function If(t,i,r,a,p,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){jl(t);return}r=r!=null?""+Kt(r):"",i=i!=null?""+Kt(i):r,C||i===t.value||(t.value=i),t.defaultValue=i}a=a??p,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=C?t.checked:!!a,t.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),jl(t)}function ta(t,i,r){i==="number"&&rr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function $i(t,i,r,a){if(t=t.options,i){i={};for(var p=0;p<r.length;p++)i["$"+r[p]]=!0;for(r=0;r<t.length;r++)p=i.hasOwnProperty("$"+t[r].value),t[r].selected!==p&&(t[r].selected=p),p&&a&&(t[r].defaultSelected=!0)}else{for(r=""+Kt(r),i=null,p=0;p<t.length;p++){if(t[p].value===r){t[p].selected=!0,a&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function Df(t,i,r){if(i!=null&&(i=""+Kt(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Kt(r):""}function Uf(t,i,r,a){if(i==null){if(a!=null){if(r!=null)throw Error(s(92));if(J(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),i=r}r=Kt(i),t.defaultValue=r,a=t.textContent,a===r&&a!==""&&a!==null&&(t.value=a),jl(t)}function Zi(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var lv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kf(t,i,r){var a=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?a?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":a?t.setProperty(i,r):typeof r!="number"||r===0||lv.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Pf(t,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,r!=null){for(var a in r)!r.hasOwnProperty(a)||i!=null&&i.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var p in i)a=i[p],i.hasOwnProperty(p)&&r[p]!==a&&kf(t,p,a)}else for(var g in i)i.hasOwnProperty(g)&&kf(t,g,i[g])}function na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var av=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lr(t){return uv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Cn(){}var ia=null;function oa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wi=null,ji=null;function wf(t){var i=Ki(t);if(i&&(t=i.stateNode)){var r=t[xt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ea(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Xt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var a=r[i];if(a!==t&&a.form===t.form){var p=a[xt]||null;if(!p)throw Error(s(90));ea(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<r.length;i++)a=r[i],a.form===t.form&&Nf(a)}break e;case"textarea":Df(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&$i(t,!!r.multiple,i,!1)}}}var sa=!1;function Lf(t,i,r){if(sa)return t(i,r);sa=!0;try{var a=t(i);return a}finally{if(sa=!1,(Wi!==null||ji!==null)&&(Xr(),Wi&&(i=Wi,t=ji,ji=Wi=null,wf(i),t)))for(i=0;i<t.length;i++)wf(t[i])}}function Xo(t,i){var r=t.stateNode;if(r===null)return null;var a=r[xt]||null;if(a===null)return null;r=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(En)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){ra=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{ra=!1}var Jn=null,la=null,ar=null;function Gf(){if(ar)return ar;var t,i=la,r=i.length,a,p="value"in Jn?Jn.value:Jn.textContent,g=p.length;for(t=0;t<r&&i[t]===p[t];t++);var T=r-t;for(a=1;a<=T&&i[r-a]===p[g-a];a++);return ar=p.slice(t,1<a?1-a:void 0)}function ur(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function cr(){return!0}function Hf(){return!1}function At(t){function i(r,a,p,g,T){this._reactName=r,this._targetInst=p,this.type=a,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(r=t[C],this[C]=r?r(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?cr:Hf,this.isPropagationStopped=Hf,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),i}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=At(Ti),$o=_({},Ti,{view:0,detail:0}),cv=At($o),aa,ua,Zo,dr=_({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zo&&(Zo&&t.type==="mousemove"?(aa=t.screenX-Zo.screenX,ua=t.screenY-Zo.screenY):ua=aa=0,Zo=t),aa)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),Vf=At(dr),fv=_({},dr,{dataTransfer:0}),dv=At(fv),pv=_({},$o,{relatedTarget:0}),ca=At(pv),hv=_({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),mv=At(hv),gv=_({},Ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yv=At(gv),vv=_({},Ti,{data:0}),Of=At(vv),_v={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cv(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Sv[t])?!!i[t]:!1}function fa(){return Cv}var Ev=_({},$o,{key:function(t){if(t.key){var i=_v[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xv=At(Ev),Av=_({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bf=At(Av),Rv=_({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),bv=At(Rv),Mv=_({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nv=At(Mv),Iv=_({},dr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dv=At(Iv),Uv=_({},Ti,{newState:0,oldState:0}),kv=At(Uv),Pv=[9,13,27,32],da=En&&"CompositionEvent"in window,Wo=null;En&&"documentMode"in document&&(Wo=document.documentMode);var wv=En&&"TextEvent"in window&&!Wo,zf=En&&(!da||Wo&&8<Wo&&11>=Wo),qf=" ",Ff=!1;function Jf(t,i){switch(t){case"keyup":return Pv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function Lv(t,i){switch(t){case"compositionend":return Yf(i);case"keypress":return i.which!==32?null:(Ff=!0,qf);case"textInput":return t=i.data,t===qf&&Ff?null:t;default:return null}}function Gv(t,i){if(eo)return t==="compositionend"||!da&&Jf(t,i)?(t=Gf(),ar=la=Jn=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zf&&i.locale!=="ko"?null:i.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Hv[t.type]:i==="textarea"}function Xf(t,i,r,a){Wi?ji?ji.push(a):ji=[a]:Wi=a,i=tl(i,"onChange"),0<i.length&&(r=new fr("onChange","change",null,r,a),t.push({event:r,listeners:i}))}var jo=null,es=null;function Vv(t){Ih(t,0)}function pr(t){var i=Ko(t);if(Nf(i))return t}function Qf(t,i){if(t==="change")return i}var $f=!1;if(En){var pa;if(En){var ha="oninput"in document;if(!ha){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),ha=typeof Zf.oninput=="function"}pa=ha}else pa=!1;$f=pa&&(!document.documentMode||9<document.documentMode)}function Wf(){jo&&(jo.detachEvent("onpropertychange",jf),es=jo=null)}function jf(t){if(t.propertyName==="value"&&pr(es)){var i=[];Xf(i,es,t,oa(t)),Lf(Vv,i)}}function Ov(t,i,r){t==="focusin"?(Wf(),jo=i,es=r,jo.attachEvent("onpropertychange",jf)):t==="focusout"&&Wf()}function Bv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pr(es)}function zv(t,i){if(t==="click")return pr(i)}function qv(t,i){if(t==="input"||t==="change")return pr(i)}function Fv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Vt=typeof Object.is=="function"?Object.is:Fv;function ts(t,i){if(Vt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),a=Object.keys(i);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var p=r[a];if(!Jl.call(i,p)||!Vt(t[p],i[p]))return!1}return!0}function ed(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function td(t,i){var r=ed(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=i&&a>=i)return{node:r,offset:i-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ed(r)}}function nd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?nd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function id(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=rr(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=rr(t.document)}return i}function ma(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Jv=En&&"documentMode"in document&&11>=document.documentMode,to=null,ga=null,ns=null,ya=!1;function od(t,i,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ya||to==null||to!==rr(a)||(a=to,"selectionStart"in a&&ma(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ns&&ts(ns,a)||(ns=a,a=tl(ga,"onSelect"),0<a.length&&(i=new fr("onSelect","select",null,i,r),t.push({event:i,listeners:a}),i.target=to)))}function Si(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var no={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},va={},sd={};En&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Ci(t){if(va[t])return va[t];if(!no[t])return t;var i=no[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in sd)return va[t]=i[r];return t}var rd=Ci("animationend"),ld=Ci("animationiteration"),ad=Ci("animationstart"),Yv=Ci("transitionrun"),Kv=Ci("transitionstart"),Xv=Ci("transitioncancel"),ud=Ci("transitionend"),cd=new Map,_a="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_a.push("scrollEnd");function rn(t,i){cd.set(t,i),_i(i,[t])}var hr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qt=[],io=0,Ta=0;function mr(){for(var t=io,i=Ta=io=0;i<t;){var r=Qt[i];Qt[i++]=null;var a=Qt[i];Qt[i++]=null;var p=Qt[i];Qt[i++]=null;var g=Qt[i];if(Qt[i++]=null,a!==null&&p!==null){var T=a.pending;T===null?p.next=p:(p.next=T.next,T.next=p),a.pending=p}g!==0&&fd(r,p,g)}}function gr(t,i,r,a){Qt[io++]=t,Qt[io++]=i,Qt[io++]=r,Qt[io++]=a,Ta|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Sa(t,i,r,a){return gr(t,i,r,a),yr(t)}function Ei(t,i){return gr(t,null,null,i),yr(t)}function fd(t,i,r){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r);for(var p=!1,g=t.return;g!==null;)g.childLanes|=r,a=g.alternate,a!==null&&(a.childLanes|=r),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(p=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,p&&i!==null&&(p=31-Ht(r),t=g.hiddenUpdates,a=t[p],a===null?t[p]=[i]:a.push(i),i.lane=r|536870912),g):null}function yr(t){if(50<xs)throw xs=0,Iu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var oo={};function Qv(t,i,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,i,r,a){return new Qv(t,i,r,a)}function Ca(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xn(t,i){var r=t.alternate;return r===null?(r=Ot(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function dd(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function vr(t,i,r,a,p,g){var T=0;if(a=t,typeof t=="function")Ca(t)&&(T=1);else if(typeof t=="string")T=eT(t,r,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ce:return t=Ot(31,r,i,p),t.elementType=ce,t.lanes=g,t;case B:return xi(r.children,p,g,i);case W:T=8,p|=24;break;case te:return t=Ot(12,r,i,p|2),t.elementType=te,t.lanes=g,t;case fe:return t=Ot(13,r,i,p),t.elementType=fe,t.lanes=g,t;case ae:return t=Ot(19,r,i,p),t.elementType=ae,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:T=10;break e;case ie:T=9;break e;case le:T=11;break e;case j:T=14;break e;case Te:T=16,a=null;break e}T=29,r=Error(s(130,t===null?"null":typeof t,"")),a=null}return i=Ot(T,r,i,p),i.elementType=t,i.type=a,i.lanes=g,i}function xi(t,i,r,a){return t=Ot(7,t,a,i),t.lanes=r,t}function Ea(t,i,r){return t=Ot(6,t,null,i),t.lanes=r,t}function pd(t){var i=Ot(18,null,null,0);return i.stateNode=t,i}function xa(t,i,r){return i=Ot(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var hd=new WeakMap;function $t(t,i){if(typeof t=="object"&&t!==null){var r=hd.get(t);return r!==void 0?r:(i={value:t,source:i,stack:pf(i)},hd.set(t,i),i)}return{value:t,source:i,stack:pf(i)}}var so=[],ro=0,_r=null,is=0,Zt=[],Wt=0,Yn=null,fn=1,dn="";function An(t,i){so[ro++]=is,so[ro++]=_r,_r=t,is=i}function md(t,i,r){Zt[Wt++]=fn,Zt[Wt++]=dn,Zt[Wt++]=Yn,Yn=t;var a=fn;t=dn;var p=32-Ht(a)-1;a&=~(1<<p),r+=1;var g=32-Ht(i)+p;if(30<g){var T=p-p%5;g=(a&(1<<T)-1).toString(32),a>>=T,p-=T,fn=1<<32-Ht(i)+p|r<<p|a,dn=g+t}else fn=1<<g|r<<p|a,dn=t}function Aa(t){t.return!==null&&(An(t,1),md(t,1,0))}function Ra(t){for(;t===_r;)_r=so[--ro],so[ro]=null,is=so[--ro],so[ro]=null;for(;t===Yn;)Yn=Zt[--Wt],Zt[Wt]=null,dn=Zt[--Wt],Zt[Wt]=null,fn=Zt[--Wt],Zt[Wt]=null}function gd(t,i){Zt[Wt++]=fn,Zt[Wt++]=dn,Zt[Wt++]=Yn,fn=i.id,dn=i.overflow,Yn=t}var pt=null,ze=null,be=!1,Kn=null,jt=!1,ba=Error(s(519));function Xn(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw os($t(i,t)),ba}function yd(t){var i=t.stateNode,r=t.type,a=t.memoizedProps;switch(i[dt]=t,i[xt]=a,r){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(r=0;r<Rs.length;r++)xe(Rs[r],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),If(i,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),Uf(i,a.value,a.defaultValue,a.children)}r=a.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||a.suppressHydrationWarning===!0||Ph(i.textContent,r)?(a.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),a.onScroll!=null&&xe("scroll",i),a.onScrollEnd!=null&&xe("scrollend",i),a.onClick!=null&&(i.onclick=Cn),i=!0):i=!1,i||Xn(t,!0)}function vd(t){for(pt=t.return;pt;)switch(pt.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:pt=pt.return}}function lo(t){if(t!==pt)return!1;if(!be)return vd(t),be=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ju(t.type,t.memoizedProps)),r=!r),r&&ze&&Xn(t),vd(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ze=qh(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ze=qh(t)}else i===27?(i=ze,ai(t.type)?(t=$u,$u=null,ze=t):ze=i):ze=pt?tn(t.stateNode.nextSibling):null;return!0}function Ai(){ze=pt=null,be=!1}function Ma(){var t=Kn;return t!==null&&(Nt===null?Nt=t:Nt.push.apply(Nt,t),Kn=null),t}function os(t){Kn===null?Kn=[t]:Kn.push(t)}var Na=E(null),Ri=null,Rn=null;function Qn(t,i,r){X(Na,i._currentValue),i._currentValue=r}function bn(t){t._currentValue=Na.current,D(Na)}function Ia(t,i,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),t===r)break;t=t.return}}function Da(t,i,r,a){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=p;for(var A=0;A<i.length;A++)if(C.context===i[A]){g.lanes|=r,C=g.alternate,C!==null&&(C.lanes|=r),Ia(g.return,r,t),a||(T=null);break e}g=C.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(s(341));T.lanes|=r,g=T.alternate,g!==null&&(g.lanes|=r),Ia(T,r,t),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===t){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function ao(t,i,r,a){t=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var C=p.type;Vt(p.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(p===De.current){if(T=p.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Ds):t=[Ds])}p=p.return}t!==null&&Da(i,t,r,a),i.flags|=262144}function Tr(t){for(t=t.firstContext;t!==null;){if(!Vt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function bi(t){Ri=t,Rn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ht(t){return _d(Ri,t)}function Sr(t,i){return Ri===null&&bi(t),_d(t,i)}function _d(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Rn===null){if(t===null)throw Error(s(308));Rn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Rn=Rn.next=i;return r}var $v=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,a){t.push(a)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},Zv=n.unstable_scheduleCallback,Wv=n.unstable_NormalPriority,et={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ua(){return{controller:new $v,data:new Map,refCount:0}}function ss(t){t.refCount--,t.refCount===0&&Zv(Wv,function(){t.controller.abort()})}var rs=null,ka=0,uo=0,co=null;function jv(t,i){if(rs===null){var r=rs=[];ka=0,uo=Lu(),co={status:"pending",value:void 0,then:function(a){r.push(a)}}}return ka++,i.then(Td,Td),i}function Td(){if(--ka===0&&rs!==null){co!==null&&(co.status="fulfilled");var t=rs;rs=null,uo=0,co=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function e_(t,i){var r=[],a={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return t.then(function(){a.status="fulfilled",a.value=i;for(var p=0;p<r.length;p++)(0,r[p])(i)},function(p){for(a.status="rejected",a.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),a}var Sd=b.S;b.S=function(t,i){oh=Lt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jv(t,i),Sd!==null&&Sd(t,i)};var Mi=E(null);function Pa(){var t=Mi.current;return t!==null?t:Be.pooledCache}function Cr(t,i){i===null?X(Mi,Mi.current):X(Mi,i.pool)}function Cd(){var t=Pa();return t===null?null:{parent:et._currentValue,pool:t}}var fo=Error(s(460)),wa=Error(s(474)),Er=Error(s(542)),xr={then:function(){}};function Ed(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xd(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(Cn,Cn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Rd(t),t;default:if(typeof i.status=="string")i.then(Cn,Cn);else{if(t=Be,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(a){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=a}},function(a){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=a}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Rd(t),t}throw Ii=i,fo}}function Ni(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ii=r,fo):r}}var Ii=null;function Ad(){if(Ii===null)throw Error(s(459));var t=Ii;return Ii=null,t}function Rd(t){if(t===fo||t===Er)throw Error(s(483))}var po=null,ls=0;function Ar(t){var i=ls;return ls+=1,po===null&&(po=[]),xd(po,t,i)}function as(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Rr(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function bd(t){function i(U,N){if(t){var P=U.deletions;P===null?(U.deletions=[N],U.flags|=16):P.push(N)}}function r(U,N){if(!t)return null;for(;N!==null;)i(U,N),N=N.sibling;return null}function a(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function p(U,N){return U=xn(U,N),U.index=0,U.sibling=null,U}function g(U,N,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<N?(U.flags|=67108866,N):P):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function T(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function C(U,N,P,q){return N===null||N.tag!==6?(N=Ea(P,U.mode,q),N.return=U,N):(N=p(N,P),N.return=U,N)}function A(U,N,P,q){var pe=P.type;return pe===B?z(U,N,P.props.children,q,P.key):N!==null&&(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Te&&Ni(pe)===N.type)?(N=p(N,P.props),as(N,P),N.return=U,N):(N=vr(P.type,P.key,P.props,null,U.mode,q),as(N,P),N.return=U,N)}function w(U,N,P,q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=xa(P,U.mode,q),N.return=U,N):(N=p(N,P.children||[]),N.return=U,N)}function z(U,N,P,q,pe){return N===null||N.tag!==7?(N=xi(P,U.mode,q,pe),N.return=U,N):(N=p(N,P),N.return=U,N)}function K(U,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ea(""+N,U.mode,P),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return P=vr(N.type,N.key,N.props,null,U.mode,P),as(P,N),P.return=U,P;case O:return N=xa(N,U.mode,P),N.return=U,N;case Te:return N=Ni(N),K(U,N,P)}if(J(N)||ve(N))return N=xi(N,U.mode,P,null),N.return=U,N;if(typeof N.then=="function")return K(U,Ar(N),P);if(N.$$typeof===F)return K(U,Sr(U,N),P);Rr(U,N)}return null}function G(U,N,P,q){var pe=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:C(U,N,""+P,q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return P.key===pe?A(U,N,P,q):null;case O:return P.key===pe?w(U,N,P,q):null;case Te:return P=Ni(P),G(U,N,P,q)}if(J(P)||ve(P))return pe!==null?null:z(U,N,P,q,null);if(typeof P.then=="function")return G(U,N,Ar(P),q);if(P.$$typeof===F)return G(U,N,Sr(U,P),q);Rr(U,P)}return null}function V(U,N,P,q,pe){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return U=U.get(P)||null,C(N,U,""+q,pe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return U=U.get(q.key===null?P:q.key)||null,A(N,U,q,pe);case O:return U=U.get(q.key===null?P:q.key)||null,w(N,U,q,pe);case Te:return q=Ni(q),V(U,N,P,q,pe)}if(J(q)||ve(q))return U=U.get(P)||null,z(N,U,q,pe,null);if(typeof q.then=="function")return V(U,N,P,Ar(q),pe);if(q.$$typeof===F)return V(U,N,P,Sr(N,q),pe);Rr(N,q)}return null}function oe(U,N,P,q){for(var pe=null,Ue=null,ue=N,Se=N=0,Re=null;ue!==null&&Se<P.length;Se++){ue.index>Se?(Re=ue,ue=null):Re=ue.sibling;var ke=G(U,ue,P[Se],q);if(ke===null){ue===null&&(ue=Re);break}t&&ue&&ke.alternate===null&&i(U,ue),N=g(ke,N,Se),Ue===null?pe=ke:Ue.sibling=ke,Ue=ke,ue=Re}if(Se===P.length)return r(U,ue),be&&An(U,Se),pe;if(ue===null){for(;Se<P.length;Se++)ue=K(U,P[Se],q),ue!==null&&(N=g(ue,N,Se),Ue===null?pe=ue:Ue.sibling=ue,Ue=ue);return be&&An(U,Se),pe}for(ue=a(ue);Se<P.length;Se++)Re=V(ue,U,Se,P[Se],q),Re!==null&&(t&&Re.alternate!==null&&ue.delete(Re.key===null?Se:Re.key),N=g(Re,N,Se),Ue===null?pe=Re:Ue.sibling=Re,Ue=Re);return t&&ue.forEach(function(pi){return i(U,pi)}),be&&An(U,Se),pe}function me(U,N,P,q){if(P==null)throw Error(s(151));for(var pe=null,Ue=null,ue=N,Se=N=0,Re=null,ke=P.next();ue!==null&&!ke.done;Se++,ke=P.next()){ue.index>Se?(Re=ue,ue=null):Re=ue.sibling;var pi=G(U,ue,ke.value,q);if(pi===null){ue===null&&(ue=Re);break}t&&ue&&pi.alternate===null&&i(U,ue),N=g(pi,N,Se),Ue===null?pe=pi:Ue.sibling=pi,Ue=pi,ue=Re}if(ke.done)return r(U,ue),be&&An(U,Se),pe;if(ue===null){for(;!ke.done;Se++,ke=P.next())ke=K(U,ke.value,q),ke!==null&&(N=g(ke,N,Se),Ue===null?pe=ke:Ue.sibling=ke,Ue=ke);return be&&An(U,Se),pe}for(ue=a(ue);!ke.done;Se++,ke=P.next())ke=V(ue,U,Se,ke.value,q),ke!==null&&(t&&ke.alternate!==null&&ue.delete(ke.key===null?Se:ke.key),N=g(ke,N,Se),Ue===null?pe=ke:Ue.sibling=ke,Ue=ke);return t&&ue.forEach(function(fT){return i(U,fT)}),be&&An(U,Se),pe}function Oe(U,N,P,q){if(typeof P=="object"&&P!==null&&P.type===B&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case x:e:{for(var pe=P.key;N!==null;){if(N.key===pe){if(pe=P.type,pe===B){if(N.tag===7){r(U,N.sibling),q=p(N,P.props.children),q.return=U,U=q;break e}}else if(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Te&&Ni(pe)===N.type){r(U,N.sibling),q=p(N,P.props),as(q,P),q.return=U,U=q;break e}r(U,N);break}else i(U,N);N=N.sibling}P.type===B?(q=xi(P.props.children,U.mode,q,P.key),q.return=U,U=q):(q=vr(P.type,P.key,P.props,null,U.mode,q),as(q,P),q.return=U,U=q)}return T(U);case O:e:{for(pe=P.key;N!==null;){if(N.key===pe)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){r(U,N.sibling),q=p(N,P.children||[]),q.return=U,U=q;break e}else{r(U,N);break}else i(U,N);N=N.sibling}q=xa(P,U.mode,q),q.return=U,U=q}return T(U);case Te:return P=Ni(P),Oe(U,N,P,q)}if(J(P))return oe(U,N,P,q);if(ve(P)){if(pe=ve(P),typeof pe!="function")throw Error(s(150));return P=pe.call(P),me(U,N,P,q)}if(typeof P.then=="function")return Oe(U,N,Ar(P),q);if(P.$$typeof===F)return Oe(U,N,Sr(U,P),q);Rr(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(r(U,N.sibling),q=p(N,P),q.return=U,U=q):(r(U,N),q=Ea(P,U.mode,q),q.return=U,U=q),T(U)):r(U,N)}return function(U,N,P,q){try{ls=0;var pe=Oe(U,N,P,q);return po=null,pe}catch(ue){if(ue===fo||ue===Er)throw ue;var Ue=Ot(29,ue,null,U.mode);return Ue.lanes=q,Ue.return=U,Ue}finally{}}}var Di=bd(!0),Md=bd(!1),$n=!1;function La(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ga(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wn(t,i,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(we&2)!==0){var p=a.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i,i=yr(t),fd(t,null,r),i}return gr(t,a,i,r),yr(t)}function us(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,_f(t,r)}}function Ha(t,i){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var p=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,r=r.next}while(r!==null);g===null?p=g=i:g=g.next=i}else p=g=i;r={baseState:a.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:a.shared,callbacks:a.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Va=!1;function cs(){if(Va){var t=co;if(t!==null)throw t}}function fs(t,i,r,a){Va=!1;var p=t.updateQueue;$n=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var A=C,w=A.next;A.next=null,T===null?g=w:T.next=w,T=A;var z=t.alternate;z!==null&&(z=z.updateQueue,C=z.lastBaseUpdate,C!==T&&(C===null?z.firstBaseUpdate=w:C.next=w,z.lastBaseUpdate=A))}if(g!==null){var K=p.baseState;T=0,z=w=A=null,C=g;do{var G=C.lane&-536870913,V=G!==C.lane;if(V?(Ae&G)===G:(a&G)===G){G!==0&&G===uo&&(Va=!0),z!==null&&(z=z.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var oe=t,me=C;G=i;var Oe=r;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){K=oe.call(Oe,K,G);break e}K=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,G=typeof oe=="function"?oe.call(Oe,K,G):oe,G==null)break e;K=_({},K,G);break e;case 2:$n=!0}}G=C.callback,G!==null&&(t.flags|=64,V&&(t.flags|=8192),V=p.callbacks,V===null?p.callbacks=[G]:V.push(G))}else V={lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},z===null?(w=z=V,A=K):z=z.next=V,T|=G;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;V=C,C=V.next,V.next=null,p.lastBaseUpdate=V,p.shared.pending=null}}while(!0);z===null&&(A=K),p.baseState=A,p.firstBaseUpdate=w,p.lastBaseUpdate=z,g===null&&(p.shared.lanes=0),ii|=T,t.lanes=T,t.memoizedState=K}}function Nd(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Id(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Nd(r[t],i)}var ho=E(null),br=E(0);function Dd(t,i){t=Ln,X(br,t),X(ho,i),Ln=t|i.baseLanes}function Oa(){X(br,Ln),X(ho,ho.current)}function Ba(){Ln=br.current,D(ho),D(br)}var Bt=E(null),en=null;function jn(t){var i=t.alternate;X(We,We.current&1),X(Bt,t),en===null&&(i===null||ho.current!==null||i.memoizedState!==null)&&(en=t)}function za(t){X(We,We.current),X(Bt,t),en===null&&(en=t)}function Ud(t){t.tag===22?(X(We,We.current),X(Bt,t),en===null&&(en=t)):ei()}function ei(){X(We,We.current),X(Bt,Bt.current)}function zt(t){D(Bt),en===t&&(en=null),D(We)}var We=E(0);function Mr(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Xu(r)||Qu(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Mn=0,_e=null,He=null,tt=null,Nr=!1,mo=!1,Ui=!1,Ir=0,ds=0,go=null,t_=0;function Ke(){throw Error(s(321))}function qa(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!Vt(t[r],i[r]))return!1;return!0}function Fa(t,i,r,a,p,g){return Mn=g,_e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=t===null||t.memoizedState===null?mp:su,Ui=!1,g=r(a,p),Ui=!1,mo&&(g=Pd(i,r,a,p)),kd(t),g}function kd(t){b.H=ms;var i=He!==null&&He.next!==null;if(Mn=0,tt=He=_e=null,Nr=!1,ds=0,go=null,i)throw Error(s(300));t===null||nt||(t=t.dependencies,t!==null&&Tr(t)&&(nt=!0))}function Pd(t,i,r,a){_e=t;var p=0;do{if(mo&&(go=null),ds=0,mo=!1,25<=p)throw Error(s(301));if(p+=1,tt=He=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}b.H=gp,g=i(r,a)}while(mo);return g}function n_(){var t=b.H,i=t.useState()[0];return i=typeof i.then=="function"?ps(i):i,t=t.useState()[0],(He!==null?He.memoizedState:null)!==t&&(_e.flags|=1024),i}function Ja(){var t=Ir!==0;return Ir=0,t}function Ya(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Ka(t){if(Nr){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Nr=!1}Mn=0,tt=He=_e=null,mo=!1,ds=Ir=0,go=null}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?_e.memoizedState=tt=t:tt=tt.next=t,tt}function je(){if(He===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var i=tt===null?_e.memoizedState:tt.next;if(i!==null)tt=i,He=t;else{if(t===null)throw _e.alternate===null?Error(s(467)):Error(s(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},tt===null?_e.memoizedState=tt=t:tt=tt.next=t}return tt}function Dr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ps(t){var i=ds;return ds+=1,go===null&&(go=[]),t=xd(go,t,i),i=_e,(tt===null?i.memoizedState:tt.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?mp:su),t}function Ur(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ps(t);if(t.$$typeof===F)return ht(t)}throw Error(s(438,String(t)))}function Xa(t){var i=null,r=_e.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var a=_e.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(i={data:a.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Dr(),_e.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),a=0;a<t;a++)r[a]=ge;return i.index++,r}function Nn(t,i){return typeof i=="function"?i(t):i}function kr(t){var i=je();return Qa(i,He,t)}function Qa(t,i,r){var a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var p=t.baseQueue,g=a.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}i.baseQueue=p=g,a.pending=null}if(g=t.baseState,p===null)t.memoizedState=g;else{i=p.next;var C=T=null,A=null,w=i,z=!1;do{var K=w.lane&-536870913;if(K!==w.lane?(Ae&K)===K:(Mn&K)===K){var G=w.revertLane;if(G===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),K===uo&&(z=!0);else if((Mn&G)===G){w=w.next,G===uo&&(z=!0);continue}else K={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(C=A=K,T=g):A=A.next=K,_e.lanes|=G,ii|=G;K=w.action,Ui&&r(g,K),g=w.hasEagerState?w.eagerState:r(g,K)}else G={lane:K,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(C=A=G,T=g):A=A.next=G,_e.lanes|=K,ii|=K;w=w.next}while(w!==null&&w!==i);if(A===null?T=g:A.next=C,!Vt(g,t.memoizedState)&&(nt=!0,z&&(r=co,r!==null)))throw r;t.memoizedState=g,t.baseState=T,t.baseQueue=A,a.lastRenderedState=g}return p===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function $a(t){var i=je(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var a=r.dispatch,p=r.pending,g=i.memoizedState;if(p!==null){r.pending=null;var T=p=p.next;do g=t(g,T.action),T=T.next;while(T!==p);Vt(g,i.memoizedState)||(nt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),r.lastRenderedState=g}return[g,a]}function wd(t,i,r){var a=_e,p=je(),g=be;if(g){if(r===void 0)throw Error(s(407));r=r()}else r=i();var T=!Vt((He||p).memoizedState,r);if(T&&(p.memoizedState=r,nt=!0),p=p.queue,ja(Hd.bind(null,a,p,t),[t]),p.getSnapshot!==i||T||tt!==null&&tt.memoizedState.tag&1){if(a.flags|=2048,yo(9,{destroy:void 0},Gd.bind(null,a,p,r,i),null),Be===null)throw Error(s(349));g||(Mn&127)!==0||Ld(a,i,r)}return r}function Ld(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=_e.updateQueue,i===null?(i=Dr(),_e.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function Gd(t,i,r,a){i.value=r,i.getSnapshot=a,Vd(i)&&Od(t)}function Hd(t,i,r){return r(function(){Vd(i)&&Od(t)})}function Vd(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!Vt(t,r)}catch{return!0}}function Od(t){var i=Ei(t,2);i!==null&&It(i,t,2)}function Za(t){var i=St();if(typeof t=="function"){var r=t;if(t=r(),Ui){qn(!0);try{r()}finally{qn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:t},i}function Bd(t,i,r,a){return t.baseState=r,Qa(t,He,typeof a=="function"?a:Nn)}function i_(t,i,r,a,p){if(Lr(t))throw Error(s(485));if(t=i.action,t!==null){var g={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};b.T!==null?r(!0):g.isTransition=!1,a(g),r=i.pending,r===null?(g.next=i.pending=g,zd(i,g)):(g.next=r.next,i.pending=r.next=g)}}function zd(t,i){var r=i.action,a=i.payload,p=t.state;if(i.isTransition){var g=b.T,T={};b.T=T;try{var C=r(p,a),A=b.S;A!==null&&A(T,C),qd(t,i,C)}catch(w){Wa(t,i,w)}finally{g!==null&&T.types!==null&&(g.types=T.types),b.T=g}}else try{g=r(p,a),qd(t,i,g)}catch(w){Wa(t,i,w)}}function qd(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(a){Fd(t,i,a)},function(a){return Wa(t,i,a)}):Fd(t,i,r)}function Fd(t,i,r){i.status="fulfilled",i.value=r,Jd(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,zd(t,r)))}function Wa(t,i,r){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do i.status="rejected",i.reason=r,Jd(i),i=i.next;while(i!==a)}t.action=null}function Jd(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Yd(t,i){return i}function Kd(t,i){if(be){var r=Be.formState;if(r!==null){e:{var a=_e;if(be){if(ze){t:{for(var p=ze,g=jt;p.nodeType!==8;){if(!g){p=null;break t}if(p=tn(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){ze=tn(p.nextSibling),a=p.data==="F!";break e}}Xn(a)}a=!1}a&&(i=r[0])}}return r=St(),r.memoizedState=r.baseState=i,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:i},r.queue=a,r=dp.bind(null,_e,a),a.dispatch=r,a=Za(!1),g=ou.bind(null,_e,!1,a.queue),a=St(),p={state:i,dispatch:null,action:t,pending:null},a.queue=p,r=i_.bind(null,_e,p,g,r),p.dispatch=r,a.memoizedState=t,[i,r,!1]}function Xd(t){var i=je();return Qd(i,He,t)}function Qd(t,i,r){if(i=Qa(t,i,Yd)[0],t=kr(Nn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var a=ps(i)}catch(T){throw T===fo?Er:T}else a=i;i=je();var p=i.queue,g=p.dispatch;return r!==i.memoizedState&&(_e.flags|=2048,yo(9,{destroy:void 0},o_.bind(null,p,r),null)),[a,g,t]}function o_(t,i){t.action=i}function $d(t){var i=je(),r=He;if(r!==null)return Qd(i,r,t);je(),i=i.memoizedState,r=je();var a=r.queue.dispatch;return r.memoizedState=t,[i,a,!1]}function yo(t,i,r,a){return t={tag:t,create:r,deps:a,inst:i,next:null},i=_e.updateQueue,i===null&&(i=Dr(),_e.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,i.lastEffect=t),t}function Zd(){return je().memoizedState}function Pr(t,i,r,a){var p=St();_e.flags|=t,p.memoizedState=yo(1|i,{destroy:void 0},r,a===void 0?null:a)}function wr(t,i,r,a){var p=je();a=a===void 0?null:a;var g=p.memoizedState.inst;He!==null&&a!==null&&qa(a,He.memoizedState.deps)?p.memoizedState=yo(i,g,r,a):(_e.flags|=t,p.memoizedState=yo(1|i,g,r,a))}function Wd(t,i){Pr(8390656,8,t,i)}function ja(t,i){wr(2048,8,t,i)}function s_(t){_e.flags|=4;var i=_e.updateQueue;if(i===null)i=Dr(),_e.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function jd(t){var i=je().memoizedState;return s_({ref:i,nextImpl:t}),function(){if((we&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ep(t,i){return wr(4,2,t,i)}function tp(t,i){return wr(4,4,t,i)}function np(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ip(t,i,r){r=r!=null?r.concat([t]):null,wr(4,4,np.bind(null,i,t),r)}function eu(){}function op(t,i){var r=je();i=i===void 0?null:i;var a=r.memoizedState;return i!==null&&qa(i,a[1])?a[0]:(r.memoizedState=[t,i],t)}function sp(t,i){var r=je();i=i===void 0?null:i;var a=r.memoizedState;if(i!==null&&qa(i,a[1]))return a[0];if(a=t(),Ui){qn(!0);try{t()}finally{qn(!1)}}return r.memoizedState=[a,i],a}function tu(t,i,r){return r===void 0||(Mn&1073741824)!==0&&(Ae&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=rh(),_e.lanes|=t,ii|=t,r)}function rp(t,i,r,a){return Vt(r,i)?r:ho.current!==null?(t=tu(t,r,a),Vt(t,i)||(nt=!0),t):(Mn&42)===0||(Mn&1073741824)!==0&&(Ae&261930)===0?(nt=!0,t.memoizedState=r):(t=rh(),_e.lanes|=t,ii|=t,i)}function lp(t,i,r,a,p){var g=I.p;I.p=g!==0&&8>g?g:8;var T=b.T,C={};b.T=C,ou(t,!1,i,r);try{var A=p(),w=b.S;if(w!==null&&w(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=e_(A,a);hs(t,i,z,Jt(t))}else hs(t,i,a,Jt(t))}catch(K){hs(t,i,{then:function(){},status:"rejected",reason:K},Jt())}finally{I.p=g,T!==null&&C.types!==null&&(T.types=C.types),b.T=T}}function r_(){}function nu(t,i,r,a){if(t.tag!==5)throw Error(s(476));var p=ap(t).queue;lp(t,p,i,Q,r===null?r_:function(){return up(t),r(a)})}function ap(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:Q},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function up(t){var i=ap(t);i.next===null&&(i=t.alternate.memoizedState),hs(t,i.next.queue,{},Jt())}function iu(){return ht(Ds)}function cp(){return je().memoizedState}function fp(){return je().memoizedState}function l_(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Jt();t=Zn(r);var a=Wn(i,t,r);a!==null&&(It(a,i,r),us(a,i,r)),i={cache:Ua()},t.payload=i;return}i=i.return}}function a_(t,i,r){var a=Jt();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Lr(t)?pp(i,r):(r=Sa(t,i,r,a),r!==null&&(It(r,t,a),hp(r,i,a)))}function dp(t,i,r){var a=Jt();hs(t,i,r,a)}function hs(t,i,r,a){var p={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lr(t))pp(i,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,C=g(T,r);if(p.hasEagerState=!0,p.eagerState=C,Vt(C,T))return gr(t,i,p,0),Be===null&&mr(),!1}catch{}finally{}if(r=Sa(t,i,p,a),r!==null)return It(r,t,a),hp(r,i,a),!0}return!1}function ou(t,i,r,a){if(a={lane:2,revertLane:Lu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lr(t)){if(i)throw Error(s(479))}else i=Sa(t,r,a,2),i!==null&&It(i,t,2)}function Lr(t){var i=t.alternate;return t===_e||i!==null&&i===_e}function pp(t,i){mo=Nr=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function hp(t,i,r){if((r&4194048)!==0){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,_f(t,r)}}var ms={readContext:ht,use:Ur,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};ms.useEffectEvent=Ke;var mp={readContext:ht,use:Ur,useCallback:function(t,i){return St().memoizedState=[t,i===void 0?null:i],t},useContext:ht,useEffect:Wd,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,Pr(4194308,4,np.bind(null,i,t),r)},useLayoutEffect:function(t,i){return Pr(4194308,4,t,i)},useInsertionEffect:function(t,i){Pr(4,2,t,i)},useMemo:function(t,i){var r=St();i=i===void 0?null:i;var a=t();if(Ui){qn(!0);try{t()}finally{qn(!1)}}return r.memoizedState=[a,i],a},useReducer:function(t,i,r){var a=St();if(r!==void 0){var p=r(i);if(Ui){qn(!0);try{r(i)}finally{qn(!1)}}}else p=i;return a.memoizedState=a.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},a.queue=t,t=t.dispatch=a_.bind(null,_e,t),[a.memoizedState,t]},useRef:function(t){var i=St();return t={current:t},i.memoizedState=t},useState:function(t){t=Za(t);var i=t.queue,r=dp.bind(null,_e,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:eu,useDeferredValue:function(t,i){var r=St();return tu(r,t,i)},useTransition:function(){var t=Za(!1);return t=lp.bind(null,_e,t.queue,!0,!1),St().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var a=_e,p=St();if(be){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),Be===null)throw Error(s(349));(Ae&127)!==0||Ld(a,i,r)}p.memoizedState=r;var g={value:r,getSnapshot:i};return p.queue=g,Wd(Hd.bind(null,a,g,t),[t]),a.flags|=2048,yo(9,{destroy:void 0},Gd.bind(null,a,g,r,i),null),r},useId:function(){var t=St(),i=Be.identifierPrefix;if(be){var r=dn,a=fn;r=(a&~(1<<32-Ht(a)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Ir++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=t_++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:iu,useFormState:Kd,useActionState:Kd,useOptimistic:function(t){var i=St();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=ou.bind(null,_e,!0,r),r.dispatch=i,[t,i]},useMemoCache:Xa,useCacheRefresh:function(){return St().memoizedState=l_.bind(null,_e)},useEffectEvent:function(t){var i=St(),r={impl:t};return i.memoizedState=r,function(){if((we&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},su={readContext:ht,use:Ur,useCallback:op,useContext:ht,useEffect:ja,useImperativeHandle:ip,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:kr,useRef:Zd,useState:function(){return kr(Nn)},useDebugValue:eu,useDeferredValue:function(t,i){var r=je();return rp(r,He.memoizedState,t,i)},useTransition:function(){var t=kr(Nn)[0],i=je().memoizedState;return[typeof t=="boolean"?t:ps(t),i]},useSyncExternalStore:wd,useId:cp,useHostTransitionStatus:iu,useFormState:Xd,useActionState:Xd,useOptimistic:function(t,i){var r=je();return Bd(r,He,t,i)},useMemoCache:Xa,useCacheRefresh:fp};su.useEffectEvent=jd;var gp={readContext:ht,use:Ur,useCallback:op,useContext:ht,useEffect:ja,useImperativeHandle:ip,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:$a,useRef:Zd,useState:function(){return $a(Nn)},useDebugValue:eu,useDeferredValue:function(t,i){var r=je();return He===null?tu(r,t,i):rp(r,He.memoizedState,t,i)},useTransition:function(){var t=$a(Nn)[0],i=je().memoizedState;return[typeof t=="boolean"?t:ps(t),i]},useSyncExternalStore:wd,useId:cp,useHostTransitionStatus:iu,useFormState:$d,useActionState:$d,useOptimistic:function(t,i){var r=je();return He!==null?Bd(r,He,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Xa,useCacheRefresh:fp};gp.useEffectEvent=jd;function ru(t,i,r,a){i=t.memoizedState,r=r(a,i),r=r==null?i:_({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var lu={enqueueSetState:function(t,i,r){t=t._reactInternals;var a=Jt(),p=Zn(a);p.payload=i,r!=null&&(p.callback=r),i=Wn(t,p,a),i!==null&&(It(i,t,a),us(i,t,a))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var a=Jt(),p=Zn(a);p.tag=1,p.payload=i,r!=null&&(p.callback=r),i=Wn(t,p,a),i!==null&&(It(i,t,a),us(i,t,a))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Jt(),a=Zn(r);a.tag=2,i!=null&&(a.callback=i),i=Wn(t,a,r),i!==null&&(It(i,t,r),us(i,t,r))}};function yp(t,i,r,a,p,g,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,g,T):i.prototype&&i.prototype.isPureReactComponent?!ts(r,a)||!ts(p,g):!0}function vp(t,i,r,a){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,a),i.state!==t&&lu.enqueueReplaceState(i,i.state,null)}function ki(t,i){var r=i;if("ref"in i){r={};for(var a in i)a!=="ref"&&(r[a]=i[a])}if(t=t.defaultProps){r===i&&(r=_({},r));for(var p in t)r[p]===void 0&&(r[p]=t[p])}return r}function _p(t){hr(t)}function Tp(t){console.error(t)}function Sp(t){hr(t)}function Gr(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(a){setTimeout(function(){throw a})}}function Cp(t,i,r){try{var a=t.onCaughtError;a(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function au(t,i,r){return r=Zn(r),r.tag=3,r.payload={element:null},r.callback=function(){Gr(t,i)},r}function Ep(t){return t=Zn(t),t.tag=3,t}function xp(t,i,r,a){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;t.payload=function(){return p(g)},t.callback=function(){Cp(i,r,a)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Cp(i,r,a),typeof p!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})})}function u_(t,i,r,a,p){if(r.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(i=r.alternate,i!==null&&ao(i,r,p,!0),r=Bt.current,r!==null){switch(r.tag){case 31:case 13:return en===null?Qr():r.alternate===null&&Xe===0&&(Xe=3),r.flags&=-257,r.flags|=65536,r.lanes=p,a===xr?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([a]):i.add(a),ku(t,a,p)),!1;case 22:return r.flags|=65536,a===xr?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([a]):r.add(a)),ku(t,a,p)),!1}throw Error(s(435,r.tag))}return ku(t,a,p),Qr(),!1}if(be)return i=Bt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,a!==ba&&(t=Error(s(422),{cause:a}),os($t(t,r)))):(a!==ba&&(i=Error(s(423),{cause:a}),os($t(i,r))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,a=$t(a,r),p=au(t.stateNode,a,p),Ha(t,p),Xe!==4&&(Xe=2)),!1;var g=Error(s(520),{cause:a});if(g=$t(g,r),Es===null?Es=[g]:Es.push(g),Xe!==4&&(Xe=2),i===null)return!0;a=$t(a,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=p&-p,r.lanes|=t,t=au(r.stateNode,a,t),Ha(r,t),!1;case 1:if(i=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(oi===null||!oi.has(g))))return r.flags|=65536,p&=-p,r.lanes|=p,p=Ep(p),xp(p,t,r,a),Ha(r,p),!1}r=r.return}while(r!==null);return!1}var uu=Error(s(461)),nt=!1;function mt(t,i,r,a){i.child=t===null?Md(i,null,r,a):Di(i,t.child,r,a)}function Ap(t,i,r,a,p){r=r.render;var g=i.ref;if("ref"in a){var T={};for(var C in a)C!=="ref"&&(T[C]=a[C])}else T=a;return bi(i),a=Fa(t,i,r,T,g,p),C=Ja(),t!==null&&!nt?(Ya(t,i,p),In(t,i,p)):(be&&C&&Aa(i),i.flags|=1,mt(t,i,a,p),i.child)}function Rp(t,i,r,a,p){if(t===null){var g=r.type;return typeof g=="function"&&!Ca(g)&&g.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=g,bp(t,i,g,a,p)):(t=vr(r.type,null,a,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!yu(t,p)){var T=g.memoizedProps;if(r=r.compare,r=r!==null?r:ts,r(T,a)&&t.ref===i.ref)return In(t,i,p)}return i.flags|=1,t=xn(g,a),t.ref=i.ref,t.return=i,i.child=t}function bp(t,i,r,a,p){if(t!==null){var g=t.memoizedProps;if(ts(g,a)&&t.ref===i.ref)if(nt=!1,i.pendingProps=a=g,yu(t,p))(t.flags&131072)!==0&&(nt=!0);else return i.lanes=t.lanes,In(t,i,p)}return cu(t,i,r,a,p)}function Mp(t,i,r,a){var p=a.children,g=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,t!==null){for(a=i.child=t.child,p=0;a!==null;)p=p|a.lanes|a.childLanes,a=a.sibling;a=p&~g}else a=0,i.child=null;return Np(t,i,g,r,a)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cr(i,g!==null?g.cachePool:null),g!==null?Dd(i,g):Oa(),Ud(i);else return a=i.lanes=536870912,Np(t,i,g!==null?g.baseLanes|r:r,r,a)}else g!==null?(Cr(i,g.cachePool),Dd(i,g),ei(),i.memoizedState=null):(t!==null&&Cr(i,null),Oa(),ei());return mt(t,i,p,r),i.child}function gs(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Np(t,i,r,a,p){var g=Pa();return g=g===null?null:{parent:et._currentValue,pool:g},i.memoizedState={baseLanes:r,cachePool:g},t!==null&&Cr(i,null),Oa(),Ud(i),t!==null&&ao(t,i,a,!0),i.childLanes=p,null}function Hr(t,i){return i=Or({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ip(t,i,r){return Di(i,t.child,null,r),t=Hr(i,i.pendingProps),t.flags|=2,zt(i),i.memoizedState=null,t}function c_(t,i,r){var a=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(be){if(a.mode==="hidden")return t=Hr(i,a),i.lanes=536870912,gs(null,t);if(za(i),(t=ze)?(t=zh(t,jt),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Yn!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},r=pd(t),r.return=i,i.child=r,pt=i,ze=null)):t=null,t===null)throw Xn(i);return i.lanes=536870912,null}return Hr(i,a)}var g=t.memoizedState;if(g!==null){var T=g.dehydrated;if(za(i),p)if(i.flags&256)i.flags&=-257,i=Ip(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(nt||ao(t,i,r,!1),p=(r&t.childLanes)!==0,nt||p){if(a=Be,a!==null&&(T=Tf(a,r),T!==0&&T!==g.retryLane))throw g.retryLane=T,Ei(t,T),It(a,t,T),uu;Qr(),i=Ip(t,i,r)}else t=g.treeContext,ze=tn(T.nextSibling),pt=i,be=!0,Kn=null,jt=!1,t!==null&&gd(i,t),i=Hr(i,a),i.flags|=4096;return i}return t=xn(t.child,{mode:a.mode,children:a.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Vr(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function cu(t,i,r,a,p){return bi(i),r=Fa(t,i,r,a,void 0,p),a=Ja(),t!==null&&!nt?(Ya(t,i,p),In(t,i,p)):(be&&a&&Aa(i),i.flags|=1,mt(t,i,r,p),i.child)}function Dp(t,i,r,a,p,g){return bi(i),i.updateQueue=null,r=Pd(i,a,r,p),kd(t),a=Ja(),t!==null&&!nt?(Ya(t,i,g),In(t,i,g)):(be&&a&&Aa(i),i.flags|=1,mt(t,i,r,g),i.child)}function Up(t,i,r,a,p){if(bi(i),i.stateNode===null){var g=oo,T=r.contextType;typeof T=="object"&&T!==null&&(g=ht(T)),g=new r(a,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=lu,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=a,g.state=i.memoizedState,g.refs={},La(i),T=r.contextType,g.context=typeof T=="object"&&T!==null?ht(T):oo,g.state=i.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(ru(i,r,T,a),g.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&lu.enqueueReplaceState(g,g.state,null),fs(i,a,g,p),cs(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!0}else if(t===null){g=i.stateNode;var C=i.memoizedProps,A=ki(r,C);g.props=A;var w=g.context,z=r.contextType;T=oo,typeof z=="object"&&z!==null&&(T=ht(z));var K=r.getDerivedStateFromProps;z=typeof K=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||w!==T)&&vp(i,g,a,T),$n=!1;var G=i.memoizedState;g.state=G,fs(i,a,g,p),cs(),w=i.memoizedState,C||G!==w||$n?(typeof K=="function"&&(ru(i,r,K,a),w=i.memoizedState),(A=$n||yp(i,r,A,a,G,w,T))?(z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=w),g.props=a,g.state=w,g.context=T,a=A):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{g=i.stateNode,Ga(t,i),T=i.memoizedProps,z=ki(r,T),g.props=z,K=i.pendingProps,G=g.context,w=r.contextType,A=oo,typeof w=="object"&&w!==null&&(A=ht(w)),C=r.getDerivedStateFromProps,(w=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==K||G!==A)&&vp(i,g,a,A),$n=!1,G=i.memoizedState,g.state=G,fs(i,a,g,p),cs();var V=i.memoizedState;T!==K||G!==V||$n||t!==null&&t.dependencies!==null&&Tr(t.dependencies)?(typeof C=="function"&&(ru(i,r,C,a),V=i.memoizedState),(z=$n||yp(i,r,z,a,G,V,A)||t!==null&&t.dependencies!==null&&Tr(t.dependencies))?(w||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,V,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,V,A)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=V),g.props=a,g.state=V,g.context=A,a=z):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),a=!1)}return g=a,Vr(t,i),a=(i.flags&128)!==0,g||a?(g=i.stateNode,r=a&&typeof r.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&a?(i.child=Di(i,t.child,null,p),i.child=Di(i,null,r,p)):mt(t,i,r,p),i.memoizedState=g.state,t=i.child):t=In(t,i,p),t}function kp(t,i,r,a){return Ai(),i.flags|=256,mt(t,i,r,a),i.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function du(t){return{baseLanes:t,cachePool:Cd()}}function pu(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Ft),t}function Pp(t,i,r){var a=i.pendingProps,p=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=t!==null&&t.memoizedState===null?!1:(We.current&2)!==0),T&&(p=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(be){if(p?jn(i):ei(),(t=ze)?(t=zh(t,jt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Yn!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},r=pd(t),r.return=i,i.child=r,pt=i,ze=null)):t=null,t===null)throw Xn(i);return Qu(t)?i.lanes=32:i.lanes=536870912,null}var C=a.children;return a=a.fallback,p?(ei(),p=i.mode,C=Or({mode:"hidden",children:C},p),a=xi(a,p,r,null),C.return=i,a.return=i,C.sibling=a,i.child=C,a=i.child,a.memoizedState=du(r),a.childLanes=pu(t,T,r),i.memoizedState=fu,gs(null,a)):(jn(i),hu(i,C))}var A=t.memoizedState;if(A!==null&&(C=A.dehydrated,C!==null)){if(g)i.flags&256?(jn(i),i.flags&=-257,i=mu(t,i,r)):i.memoizedState!==null?(ei(),i.child=t.child,i.flags|=128,i=null):(ei(),C=a.fallback,p=i.mode,a=Or({mode:"visible",children:a.children},p),C=xi(C,p,r,null),C.flags|=2,a.return=i,C.return=i,a.sibling=C,i.child=a,Di(i,t.child,null,r),a=i.child,a.memoizedState=du(r),a.childLanes=pu(t,T,r),i.memoizedState=fu,i=gs(null,a));else if(jn(i),Qu(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var w=T.dgst;T=w,a=Error(s(419)),a.stack="",a.digest=T,os({value:a,source:null,stack:null}),i=mu(t,i,r)}else if(nt||ao(t,i,r,!1),T=(r&t.childLanes)!==0,nt||T){if(T=Be,T!==null&&(a=Tf(T,r),a!==0&&a!==A.retryLane))throw A.retryLane=a,Ei(t,a),It(T,t,a),uu;Xu(C)||Qr(),i=mu(t,i,r)}else Xu(C)?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,ze=tn(C.nextSibling),pt=i,be=!0,Kn=null,jt=!1,t!==null&&gd(i,t),i=hu(i,a.children),i.flags|=4096);return i}return p?(ei(),C=a.fallback,p=i.mode,A=t.child,w=A.sibling,a=xn(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,w!==null?C=xn(w,C):(C=xi(C,p,r,null),C.flags|=2),C.return=i,a.return=i,a.sibling=C,i.child=a,gs(null,a),a=i.child,C=t.child.memoizedState,C===null?C=du(r):(p=C.cachePool,p!==null?(A=et._currentValue,p=p.parent!==A?{parent:A,pool:A}:p):p=Cd(),C={baseLanes:C.baseLanes|r,cachePool:p}),a.memoizedState=C,a.childLanes=pu(t,T,r),i.memoizedState=fu,gs(t.child,a)):(jn(i),r=t.child,t=r.sibling,r=xn(r,{mode:"visible",children:a.children}),r.return=i,r.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=r,i.memoizedState=null,r)}function hu(t,i){return i=Or({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Or(t,i){return t=Ot(22,t,null,i),t.lanes=0,t}function mu(t,i,r){return Di(i,t.child,null,r),t=hu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function wp(t,i,r){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i),Ia(t.return,i,r)}function gu(t,i,r,a,p,g){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:p,treeForkCount:g}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=r,T.tailMode=p,T.treeForkCount=g)}function Lp(t,i,r){var a=i.pendingProps,p=a.revealOrder,g=a.tail;a=a.children;var T=We.current,C=(T&2)!==0;if(C?(T=T&1|2,i.flags|=128):T&=1,X(We,T),mt(t,i,a,r),a=be?is:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wp(t,r,i);else if(t.tag===19)wp(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(r=i.child,p=null;r!==null;)t=r.alternate,t!==null&&Mr(t)===null&&(p=r),r=r.sibling;r=p,r===null?(p=i.child,i.child=null):(p=r.sibling,r.sibling=null),gu(i,!1,p,r,g,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&Mr(t)===null){i.child=p;break}t=p.sibling,p.sibling=r,r=p,p=t}gu(i,!0,r,null,g,a);break;case"together":gu(i,!1,null,null,void 0,a);break;default:i.memoizedState=null}return i.child}function In(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),ii|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(ao(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,r=xn(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=xn(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function yu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Tr(t)))}function f_(t,i,r){switch(i.tag){case 3:Tt(i,i.stateNode.containerInfo),Qn(i,et,t.memoizedState.cache),Ai();break;case 27:case 5:zo(i);break;case 4:Tt(i,i.stateNode.containerInfo);break;case 10:Qn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,za(i),null;break;case 13:var a=i.memoizedState;if(a!==null)return a.dehydrated!==null?(jn(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Pp(t,i,r):(jn(i),t=In(t,i,r),t!==null?t.sibling:null);jn(i);break;case 19:var p=(t.flags&128)!==0;if(a=(r&i.childLanes)!==0,a||(ao(t,i,r,!1),a=(r&i.childLanes)!==0),p){if(a)return Lp(t,i,r);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),X(We,We.current),a)break;return null;case 22:return i.lanes=0,Mp(t,i,r,i.pendingProps);case 24:Qn(i,et,t.memoizedState.cache)}return In(t,i,r)}function Gp(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)nt=!0;else{if(!yu(t,r)&&(i.flags&128)===0)return nt=!1,f_(t,i,r);nt=(t.flags&131072)!==0}else nt=!1,be&&(i.flags&1048576)!==0&&md(i,is,i.index);switch(i.lanes=0,i.tag){case 16:e:{var a=i.pendingProps;if(t=Ni(i.elementType),i.type=t,typeof t=="function")Ca(t)?(a=ki(t,a),i.tag=1,i=Up(null,i,t,a,r)):(i.tag=0,i=cu(null,i,t,a,r));else{if(t!=null){var p=t.$$typeof;if(p===le){i.tag=11,i=Ap(null,i,t,a,r);break e}else if(p===j){i.tag=14,i=Rp(null,i,t,a,r);break e}}throw i=$(t)||t,Error(s(306,i,""))}}return i;case 0:return cu(t,i,i.type,i.pendingProps,r);case 1:return a=i.type,p=ki(a,i.pendingProps),Up(t,i,a,p,r);case 3:e:{if(Tt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));a=i.pendingProps;var g=i.memoizedState;p=g.element,Ga(t,i),fs(i,a,null,r);var T=i.memoizedState;if(a=T.cache,Qn(i,et,a),a!==g.cache&&Da(i,[et],r,!0),cs(),a=T.element,g.isDehydrated)if(g={element:a,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=kp(t,i,a,r);break e}else if(a!==p){p=$t(Error(s(424)),i),os(p),i=kp(t,i,a,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ze=tn(t.firstChild),pt=i,be=!0,Kn=null,jt=!0,r=Md(i,null,a,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ai(),a===p){i=In(t,i,r);break e}mt(t,i,a,r)}i=i.child}return i;case 26:return Vr(t,i),t===null?(r=Xh(i.type,null,i.pendingProps,null))?i.memoizedState=r:be||(r=i.type,t=i.pendingProps,a=nl(de.current).createElement(r),a[dt]=i,a[xt]=t,gt(a,r,t),at(a),i.stateNode=a):i.memoizedState=Xh(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return zo(i),t===null&&be&&(a=i.stateNode=Jh(i.type,i.pendingProps,de.current),pt=i,jt=!0,p=ze,ai(i.type)?($u=p,ze=tn(a.firstChild)):ze=p),mt(t,i,i.pendingProps.children,r),Vr(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&be&&((p=a=ze)&&(a=B_(a,i.type,i.pendingProps,jt),a!==null?(i.stateNode=a,pt=i,ze=tn(a.firstChild),jt=!1,p=!0):p=!1),p||Xn(i)),zo(i),p=i.type,g=i.pendingProps,T=t!==null?t.memoizedProps:null,a=g.children,Ju(p,g)?a=null:T!==null&&Ju(p,T)&&(i.flags|=32),i.memoizedState!==null&&(p=Fa(t,i,n_,null,null,r),Ds._currentValue=p),Vr(t,i),mt(t,i,a,r),i.child;case 6:return t===null&&be&&((t=r=ze)&&(r=z_(r,i.pendingProps,jt),r!==null?(i.stateNode=r,pt=i,ze=null,t=!0):t=!1),t||Xn(i)),null;case 13:return Pp(t,i,r);case 4:return Tt(i,i.stateNode.containerInfo),a=i.pendingProps,t===null?i.child=Di(i,null,a,r):mt(t,i,a,r),i.child;case 11:return Ap(t,i,i.type,i.pendingProps,r);case 7:return mt(t,i,i.pendingProps,r),i.child;case 8:return mt(t,i,i.pendingProps.children,r),i.child;case 12:return mt(t,i,i.pendingProps.children,r),i.child;case 10:return a=i.pendingProps,Qn(i,i.type,a.value),mt(t,i,a.children,r),i.child;case 9:return p=i.type._context,a=i.pendingProps.children,bi(i),p=ht(p),a=a(p),i.flags|=1,mt(t,i,a,r),i.child;case 14:return Rp(t,i,i.type,i.pendingProps,r);case 15:return bp(t,i,i.type,i.pendingProps,r);case 19:return Lp(t,i,r);case 31:return c_(t,i,r);case 22:return Mp(t,i,r,i.pendingProps);case 24:return bi(i),a=ht(et),t===null?(p=Pa(),p===null&&(p=Be,g=Ua(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=r),p=g),i.memoizedState={parent:a,cache:p},La(i),Qn(i,et,p)):((t.lanes&r)!==0&&(Ga(t,i),fs(i,null,null,r),cs()),p=t.memoizedState,g=i.memoizedState,p.parent!==a?(p={parent:a,cache:a},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Qn(i,et,a)):(a=g.cache,Qn(i,et,a),a!==p.cache&&Da(i,[et],r,!0))),mt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Dn(t){t.flags|=4}function vu(t,i,r,a,p){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(ch())t.flags|=8192;else throw Ii=xr,wa}else t.flags&=-16777217}function Hp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jh(i))if(ch())t.flags|=8192;else throw Ii=xr,wa}function Br(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yf():536870912,t.lanes|=i,So|=i)}function ys(t,i){if(!be)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function qe(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(i)for(var p=t.child;p!==null;)r|=p.lanes|p.childLanes,a|=p.subtreeFlags&65011712,a|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)r|=p.lanes|p.childLanes,a|=p.subtreeFlags,a|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=a,t.childLanes=r,i}function d_(t,i,r){var a=i.pendingProps;switch(Ra(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(i),null;case 1:return qe(i),null;case 3:return r=i.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),bn(et),Ze(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lo(i)?Dn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ma())),qe(i),null;case 26:var p=i.type,g=i.memoizedState;return t===null?(Dn(i),g!==null?(qe(i),Hp(i,g)):(qe(i),vu(i,p,null,a,r))):g?g!==t.memoizedState?(Dn(i),qe(i),Hp(i,g)):(qe(i),i.flags&=-16777217):(t=t.memoizedProps,t!==a&&Dn(i),qe(i),vu(i,p,t,a,r)),null;case 27:if(Ws(i),r=de.current,p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&Dn(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return qe(i),null}t=Z.current,lo(i)?yd(i):(t=Jh(p,a,r),i.stateNode=t,Dn(i))}return qe(i),null;case 5:if(Ws(i),p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&Dn(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return qe(i),null}if(g=Z.current,lo(i))yd(i);else{var T=nl(de.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?g.multiple=!0:a.size&&(g.size=a.size);break;default:g=typeof a.is=="string"?T.createElement(p,{is:a.is}):T.createElement(p)}}g[dt]=i,g[xt]=a;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=g;e:switch(gt(g,p,a),p){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Dn(i)}}return qe(i),vu(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==a&&Dn(i);else{if(typeof a!="string"&&i.stateNode===null)throw Error(s(166));if(t=de.current,lo(i)){if(t=i.stateNode,r=i.memoizedProps,a=null,p=pt,p!==null)switch(p.tag){case 27:case 5:a=p.memoizedProps}t[dt]=i,t=!!(t.nodeValue===r||a!==null&&a.suppressHydrationWarning===!0||Ph(t.nodeValue,r)),t||Xn(i,!0)}else t=nl(t).createTextNode(a),t[dt]=i,i.stateNode=t}return qe(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(a=lo(i),r!==null){if(t===null){if(!a)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[dt]=i}else Ai(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qe(i),t=!1}else r=Ma(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(zt(i),i):(zt(i),null);if((i.flags&128)!==0)throw Error(s(558))}return qe(i),null;case 13:if(a=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=lo(i),a!==null&&a.dehydrated!==null){if(t===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[dt]=i}else Ai(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qe(i),p=!1}else p=Ma(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(zt(i),i):(zt(i),null)}return zt(i),(i.flags&128)!==0?(i.lanes=r,i):(r=a!==null,t=t!==null&&t.memoizedState!==null,r&&(a=i.child,p=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(p=a.alternate.memoizedState.cachePool.pool),g=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==p&&(a.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),Br(i,i.updateQueue),qe(i),null);case 4:return Ze(),t===null&&Ou(i.stateNode.containerInfo),qe(i),null;case 10:return bn(i.type),qe(i),null;case 19:if(D(We),a=i.memoizedState,a===null)return qe(i),null;if(p=(i.flags&128)!==0,g=a.rendering,g===null)if(p)ys(a,!1);else{if(Xe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=Mr(t),g!==null){for(i.flags|=128,ys(a,!1),t=g.updateQueue,i.updateQueue=t,Br(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)dd(r,t),r=r.sibling;return X(We,We.current&1|2),be&&An(i,a.treeForkCount),i.child}t=t.sibling}a.tail!==null&&Lt()>Yr&&(i.flags|=128,p=!0,ys(a,!1),i.lanes=4194304)}else{if(!p)if(t=Mr(g),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,Br(i,t),ys(a,!0),a.tail===null&&a.tailMode==="hidden"&&!g.alternate&&!be)return qe(i),null}else 2*Lt()-a.renderingStartTime>Yr&&r!==536870912&&(i.flags|=128,p=!0,ys(a,!1),i.lanes=4194304);a.isBackwards?(g.sibling=i.child,i.child=g):(t=a.last,t!==null?t.sibling=g:i.child=g,a.last=g)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Lt(),t.sibling=null,r=We.current,X(We,p?r&1|2:r&1),be&&An(i,a.treeForkCount),t):(qe(i),null);case 22:case 23:return zt(i),Ba(),a=i.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(i.flags|=8192):a&&(i.flags|=8192),a?(r&536870912)!==0&&(i.flags&128)===0&&(qe(i),i.subtreeFlags&6&&(i.flags|=8192)):qe(i),r=i.updateQueue,r!==null&&Br(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048),t!==null&&D(Mi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),bn(et),qe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function p_(t,i){switch(Ra(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return bn(et),Ze(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ws(i),null;case 31:if(i.memoizedState!==null){if(zt(i),i.alternate===null)throw Error(s(340));Ai()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(zt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ai()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return D(We),null;case 4:return Ze(),null;case 10:return bn(i.type),null;case 22:case 23:return zt(i),Ba(),t!==null&&D(Mi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return bn(et),null;case 25:return null;default:return null}}function Vp(t,i){switch(Ra(i),i.tag){case 3:bn(et),Ze();break;case 26:case 27:case 5:Ws(i);break;case 4:Ze();break;case 31:i.memoizedState!==null&&zt(i);break;case 13:zt(i);break;case 19:D(We);break;case 10:bn(i.type);break;case 22:case 23:zt(i),Ba(),t!==null&&D(Mi);break;case 24:bn(et)}}function vs(t,i){try{var r=i.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var p=a.next;r=p;do{if((r.tag&t)===t){a=void 0;var g=r.create,T=r.inst;a=g(),T.destroy=a}r=r.next}while(r!==p)}}catch(C){Ge(i,i.return,C)}}function ti(t,i,r){try{var a=i.updateQueue,p=a!==null?a.lastEffect:null;if(p!==null){var g=p.next;a=g;do{if((a.tag&t)===t){var T=a.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,p=i;var A=r,w=C;try{w()}catch(z){Ge(p,A,z)}}}a=a.next}while(a!==g)}}catch(z){Ge(i,i.return,z)}}function Op(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{Id(i,r)}catch(a){Ge(t,t.return,a)}}}function Bp(t,i,r){r.props=ki(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(a){Ge(t,i,a)}}function _s(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof r=="function"?t.refCleanup=r(a):r.current=a}}catch(p){Ge(t,i,p)}}function pn(t,i){var r=t.ref,a=t.refCleanup;if(r!==null)if(typeof a=="function")try{a()}catch(p){Ge(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){Ge(t,i,p)}else r.current=null}function zp(t){var i=t.type,r=t.memoizedProps,a=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(p){Ge(t,t.return,p)}}function _u(t,i,r){try{var a=t.stateNode;w_(a,t.type,r,i),a[xt]=i}catch(p){Ge(t,t.return,p)}}function qp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ai(t.type)||t.tag===4}function Tu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ai(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Su(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Cn));else if(a!==4&&(a===27&&ai(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(Su(t,i,r),t=t.sibling;t!==null;)Su(t,i,r),t=t.sibling}function zr(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(a!==4&&(a===27&&ai(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(zr(t,i,r),t=t.sibling;t!==null;)zr(t,i,r),t=t.sibling}function Fp(t){var i=t.stateNode,r=t.memoizedProps;try{for(var a=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);gt(i,a,r),i[dt]=t,i[xt]=r}catch(g){Ge(t,t.return,g)}}var Un=!1,it=!1,Cu=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,ut=null;function h_(t,i){if(t=t.containerInfo,qu=ul,t=id(t),ma(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var p=a.anchorOffset,g=a.focusNode;a=a.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var T=0,C=-1,A=-1,w=0,z=0,K=t,G=null;t:for(;;){for(var V;K!==r||p!==0&&K.nodeType!==3||(C=T+p),K!==g||a!==0&&K.nodeType!==3||(A=T+a),K.nodeType===3&&(T+=K.nodeValue.length),(V=K.firstChild)!==null;)G=K,K=V;for(;;){if(K===t)break t;if(G===r&&++w===p&&(C=T),G===g&&++z===a&&(A=T),(V=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=V}r=C===-1||A===-1?null:{start:C,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fu={focusedElem:t,selectionRange:r},ul=!1,ut=i;ut!==null;)if(i=ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,ut=t;else for(;ut!==null;){switch(i=ut,g=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)p=t[r],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,r=i,p=g.memoizedProps,g=g.memoizedState,a=r.stateNode;try{var oe=ki(r.type,p);t=a.getSnapshotBeforeUpdate(oe,g),a.__reactInternalSnapshotBeforeUpdate=t}catch(me){Ge(r,r.return,me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Ku(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ku(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,ut=t;break}ut=i.return}}function Yp(t,i,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:Pn(t,r),a&4&&vs(5,r);break;case 1:if(Pn(t,r),a&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(T){Ge(r,r.return,T)}else{var p=ki(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ge(r,r.return,T)}}a&64&&Op(r),a&512&&_s(r,r.return);break;case 3:if(Pn(t,r),a&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Id(t,i)}catch(T){Ge(r,r.return,T)}}break;case 27:i===null&&a&4&&Fp(r);case 26:case 5:Pn(t,r),i===null&&a&4&&zp(r),a&512&&_s(r,r.return);break;case 12:Pn(t,r);break;case 31:Pn(t,r),a&4&&Qp(t,r);break;case 13:Pn(t,r),a&4&&$p(t,r),a&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=E_.bind(null,r),q_(t,r))));break;case 22:if(a=r.memoizedState!==null||Un,!a){i=i!==null&&i.memoizedState!==null||it,p=Un;var g=it;Un=a,(it=i)&&!g?wn(t,r,(r.subtreeFlags&8772)!==0):Pn(t,r),Un=p,it=g}break;case 30:break;default:Pn(t,r)}}function Kp(t){var i=t.alternate;i!==null&&(t.alternate=null,Kp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Wl(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ye=null,Rt=!1;function kn(t,i,r){for(r=r.child;r!==null;)Xp(t,i,r),r=r.sibling}function Xp(t,i,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(qo,r)}catch{}switch(r.tag){case 26:it||pn(r,i),kn(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:it||pn(r,i);var a=Ye,p=Rt;ai(r.type)&&(Ye=r.stateNode,Rt=!1),kn(t,i,r),Ms(r.stateNode),Ye=a,Rt=p;break;case 5:it||pn(r,i);case 6:if(a=Ye,p=Rt,Ye=null,kn(t,i,r),Ye=a,Rt=p,Ye!==null)if(Rt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(r.stateNode)}catch(g){Ge(r,i,g)}else try{Ye.removeChild(r.stateNode)}catch(g){Ge(r,i,g)}break;case 18:Ye!==null&&(Rt?(t=Ye,Oh(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),No(t)):Oh(Ye,r.stateNode));break;case 4:a=Ye,p=Rt,Ye=r.stateNode.containerInfo,Rt=!0,kn(t,i,r),Ye=a,Rt=p;break;case 0:case 11:case 14:case 15:ti(2,r,i),it||ti(4,r,i),kn(t,i,r);break;case 1:it||(pn(r,i),a=r.stateNode,typeof a.componentWillUnmount=="function"&&Bp(r,i,a)),kn(t,i,r);break;case 21:kn(t,i,r);break;case 22:it=(a=it)||r.memoizedState!==null,kn(t,i,r),it=a;break;default:kn(t,i,r)}}function Qp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{No(t)}catch(r){Ge(i,i.return,r)}}}function $p(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{No(t)}catch(r){Ge(i,i.return,r)}}function m_(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Jp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Jp),i;default:throw Error(s(435,t.tag))}}function qr(t,i){var r=m_(t);i.forEach(function(a){if(!r.has(a)){r.add(a);var p=x_.bind(null,t,a);a.then(p,p)}})}function bt(t,i){var r=i.deletions;if(r!==null)for(var a=0;a<r.length;a++){var p=r[a],g=t,T=i,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(ai(C.type)){Ye=C.stateNode,Rt=!1;break e}break;case 5:Ye=C.stateNode,Rt=!1;break e;case 3:case 4:Ye=C.stateNode.containerInfo,Rt=!0;break e}C=C.return}if(Ye===null)throw Error(s(160));Xp(g,T,p),Ye=null,Rt=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Zp(i,t),i=i.sibling}var ln=null;function Zp(t,i){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bt(i,t),Mt(t),a&4&&(ti(3,t,t.return),vs(3,t),ti(5,t,t.return));break;case 1:bt(i,t),Mt(t),a&512&&(it||r===null||pn(r,r.return)),a&64&&Un&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?a:r.concat(a))));break;case 26:var p=ln;if(bt(i,t),Mt(t),a&512&&(it||r===null||pn(r,r.return)),a&4){var g=r!==null?r.memoizedState:null;if(a=t.memoizedState,r===null)if(a===null)if(t.stateNode===null){e:{a=t.type,r=t.memoizedProps,p=p.ownerDocument||p;t:switch(a){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Yo]||g[dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(a),p.head.insertBefore(g,p.querySelector("head > title"))),gt(g,a,r),g[dt]=t,at(g),a=g;break e;case"link":var T=Zh("link","href",p).get(a+(r.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(C,1);break t}}g=p.createElement(a),gt(g,a,r),p.head.appendChild(g);break;case"meta":if(T=Zh("meta","content",p).get(a+(r.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(C,1);break t}}g=p.createElement(a),gt(g,a,r),p.head.appendChild(g);break;default:throw Error(s(468,a))}g[dt]=t,at(g),a=g}t.stateNode=a}else Wh(p,t.type,t.stateNode);else t.stateNode=$h(p,a,t.memoizedProps);else g!==a?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,a===null?Wh(p,t.type,t.stateNode):$h(p,a,t.memoizedProps)):a===null&&t.stateNode!==null&&_u(t,t.memoizedProps,r.memoizedProps)}break;case 27:bt(i,t),Mt(t),a&512&&(it||r===null||pn(r,r.return)),r!==null&&a&4&&_u(t,t.memoizedProps,r.memoizedProps);break;case 5:if(bt(i,t),Mt(t),a&512&&(it||r===null||pn(r,r.return)),t.flags&32){p=t.stateNode;try{Zi(p,"")}catch(oe){Ge(t,t.return,oe)}}a&4&&t.stateNode!=null&&(p=t.memoizedProps,_u(t,p,r!==null?r.memoizedProps:p)),a&1024&&(Cu=!0);break;case 6:if(bt(i,t),Mt(t),a&4){if(t.stateNode===null)throw Error(s(162));a=t.memoizedProps,r=t.stateNode;try{r.nodeValue=a}catch(oe){Ge(t,t.return,oe)}}break;case 3:if(sl=null,p=ln,ln=il(i.containerInfo),bt(i,t),ln=p,Mt(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{No(i.containerInfo)}catch(oe){Ge(t,t.return,oe)}Cu&&(Cu=!1,Wp(t));break;case 4:a=ln,ln=il(t.stateNode.containerInfo),bt(i,t),Mt(t),ln=a;break;case 12:bt(i,t),Mt(t);break;case 31:bt(i,t),Mt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,qr(t,a)));break;case 13:bt(i,t),Mt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Jr=Lt()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,qr(t,a)));break;case 22:p=t.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,w=Un,z=it;if(Un=w||p,it=z||A,bt(i,t),it=z,Un=w,Mt(t),a&8192)e:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(r===null||A||Un||it||Pi(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){A=r=i;try{if(g=A.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=A.stateNode;var K=A.memoizedProps.style,G=K!=null&&K.hasOwnProperty("display")?K.display:null;C.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(oe){Ge(A,A.return,oe)}}}else if(i.tag===6){if(r===null){A=i;try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(oe){Ge(A,A.return,oe)}}}else if(i.tag===18){if(r===null){A=i;try{var V=A.stateNode;p?Bh(V,!0):Bh(A.stateNode,!1)}catch(oe){Ge(A,A.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}a&4&&(a=t.updateQueue,a!==null&&(r=a.retryQueue,r!==null&&(a.retryQueue=null,qr(t,r))));break;case 19:bt(i,t),Mt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,qr(t,a)));break;case 30:break;case 21:break;default:bt(i,t),Mt(t)}}function Mt(t){var i=t.flags;if(i&2){try{for(var r,a=t.return;a!==null;){if(qp(a)){r=a;break}a=a.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var p=r.stateNode,g=Tu(t);zr(t,g,p);break;case 5:var T=r.stateNode;r.flags&32&&(Zi(T,""),r.flags&=-33);var C=Tu(t);zr(t,C,T);break;case 3:case 4:var A=r.stateNode.containerInfo,w=Tu(t);Su(t,w,A);break;default:throw Error(s(161))}}catch(z){Ge(t,t.return,z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Wp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Wp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Pn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yp(t,i.alternate,i),i=i.sibling}function Pi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ti(4,i,i.return),Pi(i);break;case 1:pn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Bp(i,i.return,r),Pi(i);break;case 27:Ms(i.stateNode);case 26:case 5:pn(i,i.return),Pi(i);break;case 22:i.memoizedState===null&&Pi(i);break;case 30:Pi(i);break;default:Pi(i)}t=t.sibling}}function wn(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var a=i.alternate,p=t,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:wn(p,g,r),vs(4,g);break;case 1:if(wn(p,g,r),a=g,p=a.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(w){Ge(a,a.return,w)}if(a=g,p=a.updateQueue,p!==null){var C=a.stateNode;try{var A=p.shared.hiddenCallbacks;if(A!==null)for(p.shared.hiddenCallbacks=null,p=0;p<A.length;p++)Nd(A[p],C)}catch(w){Ge(a,a.return,w)}}r&&T&64&&Op(g),_s(g,g.return);break;case 27:Fp(g);case 26:case 5:wn(p,g,r),r&&a===null&&T&4&&zp(g),_s(g,g.return);break;case 12:wn(p,g,r);break;case 31:wn(p,g,r),r&&T&4&&Qp(p,g);break;case 13:wn(p,g,r),r&&T&4&&$p(p,g);break;case 22:g.memoizedState===null&&wn(p,g,r),_s(g,g.return);break;case 30:break;default:wn(p,g,r)}i=i.sibling}}function Eu(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ss(r))}function xu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ss(t))}function an(t,i,r,a){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jp(t,i,r,a),i=i.sibling}function jp(t,i,r,a){var p=i.flags;switch(i.tag){case 0:case 11:case 15:an(t,i,r,a),p&2048&&vs(9,i);break;case 1:an(t,i,r,a);break;case 3:an(t,i,r,a),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ss(t)));break;case 12:if(p&2048){an(t,i,r,a),t=i.stateNode;try{var g=i.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Ge(i,i.return,A)}}else an(t,i,r,a);break;case 31:an(t,i,r,a);break;case 13:an(t,i,r,a);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?an(t,i,r,a):Ts(t,i):g._visibility&2?an(t,i,r,a):(g._visibility|=2,vo(t,i,r,a,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Eu(T,i);break;case 24:an(t,i,r,a),p&2048&&xu(i.alternate,i);break;default:an(t,i,r,a)}}function vo(t,i,r,a,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=t,T=i,C=r,A=a,w=T.flags;switch(T.tag){case 0:case 11:case 15:vo(g,T,C,A,p),vs(8,T);break;case 23:break;case 22:var z=T.stateNode;T.memoizedState!==null?z._visibility&2?vo(g,T,C,A,p):Ts(g,T):(z._visibility|=2,vo(g,T,C,A,p)),p&&w&2048&&Eu(T.alternate,T);break;case 24:vo(g,T,C,A,p),p&&w&2048&&xu(T.alternate,T);break;default:vo(g,T,C,A,p)}i=i.sibling}}function Ts(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,a=i,p=a.flags;switch(a.tag){case 22:Ts(r,a),p&2048&&Eu(a.alternate,a);break;case 24:Ts(r,a),p&2048&&xu(a.alternate,a);break;default:Ts(r,a)}i=i.sibling}}var Ss=8192;function _o(t,i,r){if(t.subtreeFlags&Ss)for(t=t.child;t!==null;)eh(t,i,r),t=t.sibling}function eh(t,i,r){switch(t.tag){case 26:_o(t,i,r),t.flags&Ss&&t.memoizedState!==null&&tT(r,ln,t.memoizedState,t.memoizedProps);break;case 5:_o(t,i,r);break;case 3:case 4:var a=ln;ln=il(t.stateNode.containerInfo),_o(t,i,r),ln=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Ss,Ss=16777216,_o(t,i,r),Ss=a):_o(t,i,r));break;default:_o(t,i,r)}}function th(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Cs(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];ut=a,ih(a,t)}th(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nh(t),t=t.sibling}function nh(t){switch(t.tag){case 0:case 11:case 15:Cs(t),t.flags&2048&&ti(9,t,t.return);break;case 3:Cs(t);break;case 12:Cs(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Fr(t)):Cs(t);break;default:Cs(t)}}function Fr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];ut=a,ih(a,t)}th(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ti(8,i,i.return),Fr(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Fr(i));break;default:Fr(i)}t=t.sibling}}function ih(t,i){for(;ut!==null;){var r=ut;switch(r.tag){case 0:case 11:case 15:ti(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var a=r.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ss(r.memoizedState.cache)}if(a=r.child,a!==null)a.return=r,ut=a;else e:for(r=t;ut!==null;){a=ut;var p=a.sibling,g=a.return;if(Kp(a),a===r){ut=null;break e}if(p!==null){p.return=g,ut=p;break e}ut=g}}}var g_={getCacheForType:function(t){var i=ht(et),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return ht(et).controller.signal}},y_=typeof WeakMap=="function"?WeakMap:Map,we=0,Be=null,Ee=null,Ae=0,Le=0,qt=null,ni=!1,To=!1,Au=!1,Ln=0,Xe=0,ii=0,wi=0,Ru=0,Ft=0,So=0,Es=null,Nt=null,bu=!1,Jr=0,oh=0,Yr=1/0,Kr=null,oi=null,st=0,si=null,Co=null,Gn=0,Mu=0,Nu=null,sh=null,xs=0,Iu=null;function Jt(){return(we&2)!==0&&Ae!==0?Ae&-Ae:b.T!==null?Lu():Sf()}function rh(){if(Ft===0)if((Ae&536870912)===0||be){var t=tr;tr<<=1,(tr&3932160)===0&&(tr=262144),Ft=t}else Ft=536870912;return t=Bt.current,t!==null&&(t.flags|=32),Ft}function It(t,i,r){(t===Be&&(Le===2||Le===9)||t.cancelPendingCommit!==null)&&(Eo(t,0),ri(t,Ae,Ft,!1)),Jo(t,r),((we&2)===0||t!==Be)&&(t===Be&&((we&2)===0&&(wi|=r),Xe===4&&ri(t,Ae,Ft,!1)),hn(t))}function lh(t,i,r){if((we&6)!==0)throw Error(s(327));var a=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Fo(t,i),p=a?T_(t,i):Uu(t,i,!0),g=a;do{if(p===0){To&&!a&&ri(t,i,0,!1);break}else{if(r=t.current.alternate,g&&!v_(r)){p=Uu(t,i,!1),g=!1;continue}if(p===2){if(g=i,t.errorRecoveryDisabledLanes&g)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var C=t;p=Es;var A=C.current.memoizedState.isDehydrated;if(A&&(Eo(C,T).flags|=256),T=Uu(C,T,!1),T!==2){if(Au&&!A){C.errorRecoveryDisabledLanes|=g,wi|=g,p=4;break e}g=Nt,Nt=p,g!==null&&(Nt===null?Nt=g:Nt.push.apply(Nt,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Eo(t,0),ri(t,i,0,!0);break}e:{switch(a=t,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ri(a,i,Ft,!ni);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=Jr+300-Lt(),10<p)){if(ri(a,i,Ft,!ni),ir(a,0,!0)!==0)break e;Gn=i,a.timeoutHandle=Hh(ah.bind(null,a,r,Nt,Kr,bu,i,Ft,wi,So,ni,g,"Throttled",-0,0),p);break e}ah(a,r,Nt,Kr,bu,i,Ft,wi,So,ni,g,null,-0,0)}}break}while(!0);hn(t)}function ah(t,i,r,a,p,g,T,C,A,w,z,K,G,V){if(t.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},eh(i,g,K);var oe=(g&62914560)===g?Jr-Lt():(g&4194048)===g?oh-Lt():0;if(oe=nT(K,oe),oe!==null){Gn=g,t.cancelPendingCommit=oe(gh.bind(null,t,i,g,r,a,p,T,C,A,z,K,null,G,V)),ri(t,g,T,!w);return}}gh(t,i,g,r,a,p,T,C,A)}function v_(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var a=0;a<r.length;a++){var p=r[a],g=p.getSnapshot;p=p.value;try{if(!Vt(g(),p))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ri(t,i,r,a){i&=~Ru,i&=~wi,t.suspendedLanes|=i,t.pingedLanes&=~i,a&&(t.warmLanes|=i),a=t.expirationTimes;for(var p=i;0<p;){var g=31-Ht(p),T=1<<g;a[g]=-1,p&=~T}r!==0&&vf(t,r,i)}function Xr(){return(we&6)===0?(As(0),!1):!0}function Du(){if(Ee!==null){if(Le===0)var t=Ee.return;else t=Ee,Rn=Ri=null,Ka(t),po=null,ls=0,t=Ee;for(;t!==null;)Vp(t.alternate,t),t=t.return;Ee=null}}function Eo(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,H_(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Gn=0,Du(),Be=t,Ee=r=xn(t.current,null),Ae=i,Le=0,qt=null,ni=!1,To=Fo(t,i),Au=!1,So=Ft=Ru=wi=ii=Xe=0,Nt=Es=null,bu=!1,(i&8)!==0&&(i|=i&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=i;0<a;){var p=31-Ht(a),g=1<<p;i|=t[p],a&=~g}return Ln=i,mr(),r}function uh(t,i){_e=null,b.H=ms,i===fo||i===Er?(i=Ad(),Le=3):i===wa?(i=Ad(),Le=4):Le=i===uu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qt=i,Ee===null&&(Xe=1,Gr(t,$t(i,t.current)))}function ch(){var t=Bt.current;return t===null?!0:(Ae&4194048)===Ae?en===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?t===en:!1}function fh(){var t=b.H;return b.H=ms,t===null?ms:t}function dh(){var t=b.A;return b.A=g_,t}function Qr(){Xe=4,ni||(Ae&4194048)!==Ae&&Bt.current!==null||(To=!0),(ii&134217727)===0&&(wi&134217727)===0||Be===null||ri(Be,Ae,Ft,!1)}function Uu(t,i,r){var a=we;we|=2;var p=fh(),g=dh();(Be!==t||Ae!==i)&&(Kr=null,Eo(t,i)),i=!1;var T=Xe;e:do try{if(Le!==0&&Ee!==null){var C=Ee,A=qt;switch(Le){case 8:Du(),T=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(i=!0);var w=Le;if(Le=0,qt=null,xo(t,C,A,w),r&&To){T=0;break e}break;default:w=Le,Le=0,qt=null,xo(t,C,A,w)}}__(),T=Xe;break}catch(z){uh(t,z)}while(!0);return i&&t.shellSuspendCounter++,Rn=Ri=null,we=a,b.H=p,b.A=g,Ee===null&&(Be=null,Ae=0,mr()),T}function __(){for(;Ee!==null;)ph(Ee)}function T_(t,i){var r=we;we|=2;var a=fh(),p=dh();Be!==t||Ae!==i?(Kr=null,Yr=Lt()+500,Eo(t,i)):To=Fo(t,i);e:do try{if(Le!==0&&Ee!==null){i=Ee;var g=qt;t:switch(Le){case 1:Le=0,qt=null,xo(t,i,g,1);break;case 2:case 9:if(Ed(g)){Le=0,qt=null,hh(i);break}i=function(){Le!==2&&Le!==9||Be!==t||(Le=7),hn(t)},g.then(i,i);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Ed(g)?(Le=0,qt=null,hh(i)):(Le=0,qt=null,xo(t,i,g,7));break;case 5:var T=null;switch(Ee.tag){case 26:T=Ee.memoizedState;case 5:case 27:var C=Ee;if(T?jh(T):C.stateNode.complete){Le=0,qt=null;var A=C.sibling;if(A!==null)Ee=A;else{var w=C.return;w!==null?(Ee=w,$r(w)):Ee=null}break t}}Le=0,qt=null,xo(t,i,g,5);break;case 6:Le=0,qt=null,xo(t,i,g,6);break;case 8:Du(),Xe=6;break e;default:throw Error(s(462))}}S_();break}catch(z){uh(t,z)}while(!0);return Rn=Ri=null,b.H=a,b.A=p,we=r,Ee!==null?0:(Be=null,Ae=0,mr(),Xe)}function S_(){for(;Ee!==null&&!F0();)ph(Ee)}function ph(t){var i=Gp(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,i===null?$r(t):Ee=i}function hh(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=Dp(r,i,i.pendingProps,i.type,void 0,Ae);break;case 11:i=Dp(r,i,i.pendingProps,i.type.render,i.ref,Ae);break;case 5:Ka(i);default:Vp(r,i),i=Ee=dd(i,Ln),i=Gp(r,i,Ln)}t.memoizedProps=t.pendingProps,i===null?$r(t):Ee=i}function xo(t,i,r,a){Rn=Ri=null,Ka(i),po=null,ls=0;var p=i.return;try{if(u_(t,p,i,r,Ae)){Xe=1,Gr(t,$t(r,t.current)),Ee=null;return}}catch(g){if(p!==null)throw Ee=p,g;Xe=1,Gr(t,$t(r,t.current)),Ee=null;return}i.flags&32768?(be||a===1?t=!0:To||(Ae&536870912)!==0?t=!1:(ni=t=!0,(a===2||a===9||a===3||a===6)&&(a=Bt.current,a!==null&&a.tag===13&&(a.flags|=16384))),mh(i,t)):$r(i)}function $r(t){var i=t;do{if((i.flags&32768)!==0){mh(i,ni);return}t=i.return;var r=d_(i.alternate,i,Ln);if(r!==null){Ee=r;return}if(i=i.sibling,i!==null){Ee=i;return}Ee=i=t}while(i!==null);Xe===0&&(Xe=5)}function mh(t,i){do{var r=p_(t.alternate,t);if(r!==null){r.flags&=32767,Ee=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Ee=t;return}Ee=t=r}while(t!==null);Xe=6,Ee=null}function gh(t,i,r,a,p,g,T,C,A){t.cancelPendingCommit=null;do Zr();while(st!==0);if((we&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=Ta,ev(t,r,g,T,C,A),t===Be&&(Ee=Be=null,Ae=0),Co=i,si=t,Gn=r,Mu=g,Nu=p,sh=a,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,A_(js,function(){return Sh(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||a){a=b.T,b.T=null,p=I.p,I.p=2,T=we,we|=4;try{h_(t,i,r)}finally{we=T,I.p=p,b.T=a}}st=1,yh(),vh(),_h()}}function yh(){if(st===1){st=0;var t=si,i=Co,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=b.T,b.T=null;var a=I.p;I.p=2;var p=we;we|=4;try{Zp(i,t);var g=Fu,T=id(t.containerInfo),C=g.focusedElem,A=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&nd(C.ownerDocument.documentElement,C)){if(A!==null&&ma(C)){var w=A.start,z=A.end;if(z===void 0&&(z=w),"selectionStart"in C)C.selectionStart=w,C.selectionEnd=Math.min(z,C.value.length);else{var K=C.ownerDocument||document,G=K&&K.defaultView||window;if(G.getSelection){var V=G.getSelection(),oe=C.textContent.length,me=Math.min(A.start,oe),Oe=A.end===void 0?me:Math.min(A.end,oe);!V.extend&&me>Oe&&(T=Oe,Oe=me,me=T);var U=td(C,me),N=td(C,Oe);if(U&&N&&(V.rangeCount!==1||V.anchorNode!==U.node||V.anchorOffset!==U.offset||V.focusNode!==N.node||V.focusOffset!==N.offset)){var P=K.createRange();P.setStart(U.node,U.offset),V.removeAllRanges(),me>Oe?(V.addRange(P),V.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),V.addRange(P))}}}}for(K=[],V=C;V=V.parentNode;)V.nodeType===1&&K.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<K.length;C++){var q=K[C];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}ul=!!qu,Fu=qu=null}finally{we=p,I.p=a,b.T=r}}t.current=i,st=2}}function vh(){if(st===2){st=0;var t=si,i=Co,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=b.T,b.T=null;var a=I.p;I.p=2;var p=we;we|=4;try{Yp(t,i.alternate,i)}finally{we=p,I.p=a,b.T=r}}st=3}}function _h(){if(st===4||st===3){st=0,J0();var t=si,i=Co,r=Gn,a=sh;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?st=5:(st=0,Co=si=null,Th(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(oi=null),$l(r),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(qo,i,void 0,(i.current.flags&128)===128)}catch{}if(a!==null){i=b.T,p=I.p,I.p=2,b.T=null;try{for(var g=t.onRecoverableError,T=0;T<a.length;T++){var C=a[T];g(C.value,{componentStack:C.stack})}}finally{b.T=i,I.p=p}}(Gn&3)!==0&&Zr(),hn(t),p=t.pendingLanes,(r&261930)!==0&&(p&42)!==0?t===Iu?xs++:(xs=0,Iu=t):xs=0,As(0)}}function Th(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ss(i)))}function Zr(){return yh(),vh(),_h(),Sh()}function Sh(){if(st!==5)return!1;var t=si,i=Mu;Mu=0;var r=$l(Gn),a=b.T,p=I.p;try{I.p=32>r?32:r,b.T=null,r=Nu,Nu=null;var g=si,T=Gn;if(st=0,Co=si=null,Gn=0,(we&6)!==0)throw Error(s(331));var C=we;if(we|=4,nh(g.current),jp(g,g.current,T,r),we=C,As(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(qo,g)}catch{}return!0}finally{I.p=p,b.T=a,Th(t,i)}}function Ch(t,i,r){i=$t(r,i),i=au(t.stateNode,i,2),t=Wn(t,i,2),t!==null&&(Jo(t,2),hn(t))}function Ge(t,i,r){if(t.tag===3)Ch(t,t,r);else for(;i!==null;){if(i.tag===3){Ch(i,t,r);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(oi===null||!oi.has(a))){t=$t(r,t),r=Ep(2),a=Wn(i,r,2),a!==null&&(xp(r,a,i,t),Jo(a,2),hn(a));break}}i=i.return}}function ku(t,i,r){var a=t.pingCache;if(a===null){a=t.pingCache=new y_;var p=new Set;a.set(i,p)}else p=a.get(i),p===void 0&&(p=new Set,a.set(i,p));p.has(r)||(Au=!0,p.add(r),t=C_.bind(null,t,i,r),i.then(t,t))}function C_(t,i,r){var a=t.pingCache;a!==null&&a.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Be===t&&(Ae&r)===r&&(Xe===4||Xe===3&&(Ae&62914560)===Ae&&300>Lt()-Jr?(we&2)===0&&Eo(t,0):Ru|=r,So===Ae&&(So=0)),hn(t)}function Eh(t,i){i===0&&(i=yf()),t=Ei(t,i),t!==null&&(Jo(t,i),hn(t))}function E_(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),Eh(t,r)}function x_(t,i){var r=0;switch(t.tag){case 31:case 13:var a=t.stateNode,p=t.memoizedState;p!==null&&(r=p.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(i),Eh(t,r)}function A_(t,i){return Yl(t,i)}var Wr=null,Ao=null,Pu=!1,jr=!1,wu=!1,li=0;function hn(t){t!==Ao&&t.next===null&&(Ao===null?Wr=Ao=t:Ao=Ao.next=t),jr=!0,Pu||(Pu=!0,b_())}function As(t,i){if(!wu&&jr){wu=!0;do for(var r=!1,a=Wr;a!==null;){if(t!==0){var p=a.pendingLanes;if(p===0)var g=0;else{var T=a.suspendedLanes,C=a.pingedLanes;g=(1<<31-Ht(42|t)+1)-1,g&=p&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,bh(a,g))}else g=Ae,g=ir(a,a===Be?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(g&3)===0||Fo(a,g)||(r=!0,bh(a,g));a=a.next}while(r);wu=!1}}function R_(){xh()}function xh(){jr=Pu=!1;var t=0;li!==0&&G_()&&(t=li);for(var i=Lt(),r=null,a=Wr;a!==null;){var p=a.next,g=Ah(a,i);g===0?(a.next=null,r===null?Wr=p:r.next=p,p===null&&(Ao=r)):(r=a,(t!==0||(g&3)!==0)&&(jr=!0)),a=p}st!==0&&st!==5||As(t),li!==0&&(li=0)}function Ah(t,i){for(var r=t.suspendedLanes,a=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var T=31-Ht(g),C=1<<T,A=p[T];A===-1?((C&r)===0||(C&a)!==0)&&(p[T]=j0(C,i)):A<=i&&(t.expiredLanes|=C),g&=~C}if(i=Be,r=Ae,r=ir(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,r===0||t===i&&(Le===2||Le===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Kl(a),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Fo(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(a!==null&&Kl(a),$l(r)){case 2:case 8:r=mf;break;case 32:r=js;break;case 268435456:r=gf;break;default:r=js}return a=Rh.bind(null,t),r=Yl(r,a),t.callbackPriority=i,t.callbackNode=r,i}return a!==null&&a!==null&&Kl(a),t.callbackPriority=2,t.callbackNode=null,2}function Rh(t,i){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Zr()&&t.callbackNode!==r)return null;var a=Ae;return a=ir(t,t===Be?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(lh(t,a,i),Ah(t,Lt()),t.callbackNode!=null&&t.callbackNode===r?Rh.bind(null,t):null)}function bh(t,i){if(Zr())return null;lh(t,i,!0)}function b_(){V_(function(){(we&6)!==0?Yl(hf,R_):xh()})}function Lu(){if(li===0){var t=uo;t===0&&(t=er,er<<=1,(er&261888)===0&&(er=256)),li=t}return li}function Mh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:lr(""+t)}function Nh(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function M_(t,i,r,a,p){if(i==="submit"&&r&&r.stateNode===p){var g=Mh((p[xt]||null).action),T=a.submitter;T&&(i=(i=T[xt]||null)?Mh(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var C=new fr("action","action",null,a,p);t.push({event:C,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(li!==0){var A=T?Nh(p,T):new FormData(p);nu(r,{pending:!0,data:A,method:p.method,action:g},null,A)}}else typeof g=="function"&&(C.preventDefault(),A=T?Nh(p,T):new FormData(p),nu(r,{pending:!0,data:A,method:p.method,action:g},g,A))},currentTarget:p}]})}}for(var Gu=0;Gu<_a.length;Gu++){var Hu=_a[Gu],N_=Hu.toLowerCase(),I_=Hu[0].toUpperCase()+Hu.slice(1);rn(N_,"on"+I_)}rn(rd,"onAnimationEnd"),rn(ld,"onAnimationIteration"),rn(ad,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(Yv,"onTransitionRun"),rn(Kv,"onTransitionStart"),rn(Xv,"onTransitionCancel"),rn(ud,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rs));function Ih(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],p=a.event;a=a.listeners;e:{var g=void 0;if(i)for(var T=a.length-1;0<=T;T--){var C=a[T],A=C.instance,w=C.currentTarget;if(C=C.listener,A!==g&&p.isPropagationStopped())break e;g=C,p.currentTarget=w;try{g(p)}catch(z){hr(z)}p.currentTarget=null,g=A}else for(T=0;T<a.length;T++){if(C=a[T],A=C.instance,w=C.currentTarget,C=C.listener,A!==g&&p.isPropagationStopped())break e;g=C,p.currentTarget=w;try{g(p)}catch(z){hr(z)}p.currentTarget=null,g=A}}}}function xe(t,i){var r=i[Zl];r===void 0&&(r=i[Zl]=new Set);var a=t+"__bubble";r.has(a)||(Dh(i,t,2,!1),r.add(a))}function Vu(t,i,r){var a=0;i&&(a|=4),Dh(r,t,a,i)}var el="_reactListening"+Math.random().toString(36).slice(2);function Ou(t){if(!t[el]){t[el]=!0,xf.forEach(function(r){r!=="selectionchange"&&(D_.has(r)||Vu(r,!1,t),Vu(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[el]||(i[el]=!0,Vu("selectionchange",!1,i))}}function Dh(t,i,r,a){switch(rm(i)){case 2:var p=sT;break;case 8:p=rT;break;default:p=tc}r=p.bind(null,i,r,t),p=void 0,!ra||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),a?p!==void 0?t.addEventListener(i,r,{capture:!0,passive:p}):t.addEventListener(i,r,!0):p!==void 0?t.addEventListener(i,r,{passive:p}):t.addEventListener(i,r,!1)}function Bu(t,i,r,a,p){var g=a;if((i&1)===0&&(i&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var C=a.stateNode.containerInfo;if(C===p)break;if(T===4)for(T=a.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;C!==null;){if(T=Yi(C),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){a=g=T;continue e}C=C.parentNode}}a=a.return}Lf(function(){var w=g,z=oa(r),K=[];e:{var G=cd.get(t);if(G!==void 0){var V=fr,oe=t;switch(t){case"keypress":if(ur(r)===0)break e;case"keydown":case"keyup":V=xv;break;case"focusin":oe="focus",V=ca;break;case"focusout":oe="blur",V=ca;break;case"beforeblur":case"afterblur":V=ca;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=bv;break;case rd:case ld:case ad:V=mv;break;case ud:V=Nv;break;case"scroll":case"scrollend":V=cv;break;case"wheel":V=Dv;break;case"copy":case"cut":case"paste":V=yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Bf;break;case"toggle":case"beforetoggle":V=kv}var me=(i&4)!==0,Oe=!me&&(t==="scroll"||t==="scrollend"),U=me?G!==null?G+"Capture":null:G;me=[];for(var N=w,P;N!==null;){var q=N;if(P=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||P===null||U===null||(q=Xo(N,U),q!=null&&me.push(bs(N,q,P))),Oe)break;N=N.return}0<me.length&&(G=new V(G,oe,null,r,z),K.push({event:G,listeners:me}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",G&&r!==ia&&(oe=r.relatedTarget||r.fromElement)&&(Yi(oe)||oe[Ji]))break e;if((V||G)&&(G=z.window===z?z:(G=z.ownerDocument)?G.defaultView||G.parentWindow:window,V?(oe=r.relatedTarget||r.toElement,V=w,oe=oe?Yi(oe):null,oe!==null&&(Oe=u(oe),me=oe.tag,oe!==Oe||me!==5&&me!==27&&me!==6)&&(oe=null)):(V=null,oe=w),V!==oe)){if(me=Vf,q="onMouseLeave",U="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(me=Bf,q="onPointerLeave",U="onPointerEnter",N="pointer"),Oe=V==null?G:Ko(V),P=oe==null?G:Ko(oe),G=new me(q,N+"leave",V,r,z),G.target=Oe,G.relatedTarget=P,q=null,Yi(z)===w&&(me=new me(U,N+"enter",oe,r,z),me.target=P,me.relatedTarget=Oe,q=me),Oe=q,V&&oe)t:{for(me=U_,U=V,N=oe,P=0,q=U;q;q=me(q))P++;q=0;for(var pe=N;pe;pe=me(pe))q++;for(;0<P-q;)U=me(U),P--;for(;0<q-P;)N=me(N),q--;for(;P--;){if(U===N||N!==null&&U===N.alternate){me=U;break t}U=me(U),N=me(N)}me=null}else me=null;V!==null&&Uh(K,G,V,me,!1),oe!==null&&Oe!==null&&Uh(K,Oe,oe,me,!0)}}e:{if(G=w?Ko(w):window,V=G.nodeName&&G.nodeName.toLowerCase(),V==="select"||V==="input"&&G.type==="file")var Ue=Qf;else if(Kf(G))if($f)Ue=qv;else{Ue=Bv;var ue=Ov}else V=G.nodeName,!V||V.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?w&&na(w.elementType)&&(Ue=Qf):Ue=zv;if(Ue&&(Ue=Ue(t,w))){Xf(K,Ue,r,z);break e}ue&&ue(t,G,w),t==="focusout"&&w&&G.type==="number"&&w.memoizedProps.value!=null&&ta(G,"number",G.value)}switch(ue=w?Ko(w):window,t){case"focusin":(Kf(ue)||ue.contentEditable==="true")&&(to=ue,ga=w,ns=null);break;case"focusout":ns=ga=to=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,od(K,r,z);break;case"selectionchange":if(Jv)break;case"keydown":case"keyup":od(K,r,z)}var Se;if(da)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else eo?Jf(t,r)&&(Re="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(zf&&r.locale!=="ko"&&(eo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&eo&&(Se=Gf()):(Jn=z,la="value"in Jn?Jn.value:Jn.textContent,eo=!0)),ue=tl(w,Re),0<ue.length&&(Re=new Of(Re,t,null,r,z),K.push({event:Re,listeners:ue}),Se?Re.data=Se:(Se=Yf(r),Se!==null&&(Re.data=Se)))),(Se=wv?Lv(t,r):Gv(t,r))&&(Re=tl(w,"onBeforeInput"),0<Re.length&&(ue=new Of("onBeforeInput","beforeinput",null,r,z),K.push({event:ue,listeners:Re}),ue.data=Se)),M_(K,t,w,r,z)}Ih(K,i)})}function bs(t,i,r){return{instance:t,listener:i,currentTarget:r}}function tl(t,i){for(var r=i+"Capture",a=[];t!==null;){var p=t,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Xo(t,r),p!=null&&a.unshift(bs(t,p,g)),p=Xo(t,i),p!=null&&a.push(bs(t,p,g))),t.tag===3)return a;t=t.return}return[]}function U_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Uh(t,i,r,a,p){for(var g=i._reactName,T=[];r!==null&&r!==a;){var C=r,A=C.alternate,w=C.stateNode;if(C=C.tag,A!==null&&A===a)break;C!==5&&C!==26&&C!==27||w===null||(A=w,p?(w=Xo(r,g),w!=null&&T.unshift(bs(r,w,A))):p||(w=Xo(r,g),w!=null&&T.push(bs(r,w,A)))),r=r.return}T.length!==0&&t.push({event:i,listeners:T})}var k_=/\r\n?/g,P_=/\u0000|\uFFFD/g;function kh(t){return(typeof t=="string"?t:""+t).replace(k_,`
`).replace(P_,"")}function Ph(t,i){return i=kh(i),kh(t)===i}function Ve(t,i,r,a,p,g){switch(r){case"children":typeof a=="string"?i==="body"||i==="textarea"&&a===""||Zi(t,a):(typeof a=="number"||typeof a=="bigint")&&i!=="body"&&Zi(t,""+a);break;case"className":sr(t,"class",a);break;case"tabIndex":sr(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(t,r,a);break;case"style":Pf(t,a,g);break;case"data":if(i!=="object"){sr(t,"data",a);break}case"src":case"href":if(a===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=lr(""+a),t.setAttribute(r,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(i!=="input"&&Ve(t,i,"name",p.name,p,null),Ve(t,i,"formEncType",p.formEncType,p,null),Ve(t,i,"formMethod",p.formMethod,p,null),Ve(t,i,"formTarget",p.formTarget,p,null)):(Ve(t,i,"encType",p.encType,p,null),Ve(t,i,"method",p.method,p,null),Ve(t,i,"target",p.target,p,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=lr(""+a),t.setAttribute(r,a);break;case"onClick":a!=null&&(t.onclick=Cn);break;case"onScroll":a!=null&&xe("scroll",t);break;case"onScrollEnd":a!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}r=lr(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""+a):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":a===!0?t.setAttribute(r,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,a):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(r,a):t.removeAttribute(r);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(r):t.setAttribute(r,a);break;case"popover":xe("beforetoggle",t),xe("toggle",t),or(t,"popover",a);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":or(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=av.get(r)||r,or(t,r,a))}}function zu(t,i,r,a,p,g){switch(r){case"style":Pf(t,a,g);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof a=="string"?Zi(t,a):(typeof a=="number"||typeof a=="bigint")&&Zi(t,""+a);break;case"onScroll":a!=null&&xe("scroll",t);break;case"onScrollEnd":a!=null&&xe("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Af.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),i=r.slice(2,p?r.length-7:void 0),g=t[xt]||null,g=g!=null?g[r]:null,typeof g=="function"&&t.removeEventListener(i,g,p),typeof a=="function")){typeof g!="function"&&g!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,a,p);break e}r in t?t[r]=a:a===!0?t.setAttribute(r,""):or(t,r,a)}}}function gt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var a=!1,p=!1,g;for(g in r)if(r.hasOwnProperty(g)){var T=r[g];if(T!=null)switch(g){case"src":a=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ve(t,i,g,T,r,null)}}p&&Ve(t,i,"srcSet",r.srcSet,r,null),a&&Ve(t,i,"src",r.src,r,null);return;case"input":xe("invalid",t);var C=g=T=p=null,A=null,w=null;for(a in r)if(r.hasOwnProperty(a)){var z=r[a];if(z!=null)switch(a){case"name":p=z;break;case"type":T=z;break;case"checked":A=z;break;case"defaultChecked":w=z;break;case"value":g=z;break;case"defaultValue":C=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Ve(t,i,a,z,r,null)}}If(t,g,C,A,w,T,p,!1);return;case"select":xe("invalid",t),a=T=g=null;for(p in r)if(r.hasOwnProperty(p)&&(C=r[p],C!=null))switch(p){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":a=C;default:Ve(t,i,p,C,r,null)}i=g,r=T,t.multiple=!!a,i!=null?$i(t,!!a,i,!1):r!=null&&$i(t,!!a,r,!0);return;case"textarea":xe("invalid",t),g=p=a=null;for(T in r)if(r.hasOwnProperty(T)&&(C=r[T],C!=null))switch(T){case"value":a=C;break;case"defaultValue":p=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Ve(t,i,T,C,r,null)}Uf(t,a,p,g);return;case"option":for(A in r)if(r.hasOwnProperty(A)&&(a=r[A],a!=null))switch(A){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ve(t,i,A,a,r,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(a=0;a<Rs.length;a++)xe(Rs[a],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in r)if(r.hasOwnProperty(w)&&(a=r[w],a!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ve(t,i,w,a,r,null)}return;default:if(na(i)){for(z in r)r.hasOwnProperty(z)&&(a=r[z],a!==void 0&&zu(t,i,z,a,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(a=r[C],a!=null&&Ve(t,i,C,a,r,null))}function w_(t,i,r,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,C=null,A=null,w=null,z=null;for(V in r){var K=r[V];if(r.hasOwnProperty(V)&&K!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":A=K;default:a.hasOwnProperty(V)||Ve(t,i,V,null,a,K)}}for(var G in a){var V=a[G];if(K=r[G],a.hasOwnProperty(G)&&(V!=null||K!=null))switch(G){case"type":g=V;break;case"name":p=V;break;case"checked":w=V;break;case"defaultChecked":z=V;break;case"value":T=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,i));break;default:V!==K&&Ve(t,i,G,V,a,K)}}ea(t,T,C,A,w,z,g,p);return;case"select":V=T=C=G=null;for(g in r)if(A=r[g],r.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":V=A;default:a.hasOwnProperty(g)||Ve(t,i,g,null,a,A)}for(p in a)if(g=a[p],A=r[p],a.hasOwnProperty(p)&&(g!=null||A!=null))switch(p){case"value":G=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==A&&Ve(t,i,p,g,a,A)}i=C,r=T,a=V,G!=null?$i(t,!!r,G,!1):!!a!=!!r&&(i!=null?$i(t,!!r,i,!0):$i(t,!!r,r?[]:"",!1));return;case"textarea":V=G=null;for(C in r)if(p=r[C],r.hasOwnProperty(C)&&p!=null&&!a.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ve(t,i,C,null,a,p)}for(T in a)if(p=a[T],g=r[T],a.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":G=p;break;case"defaultValue":V=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&Ve(t,i,T,p,a,g)}Df(t,G,V);return;case"option":for(var oe in r)if(G=r[oe],r.hasOwnProperty(oe)&&G!=null&&!a.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:Ve(t,i,oe,null,a,G)}for(A in a)if(G=a[A],V=r[A],a.hasOwnProperty(A)&&G!==V&&(G!=null||V!=null))switch(A){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ve(t,i,A,G,a,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in r)G=r[me],r.hasOwnProperty(me)&&G!=null&&!a.hasOwnProperty(me)&&Ve(t,i,me,null,a,G);for(w in a)if(G=a[w],V=r[w],a.hasOwnProperty(w)&&G!==V&&(G!=null||V!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Ve(t,i,w,G,a,V)}return;default:if(na(i)){for(var Oe in r)G=r[Oe],r.hasOwnProperty(Oe)&&G!==void 0&&!a.hasOwnProperty(Oe)&&zu(t,i,Oe,void 0,a,G);for(z in a)G=a[z],V=r[z],!a.hasOwnProperty(z)||G===V||G===void 0&&V===void 0||zu(t,i,z,G,a,V);return}}for(var U in r)G=r[U],r.hasOwnProperty(U)&&G!=null&&!a.hasOwnProperty(U)&&Ve(t,i,U,null,a,G);for(K in a)G=a[K],V=r[K],!a.hasOwnProperty(K)||G===V||G==null&&V==null||Ve(t,i,K,G,a,V)}function wh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var p=r[a],g=p.transferSize,T=p.initiatorType,C=p.duration;if(g&&C&&wh(T)){for(T=0,C=p.responseEnd,a+=1;a<r.length;a++){var A=r[a],w=A.startTime;if(w>C)break;var z=A.transferSize,K=A.initiatorType;z&&wh(K)&&(A=A.responseEnd,T+=z*(A<C?1:(C-w)/(A-w)))}if(--a,i+=8*(g+T)/(p.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qu=null,Fu=null;function nl(t){return t.nodeType===9?t:t.ownerDocument}function Lh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gh(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ju(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yu=null;function G_(){var t=window.event;return t&&t.type==="popstate"?t===Yu?!1:(Yu=t,!0):(Yu=null,!1)}var Hh=typeof setTimeout=="function"?setTimeout:void 0,H_=typeof clearTimeout=="function"?clearTimeout:void 0,Vh=typeof Promise=="function"?Promise:void 0,V_=typeof queueMicrotask=="function"?queueMicrotask:typeof Vh<"u"?function(t){return Vh.resolve(null).then(t).catch(O_)}:Hh;function O_(t){setTimeout(function(){throw t})}function ai(t){return t==="head"}function Oh(t,i){var r=i,a=0;do{var p=r.nextSibling;if(t.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"||r==="/&"){if(a===0){t.removeChild(p),No(i);return}a--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")a++;else if(r==="html")Ms(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Ms(r);for(var g=r.firstChild;g;){var T=g.nextSibling,C=g.nodeName;g[Yo]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=T}}else r==="body"&&Ms(t.ownerDocument.body);r=p}while(r);No(i)}function Bh(t,i){var r=t;t=0;do{var a=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=a}while(r)}function Ku(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ku(r),Wl(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function B_(t,i,r,a){for(;t.nodeType===1;){var p=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Yo])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=tn(t.nextSibling),t===null)break}return null}function z_(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=tn(t.nextSibling),t===null))return null;return t}function zh(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=tn(t.nextSibling),t===null))return null;return t}function Xu(t){return t.data==="$?"||t.data==="$~"}function Qu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function q_(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var a=function(){i(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function tn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var $u=null;function qh(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return tn(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function Fh(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function Jh(t,i,r){switch(i=nl(r),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ms(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Wl(t)}var nn=new Map,Yh=new Set;function il(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hn=I.d;I.d={f:F_,r:J_,D:Y_,C:K_,L:X_,m:Q_,X:Z_,S:$_,M:W_};function F_(){var t=Hn.f(),i=Xr();return t||i}function J_(t){var i=Ki(t);i!==null&&i.tag===5&&i.type==="form"?up(i):Hn.r(t)}var Ro=typeof document>"u"?null:document;function Kh(t,i,r){var a=Ro;if(a&&typeof i=="string"&&i){var p=Xt(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),Yh.has(p)||(Yh.add(p),t={rel:t,crossOrigin:r,href:i},a.querySelector(p)===null&&(i=a.createElement("link"),gt(i,"link",t),at(i),a.head.appendChild(i)))}}function Y_(t){Hn.D(t),Kh("dns-prefetch",t,null)}function K_(t,i){Hn.C(t,i),Kh("preconnect",t,i)}function X_(t,i,r){Hn.L(t,i,r);var a=Ro;if(a&&t&&i){var p='link[rel="preload"][as="'+Xt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+Xt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+Xt(r.imageSizes)+'"]')):p+='[href="'+Xt(t)+'"]';var g=p;switch(i){case"style":g=bo(t);break;case"script":g=Mo(t)}nn.has(g)||(t=_({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),nn.set(g,t),a.querySelector(p)!==null||i==="style"&&a.querySelector(Ns(g))||i==="script"&&a.querySelector(Is(g))||(i=a.createElement("link"),gt(i,"link",t),at(i),a.head.appendChild(i)))}}function Q_(t,i){Hn.m(t,i);var r=Ro;if(r&&t){var a=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Xt(a)+'"][href="'+Xt(t)+'"]',g=p;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Mo(t)}if(!nn.has(g)&&(t=_({rel:"modulepreload",href:t},i),nn.set(g,t),r.querySelector(p)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Is(g)))return}a=r.createElement("link"),gt(a,"link",t),at(a),r.head.appendChild(a)}}}function $_(t,i,r){Hn.S(t,i,r);var a=Ro;if(a&&t){var p=Xi(a).hoistableStyles,g=bo(t);i=i||"default";var T=p.get(g);if(!T){var C={loading:0,preload:null};if(T=a.querySelector(Ns(g)))C.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},r),(r=nn.get(g))&&Zu(t,r);var A=T=a.createElement("link");at(A),gt(A,"link",t),A._p=new Promise(function(w,z){A.onload=w,A.onerror=z}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ol(T,i,a)}T={type:"stylesheet",instance:T,count:1,state:C},p.set(g,T)}}}function Z_(t,i){Hn.X(t,i);var r=Ro;if(r&&t){var a=Xi(r).hoistableScripts,p=Mo(t),g=a.get(p);g||(g=r.querySelector(Is(p)),g||(t=_({src:t,async:!0},i),(i=nn.get(p))&&Wu(t,i),g=r.createElement("script"),at(g),gt(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(p,g))}}function W_(t,i){Hn.M(t,i);var r=Ro;if(r&&t){var a=Xi(r).hoistableScripts,p=Mo(t),g=a.get(p);g||(g=r.querySelector(Is(p)),g||(t=_({src:t,async:!0,type:"module"},i),(i=nn.get(p))&&Wu(t,i),g=r.createElement("script"),at(g),gt(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(p,g))}}function Xh(t,i,r,a){var p=(p=de.current)?il(p):null;if(!p)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=bo(r.href),r=Xi(p).hoistableStyles,a=r.get(i),a||(a={type:"style",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=bo(r.href);var g=Xi(p).hoistableStyles,T=g.get(t);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,T),(g=p.querySelector(Ns(t)))&&!g._p&&(T.instance=g,T.state.loading=5),nn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},nn.set(t,r),g||j_(p,t,r,T.state))),i&&a===null)throw Error(s(528,""));return T}if(i&&a!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Mo(r),r=Xi(p).hoistableScripts,a=r.get(i),a||(a={type:"script",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function bo(t){return'href="'+Xt(t)+'"'}function Ns(t){return'link[rel="stylesheet"]['+t+"]"}function Qh(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function j_(t,i,r,a){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=t.createElement("link"),a.preload=i,i.addEventListener("load",function(){return a.loading|=1}),i.addEventListener("error",function(){return a.loading|=2}),gt(i,"link",r),at(i),t.head.appendChild(i))}function Mo(t){return'[src="'+Xt(t)+'"]'}function Is(t){return"script[async]"+t}function $h(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var a=t.querySelector('style[data-href~="'+Xt(r.href)+'"]');if(a)return i.instance=a,at(a),a;var p=_({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),at(a),gt(a,"style",p),ol(a,r.precedence,t),i.instance=a;case"stylesheet":p=bo(r.href);var g=t.querySelector(Ns(p));if(g)return i.state.loading|=4,i.instance=g,at(g),g;a=Qh(r),(p=nn.get(p))&&Zu(a,p),g=(t.ownerDocument||t).createElement("link"),at(g);var T=g;return T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),gt(g,"link",a),i.state.loading|=4,ol(g,r.precedence,t),i.instance=g;case"script":return g=Mo(r.src),(p=t.querySelector(Is(g)))?(i.instance=p,at(p),p):(a=r,(p=nn.get(g))&&(a=_({},r),Wu(a,p)),t=t.ownerDocument||t,p=t.createElement("script"),at(p),gt(p,"link",a),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(a=i.instance,i.state.loading|=4,ol(a,r.precedence,t));return i.instance}function ol(t,i,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=a.length?a[a.length-1]:null,g=p,T=0;T<a.length;T++){var C=a[T];if(C.dataset.precedence===i)g=C;else if(g!==p)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function Zu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Wu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var sl=null;function Zh(t,i,r){if(sl===null){var a=new Map,p=sl=new Map;p.set(r,a)}else p=sl,a=p.get(r),a||(a=new Map,p.set(r,a));if(a.has(t))return a;for(a.set(t,null),r=r.getElementsByTagName(t),p=0;p<r.length;p++){var g=r[p];if(!(g[Yo]||g[dt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=t+T;var C=a.get(T);C?C.push(g):a.set(T,[g])}}return a}function Wh(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function eT(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function jh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function tT(t,i,r,a){if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=bo(a.href),g=i.querySelector(Ns(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=rl.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=g,at(g);return}g=i.ownerDocument||i,a=Qh(a),(p=nn.get(p))&&Zu(a,p),g=g.createElement("link"),at(g);var T=g;T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),gt(g,"link",a),r.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=rl.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var ju=0;function nT(t,i){return t.stylesheets&&t.count===0&&al(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var a=setTimeout(function(){if(t.stylesheets&&al(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+i);0<t.imgBytes&&ju===0&&(ju=62500*L_());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&al(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>ju?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(p)}}:null}function rl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)al(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ll=null;function al(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ll=new Map,i.forEach(iT,t),ll=null,rl.call(t))}function iT(t,i){if(!(i.state.loading&4)){var r=ll.get(t);if(r)var a=r.get(null);else{r=new Map,ll.set(t,r);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),a=T)}a&&r.set(null,a)}p=i.instance,T=p.getAttribute("data-precedence"),g=r.get(T)||a,g===a&&r.set(null,p),r.set(T,p),this.count++,a=rl.bind(this),p.addEventListener("load",a),p.addEventListener("error",a),g?g.parentNode.insertBefore(p,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var Ds={$$typeof:F,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function oT(t,i,r,a,p,g,T,C,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.hiddenUpdates=Xl(null),this.identifierPrefix=a,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function em(t,i,r,a,p,g,T,C,A,w,z,K){return t=new oT(t,i,r,T,A,w,z,K,C),i=1,g===!0&&(i|=24),g=Ot(3,null,null,i),t.current=g,g.stateNode=t,i=Ua(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:a,isDehydrated:r,cache:i},La(g),t}function tm(t){return t?(t=oo,t):oo}function nm(t,i,r,a,p,g){p=tm(p),a.context===null?a.context=p:a.pendingContext=p,a=Zn(i),a.payload={element:r},g=g===void 0?null:g,g!==null&&(a.callback=g),r=Wn(t,a,i),r!==null&&(It(r,t,i),us(r,t,i))}function im(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function ec(t,i){im(t,i),(t=t.alternate)&&im(t,i)}function om(t){if(t.tag===13||t.tag===31){var i=Ei(t,67108864);i!==null&&It(i,t,67108864),ec(t,67108864)}}function sm(t){if(t.tag===13||t.tag===31){var i=Jt();i=Ql(i);var r=Ei(t,i);r!==null&&It(r,t,i),ec(t,i)}}var ul=!0;function sT(t,i,r,a){var p=b.T;b.T=null;var g=I.p;try{I.p=2,tc(t,i,r,a)}finally{I.p=g,b.T=p}}function rT(t,i,r,a){var p=b.T;b.T=null;var g=I.p;try{I.p=8,tc(t,i,r,a)}finally{I.p=g,b.T=p}}function tc(t,i,r,a){if(ul){var p=nc(a);if(p===null)Bu(t,i,a,cl,r),lm(t,a);else if(aT(p,t,i,r,a))a.stopPropagation();else if(lm(t,a),i&4&&-1<lT.indexOf(t)){for(;p!==null;){var g=Ki(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=vi(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var A=1<<31-Ht(T);C.entanglements[1]|=A,T&=~A}hn(g),(we&6)===0&&(Yr=Lt()+500,As(0))}}break;case 31:case 13:C=Ei(g,2),C!==null&&It(C,g,2),Xr(),ec(g,2)}if(g=nc(a),g===null&&Bu(t,i,a,cl,r),g===p)break;p=g}p!==null&&a.stopPropagation()}else Bu(t,i,a,null,r)}}function nc(t){return t=oa(t),ic(t)}var cl=null;function ic(t){if(cl=null,t=Yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===31){if(t=h(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return cl=t,null}function rm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Y0()){case hf:return 2;case mf:return 8;case js:case K0:return 32;case gf:return 268435456;default:return 32}default:return 32}}var oc=!1,ui=null,ci=null,fi=null,Us=new Map,ks=new Map,di=[],lT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lm(t,i){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":Us.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(i.pointerId)}}function Ps(t,i,r,a,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:r,eventSystemFlags:a,nativeEvent:g,targetContainers:[p]},i!==null&&(i=Ki(i),i!==null&&om(i)),t):(t.eventSystemFlags|=a,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function aT(t,i,r,a,p){switch(i){case"focusin":return ui=Ps(ui,t,i,r,a,p),!0;case"dragenter":return ci=Ps(ci,t,i,r,a,p),!0;case"mouseover":return fi=Ps(fi,t,i,r,a,p),!0;case"pointerover":var g=p.pointerId;return Us.set(g,Ps(Us.get(g)||null,t,i,r,a,p)),!0;case"gotpointercapture":return g=p.pointerId,ks.set(g,Ps(ks.get(g)||null,t,i,r,a,p)),!0}return!1}function am(t){var i=Yi(t.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,Cf(t.priority,function(){sm(r)});return}}else if(i===31){if(i=h(r),i!==null){t.blockedOn=i,Cf(t.priority,function(){sm(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fl(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=nc(t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);ia=a,r.target.dispatchEvent(a),ia=null}else return i=Ki(r),i!==null&&om(i),t.blockedOn=r,!1;i.shift()}return!0}function um(t,i,r){fl(t)&&r.delete(i)}function uT(){oc=!1,ui!==null&&fl(ui)&&(ui=null),ci!==null&&fl(ci)&&(ci=null),fi!==null&&fl(fi)&&(fi=null),Us.forEach(um),ks.forEach(um)}function dl(t,i){t.blockedOn===i&&(t.blockedOn=null,oc||(oc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uT)))}var pl=null;function cm(t){pl!==t&&(pl=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){pl===t&&(pl=null);for(var i=0;i<t.length;i+=3){var r=t[i],a=t[i+1],p=t[i+2];if(typeof a!="function"){if(ic(a||r)===null)continue;break}var g=Ki(r);g!==null&&(t.splice(i,3),i-=3,nu(g,{pending:!0,data:p,method:r.method,action:a},a,p))}}))}function No(t){function i(A){return dl(A,t)}ui!==null&&dl(ui,t),ci!==null&&dl(ci,t),fi!==null&&dl(fi,t),Us.forEach(i),ks.forEach(i);for(var r=0;r<di.length;r++){var a=di[r];a.blockedOn===t&&(a.blockedOn=null)}for(;0<di.length&&(r=di[0],r.blockedOn===null);)am(r),r.blockedOn===null&&di.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(a=0;a<r.length;a+=3){var p=r[a],g=r[a+1],T=p[xt]||null;if(typeof g=="function")T||cm(r);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[xt]||null)C=T.formAction;else if(ic(p)!==null)continue}else C=T.action;typeof C=="function"?r[a+1]=C:(r.splice(a,3),a-=3),cm(r)}}}function fm(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function sc(t){this._internalRoot=t}hl.prototype.render=sc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,a=Jt();nm(r,a,t,i,null,null)},hl.prototype.unmount=sc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;nm(t.current,2,null,t,null,null),Xr(),i[Ji]=null}};function hl(t){this._internalRoot=t}hl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Sf();t={blockedOn:null,target:t,priority:i};for(var r=0;r<di.length&&i!==0&&i<di[r].priority;r++);di.splice(r,0,t),r===0&&am(t)}};var dm=e.version;if(dm!=="19.2.1")throw Error(s(527,dm,"19.2.1"));I.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var cT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{qo=ml.inject(cT),Gt=ml}catch{}}return Gs.createRoot=function(t,i){if(!l(t))throw Error(s(299));var r=!1,a="",p=_p,g=Tp,T=Sp;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=em(t,1,!1,null,null,r,a,null,p,g,T,fm),t[Ji]=i.current,Ou(t),new sc(i)},Gs.hydrateRoot=function(t,i,r){if(!l(t))throw Error(s(299));var a=!1,p="",g=_p,T=Tp,C=Sp,A=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),i=em(t,1,!0,i,r??null,a,p,A,g,T,C,fm),i.context=tm(null),r=i.current,a=Jt(),a=Ql(a),p=Zn(a),p.callback=null,Wn(r,p,a),r=a,i.current.lanes=r,Jo(i,r),hn(i),t[Ji]=i.current,Ou(t),new hl(i)},Gs.version="19.2.1",Gs}var Cm;function CT(){if(Cm)return ac.exports;Cm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ac.exports=ST(),ac.exports}var ET=CT();const xT=Yc(ET);var Ce=(n=>(n.LOBBY="LOBBY",n.SETUP="SETUP",n.SCENARIO_LOADING="SCENARIO_LOADING",n.SCENARIO_REVEAL="SCENARIO_REVEAL",n.ROUND_START="ROUND_START",n.PLAYER_SPEECH="PLAYER_SPEECH",n.GROUP_DISCUSSION="GROUP_DISCUSSION",n.VOTE_PREP_SPEECH="VOTE_PREP_SPEECH",n.VOTING="VOTING",n.VOTE_RESULTS="VOTE_RESULTS",n.JUSTIFICATION="JUSTIFICATION",n.EXILE_ANIMATION="EXILE_ANIMATION",n.GAME_OVER="GAME_OVER",n.ENDING_GENERATION="ENDING_GENERATION",n))(Ce||{});const AT=n=>n<=6?[3,3,2]:n<=8?[3,3,1,1]:n<=10?[3,2,1,1]:n<=12?[2,2,1,1]:[2,1,1,1],Vn={SPEECH:60,DISCUSSION:60,JUSTIFICATION:30,VOTE:15},gl="bunker-2077-game-",RT=["-","-","  ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","-","","  ","-","","","","","","",""],bT=[", 25 ",", 30 ",", 60 ",", 22 ",", 45 ",", 70 ",", 18 ",", 35 ",", 50 ",", 45 ",", 33 ",", 19 ",", 90 ",", 55 ",", 27 ",", 28 ",", 40 ",", 40 "],MT=["","","","",""," 1 "," 3 ","","","",""," "," "],NT=[" ",""," 2 ","-"," ()","","","  (1 )","  ","  ","  (-5)","   ","",""," ","","","",""," "," "," ","/",""],IT=["","","","","",""," ","","  ","","  ",""," ","","","",""," ","","",""," ","",""],DT=[" ( )"," ()"," ()"," ()"," ()","",""," ","","","","",""],UT=[" ","  ","  "," ()"," ","","  (10 )"," ","  "," ","","  ","","  (5 )","",""," "," "],kT=[" "," ","  "," "," "," ()",""," "," ",""," ",""," "," (5)","  ","","  ","  ",""," (1 )"],PT=["IQ 150","    ","  "," 5 ","  ","   ","  ","  ","","   ","  ","",""," (  )"," -","     ",""],wT=["   ()","    ","   ","    1 ","    ","   ","   ","   (2   )","  ",",    ","    ","   (    >2 )","   ( )"," 2   "],mn=n=>n[Math.floor(Math.random()*n.length)],gn=(n,e)=>({value:n,isRevealed:!1,type:e}),Em=(n,e,o)=>({id:n,name:e,isHost:o,isExiled:!1,avatarId:Math.floor(Math.random()*99)+1,votesReceived:0,hasJustified:!1,stats:{profession:gn(mn(RT),"profession"),biology:gn(mn(bT),"biology"),body:gn(mn(MT),"body"),health:gn(mn(NT),"health"),hobby:gn(mn(IT),"hobby"),phobia:gn(mn(DT),"phobia"),inventory:gn(mn(UT),"inventory"),baggage:gn(mn(kT),"baggage"),fact:gn(mn(PT),"fact"),action:gn(mn(wT),"action")}}),_y=n=>Math.floor(n/2);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let LT,GT;function HT(){return{geminiUrl:LT,vertexUrl:GT}}function VT(n,e,o,s){var l,u;if(!(n!=null&&n.baseUrl)){const d=HT();return e?(l=d.vertexUrl)!==null&&l!==void 0?l:o:(u=d.geminiUrl)!==null&&u!==void 0?u:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bn{}function ne(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(n,e,o){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in n))if(Array.isArray(o))n[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];f(v,e.slice(u+1),o[m])}else for(const m of y)f(m,e.slice(u+1),o)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];f(y[0],e.slice(u+1),o);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const s=e[e.length-1],l=n[s];if(l!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===l)return;if(typeof l=="object"&&typeof o=="object"&&l!==null&&o!==null)Object.assign(l,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[s]=o}function c(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return o;const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in n){const d=n[u];return Array.isArray(d)?d.map(h=>c(h,e.slice(s+1),o)):o}else return o}else n=n[l]}return n}catch(s){if(s instanceof TypeError)return o;throw s}}function OT(n,e){for(const[o,s]of Object.entries(e)){const l=o.split("."),u=s.split("."),d=new Set;let h=-1;for(let y=0;y<l.length;y++)if(l[y]==="*"){h=y;break}if(h!==-1&&u.length>h)for(let y=h;y<u.length;y++){const m=u[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}_c(n,l,u,0,d)}}function _c(n,e,o,s,l){if(s>=e.length||typeof n!="object"||n===null)return;const u=e[s];if(u.endsWith("[]")){const d=u.slice(0,-2),h=n;if(d in h&&Array.isArray(h[d]))for(const y of h[d])_c(y,e,o,s+1,l)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,h=Object.keys(d).filter(m=>!m.startsWith("_")&&!l.has(m)),y={};for(const m of h)y[m]=d[m];for(const[m,v]of Object.entries(y)){const _=[];for(const S of o.slice(s))S==="*"?_.push(m):_.push(S);f(d,_,v)}for(const m of h)delete d[m]}}else{const d=n;u in d&&_c(d[u],e,o,s+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(n){const e={},o=c(n,["operationName"]);o!=null&&f(e,["operationName"],o);const s=c(n,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function zT(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],FT(d)),e}function qT(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],JT(d)),e}function FT(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>YT(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function JT(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>KT(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function YT(n){const e={},o=c(n,["video"]);return o!=null&&f(e,["video"],jT(o)),e}function KT(n){const e={},o=c(n,["_self"]);return o!=null&&f(e,["video"],eS(o)),e}function XT(n){const e={},o=c(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function QT(n){const e={},o=c(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function $T(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],ZT(d)),e}function ZT(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function Ty(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],WT(d)),e}function WT(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function jT(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],Qc(s));const l=c(n,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function eS(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],Qc(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(xm||(xm={}));var Am;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Am||(Am={}));var Rm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Rm||(Rm={}));var mi;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(mi||(mi={}));var bm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(bm||(bm={}));var Mm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Mm||(Mm={}));var Nm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Nm||(Nm={}));var Im;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Im||(Im={}));var Dm;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Dm||(Dm={}));var Um;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(Um||(Um={}));var km;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(km||(km={}));var Pm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Pm||(Pm={}));var wm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(wm||(wm={}));var Lm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(Lm||(Lm={}));var Gm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Gm||(Gm={}));var Hm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Hm||(Hm={}));var Vm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Vm||(Vm={}));var Om;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Om||(Om={}));var Bm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bm||(Bm={}));var Nl;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Nl||(Nl={}));var zm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zm||(zm={}));var qm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(qm||(qm={}));var Fm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Fm||(Fm={}));var Tc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Tc||(Tc={}));var Jm;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Jm||(Jm={}));var Ym;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ym||(Ym={}));var Km;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Km||(Km={}));var Xm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Xm||(Xm={}));var Qm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Qm||(Qm={}));var $m;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})($m||($m={}));var Zm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Zm||(Zm={}));var Wm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Wm||(Wm={}));var jm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(jm||(jm={}));var eg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(eg||(eg={}));var tg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(tg||(tg={}));var ng;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ng||(ng={}));var ig;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ig||(ig={}));var og;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(og||(og={}));var sg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(sg||(sg={}));var rg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(rg||(rg={}));var lg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(lg||(lg={}));var ag;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(ag||(ag={}));var ug;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ug||(ug={}));var cg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(cg||(cg={}));var fg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(fg||(fg={}));var dg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(dg||(dg={}));var pg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(pg||(pg={}));var hg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(hg||(hg={}));var mg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mg||(mg={}));var gg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gg||(gg={}));var yg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(yg||(yg={}));var vg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vg||(vg={}));var _g;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_g||(_g={}));var Tg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Tg||(Tg={}));var Uo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Uo||(Uo={}));class Sc{constructor(e){const o={};for(const s of e.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Hs{get text(){var e,o,s,l,u,d,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const S of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[x,O]of Object.entries(S))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(O!==null||O!==void 0)&&_.push(x);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,o,s,l,u,d,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[S,x]of Object.entries(_))S!=="inlineData"&&(x!==null||x!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,o,s,l,u,d,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,o,s,l,u,d,h,y,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,o,s,l,u,d,h,y,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Sg{}class Cg{}class tS{}class nS{}class iS{}class oS{}class Eg{}class xg{}class Ag{}class sS{}class Il{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new Il;let l;const u=e;return o?l=qT(u):l=zT(u),Object.assign(s,l),s}}class Rg{}class bg{}class Mg{}class Ng{}class rS{}class lS{}class aS{}class $c{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new $c,u=$T(e);return Object.assign(s,u),s}}class uS{}class cS{}class fS{}class Ig{}class dS{get text(){var e,o,s;let l="",u=!1;const d=[];for(const h of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,m]of Object.entries(h))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,l+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,o,s;let l="";const u=[];for(const d of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&y!==null&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(l+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class pS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Zc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new Zc,u=Ty(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Sy(n,e){const o=Pe(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Cy(n){return Array.isArray(n)?n.map(e=>Dl(e)):[Dl(n)]}function Dl(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Ey(n){const e=Dl(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function xy(n){const e=Dl(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Dg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Ay(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Dg(e)):[Dg(n)]}function Cc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Ug(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function kg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function vt(n){if(n==null)throw new Error("ContentUnion is required");return Cc(n)?n:{role:"user",parts:Ay(n)}}function Wc(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const s=vt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const o=vt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>vt(o)):[vt(e)]}function sn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Ug(n)||kg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vt(n)]}const e=[],o=[],s=Cc(n[0]);for(const l of n){const u=Cc(l);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(l);else{if(Ug(l)||kg(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return s||e.push({role:"user",parts:Ay(o)}),e}function hS(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(s=>s!=="null");if(o.length===1)e.type=Object.values(mi).includes(o[0].toUpperCase())?o[0].toUpperCase():mi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of o)e.anyOf.push({type:Object.values(mi).includes(s.toUpperCase())?s.toUpperCase():mi.TYPE_UNSPECIFIED})}}function Po(n){const e={},o=["items"],s=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&hS(n.type,e);for(const[d,h]of Object.entries(n))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(mi).includes(h.toUpperCase())?h.toUpperCase():mi.TYPE_UNSPECIFIED}else if(o.includes(d))e[d]=Po(h);else if(s.includes(d)){const y=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}y.push(Po(m))}e[d]=y}else if(l.includes(d)){const y={};for(const[m,v]of Object.entries(h))y[m]=Po(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=h}return e}function jc(n){return Po(n)}function ef(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function tf(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Vo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Po(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Po(e.response));return n}function Oo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function mS(n,e,o,s=1){const l=!e.startsWith(`${o}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:l?`${o}/${e}`:e}function zn(n,e){if(typeof e!="string")throw new Error("name must be a string");return mS(n,e,"cachedContents")}function Ry(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function gi(n){return Qc(n)}function gS(n){return n!=null&&typeof n=="object"&&"name"in n}function yS(n){return n!=null&&typeof n=="object"&&"video"in n}function vS(n){return n!=null&&typeof n=="object"&&"uri"in n}function by(n){var e;let o;if(gS(n)&&(o=n.name),!(vS(n)&&(o=n.uri,o===void 0))&&!(yS(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function My(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function Ny(n){for(const e of["models","tunedModels","publisherModels"])if(_S(n,e))return n[e];return[]}function _S(n,e){return n!==null&&typeof n=="object"&&e in n}function TS(n,e={}){const o=n,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function SS(n,e={}){const o=[],s=new Set;for(const l of n){const u=l.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const d=TS(l,e);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function Iy(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,l=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(l>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function CS(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Dy(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const l=o.inlinedResponses;if(!Array.isArray(l)||l.length===0)return n;let u=!1;for(const d of l){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Bo(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Uy(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ES(n){const e={},o=c(n,["responsesFile"]);o!=null&&f(e,["fileName"],o);const s=c(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>iC(d))),f(e,["inlinedResponses"],u)}const l=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["inlinedEmbedContentResponses"],u)}return e}function xS(n){const e={},o=c(n,["predictionsFormat"]);o!=null&&f(e,["format"],o);const s=c(n,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const l=c(n,["bigqueryDestination","outputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function AS(n){const e={},o=c(n,["format"]);o!=null&&f(e,["predictionsFormat"],o);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&f(e,["bigqueryDestination","outputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function _l(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["metadata","state"]);l!=null&&f(e,["state"],Uy(l));const u=c(n,["metadata","createTime"]);u!=null&&f(e,["createTime"],u);const d=c(n,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const h=c(n,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const y=c(n,["metadata","model"]);y!=null&&f(e,["model"],y);const m=c(n,["metadata","output"]);return m!=null&&f(e,["dest"],ES(Dy(m))),e}function Ec(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["state"]);l!=null&&f(e,["state"],Uy(l));const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["createTime"]);d!=null&&f(e,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(e,["startTime"],h);const y=c(n,["endTime"]);y!=null&&f(e,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(e,["updateTime"],m);const v=c(n,["model"]);v!=null&&f(e,["model"],v);const _=c(n,["inputConfig"]);_!=null&&f(e,["src"],RS(_));const S=c(n,["outputConfig"]);S!=null&&f(e,["dest"],xS(Dy(S)));const x=c(n,["completionStats"]);return x!=null&&f(e,["completionStats"],x),e}function RS(n){const e={},o=c(n,["instancesFormat"]);o!=null&&f(e,["format"],o);const s=c(n,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const l=c(n,["bigquerySource","inputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function bS(n,e){const o={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(e,["fileName"]);s!=null&&f(o,["fileName"],s);const l=c(e,["inlinedRequests"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>nC(n,d))),f(o,["requests","requests"],u)}return o}function MS(n){const e={},o=c(n,["format"]);o!=null&&f(e,["instancesFormat"],o);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&f(e,["bigquerySource","inputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function NS(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function IS(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Bo(n,s)),o}function DS(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Bo(n,s)),o}function US(n){const e={},o=c(n,["content"]);o!=null&&f(e,["content"],o);const s=c(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],kS(s));const l=c(n,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const u=c(n,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(n,["index"]);y!=null&&f(e,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(x=>x)),f(e,["safetyRatings"],S)}const _=c(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function kS(n){const e={},o=c(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["citations"],s)}return e}function ky(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>cC(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function PS(n,e){const o={},s=c(n,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function wS(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["dest"]);return e!==void 0&&l!=null&&f(e,["outputConfig"],AS(CS(l))),o}function Pg(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["src"]);l!=null&&f(o,["batch","inputConfig"],bS(n,Iy(n,l)));const u=c(e,["config"]);return u!=null&&PS(u,o),o}function LS(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],Pe(n,s));const l=c(e,["src"]);l!=null&&f(o,["inputConfig"],MS(Iy(n,l)));const u=c(e,["config"]);return u!=null&&wS(u,o),o}function GS(n,e){const o={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),o}function HS(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["src"]);l!=null&&f(o,["batch","inputConfig"],JS(n,l));const u=c(e,["config"]);return u!=null&&GS(u,o),o}function VS(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Bo(n,s)),o}function OS(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Bo(n,s)),o}function BS(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function zS(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function qS(n,e){const o={},s=c(e,["contents"]);if(s!=null){let u=Wc(n,s);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["requests[]","request","content"],u)}const l=c(e,["config"]);return l!=null&&(f(o,["_self"],FS(l,o)),OT(o,{"requests[].*":"requests[].request.*"})),o}function FS(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function JS(n,e){const o={},s=c(e,["fileName"]);s!=null&&f(o,["file_name"],s);const l=c(e,["inlinedRequests"]);return l!=null&&f(o,["requests"],qS(n,l)),o}function YS(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function KS(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function XS(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function QS(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],ky(vt(l)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const h=c(e,["topK"]);h!=null&&f(s,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const S=c(e,["logprobs"]);S!=null&&f(s,["logprobs"],S);const x=c(e,["presencePenalty"]);x!=null&&f(s,["presencePenalty"],x);const O=c(e,["frequencyPenalty"]);O!=null&&f(s,["frequencyPenalty"],O);const B=c(e,["seed"]);B!=null&&f(s,["seed"],B);const W=c(e,["responseMimeType"]);W!=null&&f(s,["responseMimeType"],W);const te=c(e,["responseSchema"]);te!=null&&f(s,["responseSchema"],jc(te));const ie=c(e,["responseJsonSchema"]);if(ie!=null&&f(s,["responseJsonSchema"],ie),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=c(e,["safetySettings"]);if(o!==void 0&&F!=null){let ve=F;Array.isArray(ve)&&(ve=ve.map(k=>fC(k))),f(o,["safetySettings"],ve)}const le=c(e,["tools"]);if(o!==void 0&&le!=null){let ve=Oo(le);Array.isArray(ve)&&(ve=ve.map(k=>pC(Vo(k)))),f(o,["tools"],ve)}const fe=c(e,["toolConfig"]);if(o!==void 0&&fe!=null&&f(o,["toolConfig"],dC(fe)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=c(e,["cachedContent"]);o!==void 0&&ae!=null&&f(o,["cachedContent"],zn(n,ae));const j=c(e,["responseModalities"]);j!=null&&f(s,["responseModalities"],j);const Te=c(e,["mediaResolution"]);Te!=null&&f(s,["mediaResolution"],Te);const ce=c(e,["speechConfig"]);if(ce!=null&&f(s,["speechConfig"],ef(ce)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=c(e,["thinkingConfig"]);ge!=null&&f(s,["thinkingConfig"],ge);const Ie=c(e,["imageConfig"]);return Ie!=null&&f(s,["imageConfig"],tC(Ie)),s}function $S(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>US(m))),f(e,["candidates"],y)}const l=c(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const u=c(n,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function ZS(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Bo(n,s)),o}function WS(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Bo(n,s)),o}function jS(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function eC(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function tC(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function nC(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["request","model"],Pe(n,s));const l=c(e,["contents"]);if(l!=null){let h=sn(l);Array.isArray(h)&&(h=h.map(y=>ky(y))),f(o,["request","contents"],h)}const u=c(e,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(e,["config"]);return d!=null&&f(o,["request","generationConfig"],QS(n,d,c(o,["request"],{}))),o}function iC(n){const e={},o=c(n,["response"]);o!=null&&f(e,["response"],$S(o));const s=c(n,["error"]);return s!=null&&f(e,["error"],s),e}function oC(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);if(e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function sC(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const u=c(n,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),o}function rC(n){const e={},o=c(n,["config"]);return o!=null&&oC(o,e),e}function lC(n){const e={},o=c(n,["config"]);return o!=null&&sC(o,e),e}function aC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["operations"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>_l(d))),f(e,["batchJobs"],u)}return e}function uC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["batchPredictionJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Ec(d))),f(e,["batchJobs"],u)}return e}function cC(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],YS(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],KS(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],NS(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function fC(n){const e={},o=c(n,["category"]);if(o!=null&&f(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function dC(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],XS(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function pC(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],jS(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],eC(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var On;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(On||(On={}));class Bi{constructor(e,o,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,s,l)}init(e,o,s){var l,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(l=d.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hC extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Bi(On.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Pg(this.apiClient,e),s=o._url,l=ne("{model}:batchGenerateContent",s),h=o.batch.inputConfig.requests,y=h.requests,m=[];for(const v of y){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const x=_.request;x.systemInstruction=S,_.request=x}m.push(_)}return h.requests=m,delete o.config,delete o._url,delete o._query,{path:l,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const s=o?Object.assign({},o):{},l=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${l}`),s.dest===void 0){const u=this.getGcsUri(e),d=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${l}`;else if(d)s.dest=`${d}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=LS(this.apiClient,e);return h=ne("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Ec(v))}else{const m=Pg(this.apiClient,e);return h=ne("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>_l(v))}}async createEmbeddingsInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=HS(this.apiClient,e);return u=ne("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>_l(y))}}async get(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=WS(this.apiClient,e);return h=ne("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Ec(v))}else{const m=ZS(this.apiClient,e);return h=ne("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>_l(v))}}async cancel(e){var o,s,l,u;let d="",h={};if(this.apiClient.isVertexAI()){const y=DS(this.apiClient,e);d=ne("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=IS(this.apiClient,e);d=ne("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=lC(e);return h=ne("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=uC(v),S=new Ig;return Object.assign(S,_),S})}else{const m=rC(e);return h=ne("batches",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=aC(v),S=new Ig;return Object.assign(S,_),S})}}async delete(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=OS(this.apiClient,e);return h=ne("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>zS(v))}else{const m=VS(this.apiClient,e);return h=ne("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>BS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function wg(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>HC(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function gC(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let v=sn(d);Array.isArray(v)&&(v=v.map(_=>wg(_))),f(e,["contents"],v)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],wg(vt(h)));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(_=>OC(_))),f(e,["tools"],v)}const m=c(n,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],VC(m)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function yC(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let _=sn(d);Array.isArray(_)&&(_=_.map(S=>S)),f(e,["contents"],_)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],vt(h));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>BC(S))),f(e,["tools"],_)}const m=c(n,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const v=c(n,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),o}function vC(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],Sy(n,s));const l=c(e,["config"]);return l!=null&&gC(l,o),o}function _C(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],Sy(n,s));const l=c(e,["config"]);return l!=null&&yC(l,o),o}function TC(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],zn(n,s)),o}function SC(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],zn(n,s)),o}function CC(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function EC(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function xC(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function AC(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function RC(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bC(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function MC(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],zn(n,s)),o}function NC(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],zn(n,s)),o}function IC(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function DC(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function UC(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function kC(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function PC(n){const e={},o=c(n,["config"]);return o!=null&&UC(o,e),e}function wC(n){const e={},o=c(n,["config"]);return o!=null&&kC(o,e),e}function LC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function GC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function HC(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],xC(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],AC(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],mC(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function VC(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],RC(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function OC(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],IC(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],DC(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function BC(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>bC(S))),f(e,["functionDeclarations"],_)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function zC(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),o}function qC(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),o}function FC(n,e){const o={},s=c(e,["name"]);s!=null&&f(o,["_url","name"],zn(n,s));const l=c(e,["config"]);return l!=null&&zC(l,o),o}function JC(n,e){const o={},s=c(e,["name"]);s!=null&&f(o,["_url","name"],zn(n,s));const l=c(e,["config"]);return l!=null&&qC(l,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YC extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Bi(On.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=_C(this.apiClient,e);return h=ne("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=vC(this.apiClient,e);return h=ne("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=NC(this.apiClient,e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=MC(this.apiClient,e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=SC(this.apiClient,e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=EC(v),S=new Mg;return Object.assign(S,_),S})}else{const m=TC(this.apiClient,e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=CC(v),S=new Mg;return Object.assign(S,_),S})}}async update(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=JC(this.apiClient,e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=FC(this.apiClient,e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=wC(e);return h=ne("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=GC(v),S=new Ng;return Object.assign(S,_),S})}else{const m=PC(e);return h=ne("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=LC(v),S=new Ng;return Object.assign(S,_),S})}}}function Lg(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Je(n){return this instanceof Je?(this.v=n,this):new Je(n)}function wo(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(x){return function(O){return Promise.resolve(O).then(x,_)}}function h(x,O){s[x]&&(l[x]=function(B){return new Promise(function(W,te){u.push([x,B,W,te])>1||y(x,B)})},O&&(l[x]=O(l[x])))}function y(x,O){try{m(s[x](O))}catch(B){S(u[0][3],B)}}function m(x){x.value instanceof Je?Promise.resolve(x.value.v).then(v,_):S(u[0][2],x)}function v(x){y("next",x)}function _(x){y("throw",x)}function S(x,O){x(O),u.shift(),u.length&&y(u[0][0],u[0][1])}}function zs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Lg=="function"?Lg(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(u){o[u]=n[u]&&function(d){return new Promise(function(h,y){d=n[u](d),l(h,y,d.done,d.value)})}}function l(u,d,h,y){Promise.resolve(y).then(function(m){u({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Py(o)}function Py(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function XC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Gg(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let s=0;for(;s<o;)if(n[s].role==="user")e.push(n[s]),s++;else{const l=[];let u=!0;for(;s<o&&n[s].role==="model";)l.push(n[s]),u&&!Py(n[s])&&(u=!1),s++;u?e.push(...l):e.pop()}return e}class QC{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new $C(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class $C{constructor(e,o,s,l={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),XC(u)}async sendMessage(e){var o;await this.sendPromise;const s=vt(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,d,h;const y=await l,m=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(_))!==null&&h!==void 0?h:[]);const x=m?[m]:[];this.recordHistory(s,x,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var o;await this.sendPromise;const s=vt(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){const o=e?Gg(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var s,l;return wo(this,arguments,function*(){var d,h,y,m;const v=[];try{for(var _=!0,S=zs(e),x;x=yield Je(S.next()),d=x.done,!d;_=!0){m=x.value,_=!1;const O=m;if(KC(O)){const B=(l=(s=O.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content;B!==void 0&&v.push(B)}yield yield Je(O)}}catch(O){h={error:O}}finally{try{!_&&!d&&(y=S.return)&&(yield Je(y.call(S)))}finally{if(h)throw h.error}}this.recordHistory(o,v)})}recordHistory(e,o,s){let l=[];o.length>0&&o.every(u=>u.role!==void 0)?l=o:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Gg(s)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Gl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZC(n){const e={},o=c(n,["file"]);return o!=null&&f(e,["file"],o),e}function WC(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function jC(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","file"],by(o)),e}function eE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function tE(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","file"],by(o)),e}function nE(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function iE(n){const e={},o=c(n,["config"]);return o!=null&&nE(o,e),e}function oE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sE extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Bi(On.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iE(e);return u=ne("files",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=oE(y),v=new uS;return Object.assign(v,m),v})}}async createInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ZC(e);return u=ne("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=WC(y),v=new cS;return Object.assign(v,m),v})}}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tE(e);return u=ne("files/{file}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=jC(e);return u=ne("files/{file}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=eE(y),v=new fS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tl(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function rE(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>CE(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function lE(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function aE(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uE(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function cE(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=c(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const l=c(n,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const u=c(n,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const _=c(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const S=c(n,["responseLogprobs"]);S!=null&&f(e,["responseLogprobs"],S);const x=c(n,["responseMimeType"]);x!=null&&f(e,["responseMimeType"],x);const O=c(n,["responseModalities"]);O!=null&&f(e,["responseModalities"],O);const B=c(n,["responseSchema"]);B!=null&&f(e,["responseSchema"],B);const W=c(n,["routingConfig"]);W!=null&&f(e,["routingConfig"],W);const te=c(n,["seed"]);te!=null&&f(e,["seed"],te);const ie=c(n,["speechConfig"]);ie!=null&&f(e,["speechConfig"],wy(ie));const F=c(n,["stopSequences"]);F!=null&&f(e,["stopSequences"],F);const le=c(n,["temperature"]);le!=null&&f(e,["temperature"],le);const fe=c(n,["thinkingConfig"]);fe!=null&&f(e,["thinkingConfig"],fe);const ae=c(n,["topK"]);ae!=null&&f(e,["topK"],ae);const j=c(n,["topP"]);if(j!=null&&f(e,["topP"],j),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function fE(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function dE(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function pE(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],tf(_));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const x=c(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const O=c(n,["systemInstruction"]);e!==void 0&&O!=null&&f(e,["setup","systemInstruction"],rE(vt(O)));const B=c(n,["tools"]);if(e!==void 0&&B!=null){let ae=Oo(B);Array.isArray(ae)&&(ae=ae.map(j=>xE(Vo(j)))),f(e,["setup","tools"],ae)}const W=c(n,["sessionResumption"]);e!==void 0&&W!=null&&f(e,["setup","sessionResumption"],EE(W));const te=c(n,["inputAudioTranscription"]);e!==void 0&&te!=null&&f(e,["setup","inputAudioTranscription"],te);const ie=c(n,["outputAudioTranscription"]);e!==void 0&&ie!=null&&f(e,["setup","outputAudioTranscription"],ie);const F=c(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&f(e,["setup","realtimeInputConfig"],F);const le=c(n,["contextWindowCompression"]);e!==void 0&&le!=null&&f(e,["setup","contextWindowCompression"],le);const fe=c(n,["proactivity"]);return e!==void 0&&fe!=null&&f(e,["setup","proactivity"],fe),o}function hE(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],cE(s));const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],wy(tf(_)));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const x=c(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const O=c(n,["systemInstruction"]);e!==void 0&&O!=null&&f(e,["setup","systemInstruction"],vt(O));const B=c(n,["tools"]);if(e!==void 0&&B!=null){let ae=Oo(B);Array.isArray(ae)&&(ae=ae.map(j=>AE(Vo(j)))),f(e,["setup","tools"],ae)}const W=c(n,["sessionResumption"]);e!==void 0&&W!=null&&f(e,["setup","sessionResumption"],W);const te=c(n,["inputAudioTranscription"]);e!==void 0&&te!=null&&f(e,["setup","inputAudioTranscription"],te);const ie=c(n,["outputAudioTranscription"]);e!==void 0&&ie!=null&&f(e,["setup","outputAudioTranscription"],ie);const F=c(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&f(e,["setup","realtimeInputConfig"],F);const le=c(n,["contextWindowCompression"]);e!==void 0&&le!=null&&f(e,["setup","contextWindowCompression"],le);const fe=c(n,["proactivity"]);return e!==void 0&&fe!=null&&f(e,["setup","proactivity"],fe),o}function mE(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],Pe(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],pE(l,o)),o}function gE(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],Pe(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],hE(l,o)),o}function yE(n){const e={},o=c(n,["musicGenerationConfig"]);return o!=null&&f(e,["musicGenerationConfig"],o),e}function vE(n){const e={},o=c(n,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["weightedPrompts"],s)}return e}function _E(n){const e={},o=c(n,["media"]);if(o!=null){let m=Cy(o);Array.isArray(m)&&(m=m.map(v=>Tl(v))),f(e,["mediaChunks"],m)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],Tl(xy(s)));const l=c(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&f(e,["video"],Tl(Ey(u)));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function TE(n){const e={},o=c(n,["media"]);if(o!=null){let m=Cy(o);Array.isArray(m)&&(m=m.map(v=>v)),f(e,["mediaChunks"],m)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],xy(s));const l=c(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&f(e,["video"],Ey(u));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function SE(n){const e={},o=c(n,["setupComplete"]);o!=null&&f(e,["setupComplete"],o);const s=c(n,["serverContent"]);s!=null&&f(e,["serverContent"],s);const l=c(n,["toolCall"]);l!=null&&f(e,["toolCall"],l);const u=c(n,["toolCallCancellation"]);u!=null&&f(e,["toolCallCancellation"],u);const d=c(n,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],RE(d));const h=c(n,["goAway"]);h!=null&&f(e,["goAway"],h);const y=c(n,["sessionResumptionUpdate"]);return y!=null&&f(e,["sessionResumptionUpdate"],y),e}function CE(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],lE(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],aE(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],Tl(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function EE(n){const e={},o=c(n,["handle"]);if(o!=null&&f(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function wy(n){const e={},o=c(n,["languageCode"]);o!=null&&f(e,["languageCode"],o);const s=c(n,["voiceConfig"]);if(s!=null&&f(e,["voiceConfig"],s),c(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function xE(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],fE(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],dE(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function AE(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>uE(S))),f(e,["functionDeclarations"],_)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function RE(n){const e={},o=c(n,["promptTokenCount"]);o!=null&&f(e,["promptTokenCount"],o);const s=c(n,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const l=c(n,["candidatesTokenCount"]);l!=null&&f(e,["responseTokenCount"],l);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&f(e,["toolUsePromptTokenCount"],u);const d=c(n,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const h=c(n,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const y=c(n,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(O=>O)),f(e,["promptTokensDetails"],x)}const m=c(n,["cacheTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(O=>O)),f(e,["cacheTokensDetails"],x)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(O=>O)),f(e,["responseTokensDetails"],x)}const _=c(n,["toolUsePromptTokensDetails"]);if(_!=null){let x=_;Array.isArray(x)&&(x=x.map(O=>O)),f(e,["toolUsePromptTokensDetails"],x)}const S=c(n,["trafficType"]);return S!=null&&f(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bE(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function ME(n){const e={},o=c(n,["content"]);o!=null&&f(e,["content"],o);const s=c(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],NE(s));const l=c(n,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const u=c(n,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(n,["index"]);y!=null&&f(e,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(x=>x)),f(e,["safetyRatings"],S)}const _=c(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function NE(n){const e={},o=c(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["citations"],s)}return e}function IE(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["contents"]);if(l!=null){let u=sn(l);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["contents"],u)}return o}function DE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["tokensInfo"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["tokensInfo"],l)}return e}function UE(n){const e={},o=c(n,["values"]);o!=null&&f(e,["values"],o);const s=c(n,["statistics"]);return s!=null&&f(e,["statistics"],kE(s)),e}function kE(n){const e={},o=c(n,["truncated"]);o!=null&&f(e,["truncated"],o);const s=c(n,["token_count"]);return s!=null&&f(e,["tokenCount"],s),e}function Hl(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>zx(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function PE(n){const e={},o=c(n,["controlType"]);o!=null&&f(e,["controlType"],o);const s=c(n,["enableControlImageComputation"]);return s!=null&&f(e,["computeControl"],s),e}function wE(n){const e={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function LE(n,e){const o={},s=c(n,["systemInstruction"]);e!==void 0&&s!=null&&f(e,["systemInstruction"],vt(s));const l=c(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Oy(h))),f(e,["tools"],d)}const u=c(n,["generationConfig"]);return e!==void 0&&u!=null&&f(e,["generationConfig"],bx(u)),o}function GE(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["contents"]);if(l!=null){let d=sn(l);Array.isArray(d)&&(d=d.map(h=>Hl(h))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&wE(u),o}function HE(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["contents"]);if(l!=null){let d=sn(l);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&LE(u,o),o}function VE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["totalTokens"]);s!=null&&f(e,["totalTokens"],s);const l=c(n,["cachedContentTokenCount"]);return l!=null&&f(e,["cachedContentTokenCount"],l),e}function OE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["totalTokens"]);return s!=null&&f(e,["totalTokens"],s),e}function BE(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],Pe(n,s)),o}function zE(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],Pe(n,s)),o}function qE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function FE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function JE(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=c(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const S=c(n,["includeRaiReason"]);e!==void 0&&S!=null&&f(e,["parameters","includeRaiReason"],S);const x=c(n,["language"]);e!==void 0&&x!=null&&f(e,["parameters","language"],x);const O=c(n,["outputMimeType"]);e!==void 0&&O!=null&&f(e,["parameters","outputOptions","mimeType"],O);const B=c(n,["outputCompressionQuality"]);e!==void 0&&B!=null&&f(e,["parameters","outputOptions","compressionQuality"],B);const W=c(n,["addWatermark"]);e!==void 0&&W!=null&&f(e,["parameters","addWatermark"],W);const te=c(n,["labels"]);e!==void 0&&te!=null&&f(e,["labels"],te);const ie=c(n,["editMode"]);e!==void 0&&ie!=null&&f(e,["parameters","editMode"],ie);const F=c(n,["baseSteps"]);return e!==void 0&&F!=null&&f(e,["parameters","editConfig","baseSteps"],F),o}function YE(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>Xx(y))),f(o,["instances[0]","referenceImages"],h)}const d=c(e,["config"]);return d!=null&&JE(d,o),o}function KE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Vl(u))),f(e,["generatedImages"],l)}return e}function XE(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function QE(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["instances[]","task_type"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["instances[]","title"],l);const u=c(n,["outputDimensionality"]);e!==void 0&&u!=null&&f(e,["parameters","outputDimensionality"],u);const d=c(n,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const h=c(n,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),o}function $E(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["contents"]);if(l!=null){let h=Wc(n,l);Array.isArray(h)&&(h=h.map(y=>y)),f(o,["requests[]","content"],h)}const u=c(e,["config"]);u!=null&&XE(u,o);const d=c(e,["model"]);return d!==void 0&&f(o,["requests[]","model"],Pe(n,d)),o}function ZE(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["contents"]);if(l!=null){let d=Wc(n,l);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["instances[]","content"],d)}const u=c(e,["config"]);return u!=null&&QE(u,o),o}function WE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["embeddings"],u)}const l=c(n,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function jE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>UE(d))),f(e,["embeddings"],u)}const l=c(n,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function ex(n){const e={},o=c(n,["endpoint"]);o!=null&&f(e,["name"],o);const s=c(n,["deployedModelId"]);return s!=null&&f(e,["deployedModelId"],s),e}function tx(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function nx(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ix(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ox(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function sx(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],Hl(vt(l)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const h=c(e,["topK"]);h!=null&&f(s,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const S=c(e,["logprobs"]);S!=null&&f(s,["logprobs"],S);const x=c(e,["presencePenalty"]);x!=null&&f(s,["presencePenalty"],x);const O=c(e,["frequencyPenalty"]);O!=null&&f(s,["frequencyPenalty"],O);const B=c(e,["seed"]);B!=null&&f(s,["seed"],B);const W=c(e,["responseMimeType"]);W!=null&&f(s,["responseMimeType"],W);const te=c(e,["responseSchema"]);te!=null&&f(s,["responseSchema"],jc(te));const ie=c(e,["responseJsonSchema"]);if(ie!=null&&f(s,["responseJsonSchema"],ie),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=c(e,["safetySettings"]);if(o!==void 0&&F!=null){let ve=F;Array.isArray(ve)&&(ve=ve.map(k=>Qx(k))),f(o,["safetySettings"],ve)}const le=c(e,["tools"]);if(o!==void 0&&le!=null){let ve=Oo(le);Array.isArray(ve)&&(ve=ve.map(k=>nA(Vo(k)))),f(o,["tools"],ve)}const fe=c(e,["toolConfig"]);if(o!==void 0&&fe!=null&&f(o,["toolConfig"],tA(fe)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=c(e,["cachedContent"]);o!==void 0&&ae!=null&&f(o,["cachedContent"],zn(n,ae));const j=c(e,["responseModalities"]);j!=null&&f(s,["responseModalities"],j);const Te=c(e,["mediaResolution"]);Te!=null&&f(s,["mediaResolution"],Te);const ce=c(e,["speechConfig"]);if(ce!=null&&f(s,["speechConfig"],ef(ce)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=c(e,["thinkingConfig"]);ge!=null&&f(s,["thinkingConfig"],ge);const Ie=c(e,["imageConfig"]);return Ie!=null&&f(s,["imageConfig"],Ux(Ie)),s}function rx(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],vt(l));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const h=c(e,["topK"]);h!=null&&f(s,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const S=c(e,["logprobs"]);S!=null&&f(s,["logprobs"],S);const x=c(e,["presencePenalty"]);x!=null&&f(s,["presencePenalty"],x);const O=c(e,["frequencyPenalty"]);O!=null&&f(s,["frequencyPenalty"],O);const B=c(e,["seed"]);B!=null&&f(s,["seed"],B);const W=c(e,["responseMimeType"]);W!=null&&f(s,["responseMimeType"],W);const te=c(e,["responseSchema"]);te!=null&&f(s,["responseSchema"],jc(te));const ie=c(e,["responseJsonSchema"]);ie!=null&&f(s,["responseJsonSchema"],ie);const F=c(e,["routingConfig"]);F!=null&&f(s,["routingConfig"],F);const le=c(e,["modelSelectionConfig"]);le!=null&&f(s,["modelConfig"],le);const fe=c(e,["safetySettings"]);if(o!==void 0&&fe!=null){let b=fe;Array.isArray(b)&&(b=b.map(I=>I)),f(o,["safetySettings"],b)}const ae=c(e,["tools"]);if(o!==void 0&&ae!=null){let b=Oo(ae);Array.isArray(b)&&(b=b.map(I=>Oy(Vo(I)))),f(o,["tools"],b)}const j=c(e,["toolConfig"]);o!==void 0&&j!=null&&f(o,["toolConfig"],j);const Te=c(e,["labels"]);o!==void 0&&Te!=null&&f(o,["labels"],Te);const ce=c(e,["cachedContent"]);o!==void 0&&ce!=null&&f(o,["cachedContent"],zn(n,ce));const ge=c(e,["responseModalities"]);ge!=null&&f(s,["responseModalities"],ge);const Ie=c(e,["mediaResolution"]);Ie!=null&&f(s,["mediaResolution"],Ie);const ve=c(e,["speechConfig"]);ve!=null&&f(s,["speechConfig"],Vy(ef(ve)));const k=c(e,["audioTimestamp"]);k!=null&&f(s,["audioTimestamp"],k);const $=c(e,["thinkingConfig"]);$!=null&&f(s,["thinkingConfig"],$);const J=c(e,["imageConfig"]);return J!=null&&f(s,["imageConfig"],kx(J)),s}function Hg(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["contents"]);if(l!=null){let d=sn(l);Array.isArray(d)&&(d=d.map(h=>Hl(h))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],sx(n,u,o)),o}function Vg(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["contents"]);if(l!=null){let d=sn(l);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],rx(n,u,o)),o}function Og(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>ME(m))),f(e,["candidates"],y)}const l=c(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const u=c(n,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function Bg(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["candidates"],m)}const l=c(n,["createTime"]);l!=null&&f(e,["createTime"],l);const u=c(n,["modelVersion"]);u!=null&&f(e,["modelVersion"],u);const d=c(n,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const h=c(n,["responseId"]);h!=null&&f(e,["responseId"],h);const y=c(n,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function lx(n,e){const o={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const u=c(n,["guidanceScale"]);if(e!==void 0&&u!=null&&f(e,["parameters","guidanceScale"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const h=c(n,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const y=c(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const m=c(n,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const v=c(n,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const _=c(n,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const S=c(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=c(n,["imageSize"]);if(e!==void 0&&x!=null&&f(e,["parameters","sampleImageSize"],x),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function ax(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=c(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const S=c(n,["includeRaiReason"]);e!==void 0&&S!=null&&f(e,["parameters","includeRaiReason"],S);const x=c(n,["language"]);e!==void 0&&x!=null&&f(e,["parameters","language"],x);const O=c(n,["outputMimeType"]);e!==void 0&&O!=null&&f(e,["parameters","outputOptions","mimeType"],O);const B=c(n,["outputCompressionQuality"]);e!==void 0&&B!=null&&f(e,["parameters","outputOptions","compressionQuality"],B);const W=c(n,["addWatermark"]);e!==void 0&&W!=null&&f(e,["parameters","addWatermark"],W);const te=c(n,["labels"]);e!==void 0&&te!=null&&f(e,["labels"],te);const ie=c(n,["imageSize"]);e!==void 0&&ie!=null&&f(e,["parameters","sampleImageSize"],ie);const F=c(n,["enhancePrompt"]);return e!==void 0&&F!=null&&f(e,["parameters","enhancePrompt"],F),o}function ux(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&lx(u,o),o}function cx(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&ax(u,o),o}function fx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Ex(d))),f(e,["generatedImages"],u)}const l=c(n,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],Gy(l)),e}function dx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Vl(d))),f(e,["generatedImages"],u)}const l=c(n,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],Hy(l)),e}function px(n,e){const o={},s=c(n,["numberOfVideos"]);if(e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=c(n,["durationSeconds"]);if(e!==void 0&&l!=null&&f(e,["parameters","durationSeconds"],l),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(n,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const h=c(n,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(n,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const m=c(n,["enhancePrompt"]);if(e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(n,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],Ol(v));const _=c(n,["referenceImages"]);if(e!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(x=>mA(x))),f(e,["instances[0]","referenceImages"],S)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function hx(n,e){const o={},s=c(n,["numberOfVideos"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const u=c(n,["fps"]);e!==void 0&&u!=null&&f(e,["parameters","fps"],u);const d=c(n,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const h=c(n,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const y=c(n,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const m=c(n,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=c(n,["pubsubTopic"]);e!==void 0&&_!=null&&f(e,["parameters","pubsubTopic"],_);const S=c(n,["negativePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","negativePrompt"],S);const x=c(n,["enhancePrompt"]);e!==void 0&&x!=null&&f(e,["parameters","enhancePrompt"],x);const O=c(n,["generateAudio"]);e!==void 0&&O!=null&&f(e,["parameters","generateAudio"],O);const B=c(n,["lastFrame"]);e!==void 0&&B!=null&&f(e,["instances[0]","lastFrame"],cn(B));const W=c(n,["referenceImages"]);if(e!==void 0&&W!=null){let F=W;Array.isArray(F)&&(F=F.map(le=>gA(le))),f(e,["instances[0]","referenceImages"],F)}const te=c(n,["mask"]);e!==void 0&&te!=null&&f(e,["instances[0]","mask"],hA(te));const ie=c(n,["compressionQuality"]);return e!==void 0&&ie!=null&&f(e,["parameters","compressionQuality"],ie),o}function mx(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],_x(d)),e}function gx(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],Tx(d)),e}function yx(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],Ol(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],By(d));const h=c(e,["source"]);h!=null&&Sx(h,o);const y=c(e,["config"]);return y!=null&&px(y,o),o}function vx(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],cn(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],zy(d));const h=c(e,["source"]);h!=null&&Cx(h,o);const y=c(e,["config"]);return y!=null&&hx(y,o),o}function _x(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Ax(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function Tx(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Rx(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function Sx(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Ol(l));const u=c(n,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],By(u)),o}function Cx(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],cn(l));const u=c(n,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],zy(u)),o}function Ex(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["image"],Px(o));const s=c(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const l=c(n,["_self"]);return l!=null&&f(e,["safetyAttributes"],Gy(l)),e}function Vl(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["image"],Ly(o));const s=c(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const l=c(n,["_self"]);l!=null&&f(e,["safetyAttributes"],Hy(l));const u=c(n,["prompt"]);return u!=null&&f(e,["enhancedPrompt"],u),e}function xx(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["mask"],Ly(o));const s=c(n,["labels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["labels"],l)}return e}function Ax(n){const e={},o=c(n,["video"]);return o!=null&&f(e,["video"],dA(o)),e}function Rx(n){const e={},o=c(n,["_self"]);return o!=null&&f(e,["video"],pA(o)),e}function bx(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=c(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const l=c(n,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const u=c(n,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const _=c(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const S=c(n,["responseLogprobs"]);S!=null&&f(e,["responseLogprobs"],S);const x=c(n,["responseMimeType"]);x!=null&&f(e,["responseMimeType"],x);const O=c(n,["responseModalities"]);O!=null&&f(e,["responseModalities"],O);const B=c(n,["responseSchema"]);B!=null&&f(e,["responseSchema"],B);const W=c(n,["routingConfig"]);W!=null&&f(e,["routingConfig"],W);const te=c(n,["seed"]);te!=null&&f(e,["seed"],te);const ie=c(n,["speechConfig"]);ie!=null&&f(e,["speechConfig"],Vy(ie));const F=c(n,["stopSequences"]);F!=null&&f(e,["stopSequences"],F);const le=c(n,["temperature"]);le!=null&&f(e,["temperature"],le);const fe=c(n,["thinkingConfig"]);fe!=null&&f(e,["thinkingConfig"],fe);const ae=c(n,["topK"]);ae!=null&&f(e,["topK"],ae);const j=c(n,["topP"]);if(j!=null&&f(e,["topP"],j),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Mx(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],Pe(n,s)),o}function Nx(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],Pe(n,s)),o}function Ix(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function Dx(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function Ux(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function kx(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);s!=null&&f(e,["imageSize"],s);const l=c(n,["outputMimeType"]);l!=null&&f(e,["imageOutputOptions","mimeType"],l);const u=c(n,["outputCompressionQuality"]);return u!=null&&f(e,["imageOutputOptions","compressionQuality"],u),e}function Px(n){const e={},o=c(n,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],gi(o));const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Ly(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["imageBytes"],gi(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Ol(n){const e={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(n,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],gi(o));const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function cn(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["imageBytes"]);s!=null&&f(e,["bytesBase64Encoded"],gi(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function wx(n,e,o){const s={},l=c(e,["pageSize"]);o!==void 0&&l!=null&&f(o,["_query","pageSize"],l);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const h=c(e,["queryBase"]);return o!==void 0&&h!=null&&f(o,["_url","models_url"],My(n,h)),s}function Lx(n,e,o){const s={},l=c(e,["pageSize"]);o!==void 0&&l!=null&&f(o,["_query","pageSize"],l);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const h=c(e,["queryBase"]);return o!==void 0&&h!=null&&f(o,["_url","models_url"],My(n,h)),s}function Gx(n,e){const o={},s=c(e,["config"]);return s!=null&&wx(n,s,o),o}function Hx(n,e){const o={},s=c(e,["config"]);return s!=null&&Lx(n,s,o),o}function Vx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["_self"]);if(l!=null){let u=Ny(l);Array.isArray(u)&&(u=u.map(d=>xc(d))),f(e,["models"],u)}return e}function Ox(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["_self"]);if(l!=null){let u=Ny(l);Array.isArray(u)&&(u=u.map(d=>Ac(d))),f(e,["models"],u)}return e}function Bx(n){const e={},o=c(n,["maskMode"]);o!=null&&f(e,["maskMode"],o);const s=c(n,["segmentationClasses"]);s!=null&&f(e,["maskClasses"],s);const l=c(n,["maskDilation"]);return l!=null&&f(e,["dilation"],l),e}function xc(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);l!=null&&f(e,["description"],l);const u=c(n,["version"]);u!=null&&f(e,["version"],u);const d=c(n,["_self"]);d!=null&&f(e,["tunedModelInfo"],iA(d));const h=c(n,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const y=c(n,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const m=c(n,["supportedGenerationMethods"]);m!=null&&f(e,["supportedActions"],m);const v=c(n,["temperature"]);v!=null&&f(e,["temperature"],v);const _=c(n,["maxTemperature"]);_!=null&&f(e,["maxTemperature"],_);const S=c(n,["topP"]);S!=null&&f(e,["topP"],S);const x=c(n,["topK"]);x!=null&&f(e,["topK"],x);const O=c(n,["thinking"]);return O!=null&&f(e,["thinking"],O),e}function Ac(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);l!=null&&f(e,["description"],l);const u=c(n,["versionId"]);u!=null&&f(e,["version"],u);const d=c(n,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>ex(S))),f(e,["endpoints"],_)}const h=c(n,["labels"]);h!=null&&f(e,["labels"],h);const y=c(n,["_self"]);y!=null&&f(e,["tunedModelInfo"],oA(y));const m=c(n,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const v=c(n,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>S)),f(e,["checkpoints"],_)}return e}function zx(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],tx(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],nx(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],bE(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function qx(n){const e={},o=c(n,["productImage"]);return o!=null&&f(e,["image"],cn(o)),e}function Fx(n,e){const o={},s=c(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["baseSteps"]);e!==void 0&&l!=null&&f(e,["parameters","baseSteps"],l);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&f(e,["parameters","storageUri"],u);const d=c(n,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const h=c(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const y=c(n,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const m=c(n,["addWatermark"]);e!==void 0&&m!=null&&f(e,["parameters","addWatermark"],m);const v=c(n,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const _=c(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","compressionQuality"],_);const S=c(n,["enhancePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","enhancePrompt"],S);const x=c(n,["labels"]);return e!==void 0&&x!=null&&f(e,["labels"],x),o}function Jx(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["source"]);l!=null&&Kx(l,o);const u=c(e,["config"]);return u!=null&&Fx(u,o),o}function Yx(n){const e={},o=c(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Vl(l))),f(e,["generatedImages"],s)}return e}function Kx(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["personImage"]);e!==void 0&&l!=null&&f(e,["instances[0]","personImage","image"],cn(l));const u=c(n,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>qx(h))),f(e,["instances[0]","productImages"],d)}return o}function Xx(n){const e={},o=c(n,["referenceImage"]);o!=null&&f(e,["referenceImage"],cn(o));const s=c(n,["referenceId"]);s!=null&&f(e,["referenceId"],s);const l=c(n,["referenceType"]);l!=null&&f(e,["referenceType"],l);const u=c(n,["maskImageConfig"]);u!=null&&f(e,["maskImageConfig"],Bx(u));const d=c(n,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],PE(d));const h=c(n,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const y=c(n,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function Gy(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const l=c(n,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function Hy(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const l=c(n,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function Qx(n){const e={},o=c(n,["category"]);if(o!=null&&f(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function $x(n){const e={},o=c(n,["image"]);return o!=null&&f(e,["image"],cn(o)),e}function Zx(n,e){const o={},s=c(n,["mode"]);e!==void 0&&s!=null&&f(e,["parameters","mode"],s);const l=c(n,["maxPredictions"]);e!==void 0&&l!=null&&f(e,["parameters","maxPredictions"],l);const u=c(n,["confidenceThreshold"]);e!==void 0&&u!=null&&f(e,["parameters","confidenceThreshold"],u);const d=c(n,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const h=c(n,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const y=c(n,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),o}function Wx(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["source"]);l!=null&&eA(l,o);const u=c(e,["config"]);return u!=null&&Zx(u,o),o}function jx(n){const e={},o=c(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>xx(l))),f(e,["generatedMasks"],s)}return e}function eA(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],cn(l));const u=c(n,["scribbleImage"]);return e!==void 0&&u!=null&&f(e,["instances[0]","scribble"],$x(u)),o}function Vy(n){const e={},o=c(n,["languageCode"]);o!=null&&f(e,["languageCode"],o);const s=c(n,["voiceConfig"]);if(s!=null&&f(e,["voiceConfig"],s),c(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function tA(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],ix(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function nA(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],Ix(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],Dx(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function Oy(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>ox(S))),f(e,["functionDeclarations"],_)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function iA(n){const e={},o=c(n,["baseModel"]);o!=null&&f(e,["baseModel"],o);const s=c(n,["createTime"]);s!=null&&f(e,["createTime"],s);const l=c(n,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function oA(n){const e={},o=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(e,["baseModel"],o);const s=c(n,["createTime"]);s!=null&&f(e,["createTime"],s);const l=c(n,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function sA(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function rA(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function lA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","name"],Pe(n,s));const l=c(e,["config"]);return l!=null&&sA(l,o),o}function aA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["config"]);return l!=null&&rA(l,o),o}function uA(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&f(e,["parameters","safetySetting"],l);const u=c(n,["personGeneration"]);e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u);const d=c(n,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const h=c(n,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const y=c(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const m=c(n,["enhanceInputImage"]);e!==void 0&&m!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=c(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=c(n,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const S=c(n,["numberOfImages"]);e!==void 0&&S!=null&&f(e,["parameters","sampleCount"],S);const x=c(n,["mode"]);return e!==void 0&&x!=null&&f(e,["parameters","mode"],x),o}function cA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],Pe(n,s));const l=c(e,["image"]);l!=null&&f(o,["instances[0]","image"],cn(l));const u=c(e,["upscaleFactor"]);u!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(e,["config"]);return d!=null&&uA(d,o),o}function fA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Vl(u))),f(e,["generatedImages"],l)}return e}function dA(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],gi(s));const l=c(n,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function pA(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],gi(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function hA(n){const e={},o=c(n,["image"]);o!=null&&f(e,["_self"],cn(o));const s=c(n,["maskMode"]);return s!=null&&f(e,["maskMode"],s),e}function mA(n){const e={},o=c(n,["image"]);o!=null&&f(e,["image"],Ol(o));const s=c(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function gA(n){const e={},o=c(n,["image"]);o!=null&&f(e,["image"],cn(o));const s=c(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function By(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["videoBytes"]);s!=null&&f(e,["encodedVideo"],gi(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["encoding"],l),e}function zy(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["videoBytes"]);s!=null&&f(e,["bytesBase64Encoded"],gi(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yA(n,e){const o={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),o}function vA(n){const e={},o=c(n,["config"]);return o!=null&&yA(o,e),e}function _A(n,e){const o={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function TA(n){const e={},o=c(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=c(n,["config"]);return s!=null&&_A(s,e),e}function SA(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function CA(n,e){const o={},s=c(n,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["customMetadata"],u)}const l=c(n,["chunkingConfig"]);return e!==void 0&&l!=null&&f(e,["chunkingConfig"],l),o}function EA(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],AA(d)),e}function xA(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=c(n,["fileName"]);s!=null&&f(e,["fileName"],s);const l=c(n,["config"]);return l!=null&&CA(l,e),e}function AA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function RA(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function bA(n){const e={},o=c(n,["config"]);return o!=null&&RA(o,e),e}function MA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["fileSearchStores"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["fileSearchStores"],u)}return e}function qy(n,e){const o={},s=c(n,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const l=c(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>y)),f(e,["customMetadata"],h)}const d=c(n,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),o}function NA(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=c(n,["config"]);return s!=null&&qy(s,e),e}function IA(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DA="Content-Type",UA="X-Server-Timeout",kA="User-Agent",Rc="x-goog-api-client",PA="1.31.0",wA=`google-genai-sdk/${PA}`,LA="v1beta1",GA="v1beta",zg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class HA{constructor(e){var o,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:LA,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:GA,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,s){const l=[this.getRequestUrlInternal(o)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))l.searchParams.append(d,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,o){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(o))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,s,l){if(o&&o.timeout||l){const u=new AbortController,d=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>u.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=d}return o&&o.extraBody!==null&&VA(e,o.extraBody),e.headers=await this.getHeadersInternal(o,s),e}async unaryApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await qg(l),new Sc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await qg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var o;return wo(this,arguments,function*(){const l=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:y}=yield Je(l.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=u.decode(y,{stream:!0});try{const _=JSON.parse(m);if("error"in _){const S=JSON.parse(JSON.stringify(_.error)),x=S.status,O=S.code,B=`got status: ${x}. ${JSON.stringify(_)}`;if(O>=400&&O<600)throw new Gl({message:B,status:O})}}catch(_){if(_.name==="ApiError")throw _}d+=m;let v=d.match(zg);for(;v;){const _=v[1];try{const S=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Je(new Sc(S)),d=d.slice(v[0].length),v=d.match(zg)}catch(S){throw new Error(`exception parsing stream chunk ${_}. ${S}`)}}}}finally{l.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},o=wA+" "+this.clientOptions.userAgentExtra;return e[kA]=o,e[Rc]=o,e[DA]="application/json",e}async getHeadersInternal(e,o){const s=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))s.append(l,u);e.timeout&&e.timeout>0&&s.append(UA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(e){var o;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(e,o){var s;const l={};o!=null&&(l.mimeType=o.mimeType,l.name=o.name,l.displayName=o.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);l.sizeBytes=String(d.size);const h=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const y={file:l},m=this.getFileName(e),v=ne("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(v,l.sizeBytes,l.mimeType,m,y,o==null?void 0:o.httpOptions);return u.upload(e,_,this)}async uploadFileToFileSearchStore(e,o,s){var l;const u=this.clientOptions.uploader,d=await u.stat(o),h=String(d.size),y=(l=s==null?void 0:s.mimeType)!==null&&l!==void 0?l:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),_={};s!=null&&qy(s,_);const S=await this.fetchUploadUrl(m,h,y,v,_,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(o,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,s,l,u,d){var h;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},l?{"X-Goog-Upload-File-Name":l}:{})};const m=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function qg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const l=JSON.stringify(s);throw o>=400&&o<600?new Gl({message:l,status:o}):new Error(l)}}function VA(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,d){const h=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],v=h[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=s(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),h[y]=m)}return h}const l=s(o,e);n.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OA="mcp_used/unknown";let BA=!1;function Fy(n){for(const e of n)if(zA(e)||typeof e=="object"&&"inputSchema"in e)return!0;return BA}function Jy(n){var e;const o=(e=n[Rc])!==null&&e!==void 0?e:"";n[Rc]=(o+` ${OA}`).trimStart()}function zA(n){return n!==null&&typeof n=="object"&&n instanceof nf}function qA(n,e=100){return wo(this,arguments,function*(){let s,l=0;for(;l<e;){const u=yield Je(n.listTools({cursor:s}));for(const d of u.tools)yield yield Je(d),l++;if(!u.nextCursor)break;s=u.nextCursor}})}class nf{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new nf(e,o)}async initialize(){var e,o,s,l;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,zs(qA(v))),m;m=await y.next(),e=m.done,!e;h=!0){l=m.value,h=!1;const _=l;d.push(_);const S=_.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=v}}catch(_){o={error:_}}finally{try{!h&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),SS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await l.callTool({name:s.name,arguments:s.args},void 0,u);o.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function FA(n,e,o){const s=new pS;let l;o.data instanceof Blob?l=JSON.parse(await o.data.text()):l=JSON.parse(o.data),Object.assign(s,l),e(s)}class JA{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s}async connect(e){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=XA(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const v=new Promise(F=>{m=F}),_=e.callbacks,S=function(){m({})},x=this.apiClient,O={onopen:S,onmessage:F=>{FA(x,_.onmessage,F)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(F){},onclose:(s=_==null?void 0:_.onclose)!==null&&s!==void 0?s:function(F){}},B=this.webSocketFactory.create(y,KA(d),O);B.connect(),await v;const ie={setup:{model:Pe(this.apiClient,e.model)}};return B.send(JSON.stringify(ie)),new YA(B,this.apiClient)}}class YA{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=vE(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=yE(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Uo.PLAY)}pause(){this.sendPlaybackControl(Uo.PAUSE)}stop(){this.sendPlaybackControl(Uo.STOP)}resetContext(){this.sendPlaybackControl(Uo.RESET_CONTEXT)}close(){this.conn.close()}}function KA(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function XA(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $A(n,e,o){const s=new dS;let l;o.data instanceof Blob?l=await o.data.text():o.data instanceof ArrayBuffer?l=new TextDecoder().decode(o.data):l=o.data;const u=JSON.parse(l);if(n.isVertexAI()){const d=SE(u);Object.assign(s,d)}else Object.assign(s,u);e(s)}class ZA{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s,this.music=new JA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,s,l,u,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&Fy(e.config.tools)&&Jy(_);const S=tR(_);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const ce=this.apiClient.getApiKey();let ge="BidiGenerateContent",Ie="key";ce!=null&&ce.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ge="BidiGenerateContentConstrained",Ie="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ge}?${Ie}=${ce}`}let x=()=>{};const O=new Promise(ce=>{x=ce}),B=e.callbacks,W=function(){var ce;(ce=B==null?void 0:B.onopen)===null||ce===void 0||ce.call(B),x({})},te=this.apiClient,ie={onopen:W,onmessage:ce=>{$A(te,B.onmessage,ce)},onerror:(o=B==null?void 0:B.onerror)!==null&&o!==void 0?o:function(ce){},onclose:(s=B==null?void 0:B.onclose)!==null&&s!==void 0?s:function(ce){}},F=this.webSocketFactory.create(v,eR(S),ie);F.connect(),await O;let le=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&le.startsWith("publishers/")){const ce=this.apiClient.getProject(),ge=this.apiClient.getLocation();le=`projects/${ce}/locations/${ge}/`+le}let fe={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Nl.AUDIO]}:e.config.responseModalities=[Nl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ae=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],j=[];for(const ce of ae)if(this.isCallableTool(ce)){const ge=ce;j.push(await ge.tool())}else j.push(ce);j.length>0&&(e.config.tools=j);const Te={model:le,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?fe=gE(this.apiClient,Te):fe=mE(this.apiClient,Te),delete fe.config,F.send(JSON.stringify(fe)),new jA(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const WA={turnComplete:!0};class jA{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=sn(o.turns),e.isVertexAI()||(s=s.map(l=>Hl(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(QA)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},WA),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:TE(e)}:o={realtimeInput:_E(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function eR(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function tR(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fg=10;function Jg(n){var e,o,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const d of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Lo(d)){l=!0;break}if(!l)return!0;const u=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Lo(n){return"callTool"in n&&typeof n.callTool=="function"}function nR(n){var e,o,s;return(s=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(l=>Lo(l)))!==null&&s!==void 0?s:!1}function Yg(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,l)=>{if(Lo(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(l)}),o}function Kg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iR extends Bn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var s,l,u,d,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!nR(o)||Jg(o.config))return await this.generateContentInternal(y);const m=Yg(o);if(m.length>0){const B=m.map(W=>`tools[${W}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${B}.`)}let v,_;const S=sn(y.contents),x=(u=(l=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:Fg;let O=0;for(;O<x&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const B=v.candidates[0].content,W=[];for(const te of(h=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(Lo(te)){const F=await te.callTool(v.functionCalls);W.push(...F)}O++,_={role:"user",parts:W},y.contents=sn(y.contents),y.contents.push(B),y.contents.push(_),Kg(y.config)&&(S.push(B),S.push(_))}return Kg(y.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async o=>{var s,l,u,d,h;if(this.maybeMoveToResponseJsonSchem(o),Jg(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const y=Yg(o);if(y.length>0){const _=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(l=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(h=(d=o==null?void 0:o.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var l;let u;const d=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let h;return u?h={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async o=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Bi(On.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const l={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async o=>{var s,l,u,d,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((l=o.video)===null||l===void 0)&&l.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(u=o.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,s,l;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const d=await Promise.all(u.map(async y=>Lo(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&Fy(e.config.tools)){const y=(l=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&l!==void 0?l:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Jy(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var o,s,l;const u=new Map;for(const d of(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Lo(d)){const h=d,y=await h.tool();for(const m of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,h)}}return u}async processAfcStream(e){var o,s,l;const u=(l=(s=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:Fg;let d=!1,h=0;const y=await this.initAfcToolsMap(e);return(function(m,v,_){var S,x;return wo(this,arguments,function*(){for(var O,B,W,te;h<u;){d&&(h++,d=!1);const fe=yield Je(m.processParamsMaybeAddMcpUsage(_)),ae=yield Je(m.generateContentStreamInternal(fe)),j=[],Te=[];try{for(var ie=!0,F=(B=void 0,zs(ae)),le;le=yield Je(F.next()),O=le.done,!O;ie=!0){te=le.value,ie=!1;const ce=te;if(yield yield Je(ce),ce.candidates&&(!((S=ce.candidates[0])===null||S===void 0)&&S.content)){Te.push(ce.candidates[0].content);for(const ge of(x=ce.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(h<u&&ge.functionCall){if(!ge.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ge.functionCall.name)){const Ie=yield Je(v.get(ge.functionCall.name).callTool([ge.functionCall]));j.push(...Ie)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ge.functionCall.name}`)}}}}catch(ce){B={error:ce}}finally{try{!ie&&!O&&(W=F.return)&&(yield Je(W.call(F)))}finally{if(B)throw B.error}}if(j.length>0){d=!0;const ce=new Hs;ce.candidates=[{content:{role:"user",parts:j}}],yield yield Je(ce);const ge=[];ge.push(...Te),ge.push({role:"user",parts:j});const Ie=sn(_.contents).concat(ge);_.contents=Ie}else break}})})(this,y,e)}async generateContentInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Vg(this.apiClient,e);return h=ne("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Bg(v),S=new Hs;return Object.assign(S,_),S})}else{const m=Hg(this.apiClient,e);return h=ne("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Og(v),S=new Hs;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Vg(this.apiClient,e);return h=ne("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(_){return wo(this,arguments,function*(){var S,x,O,B;try{for(var W=!0,te=zs(_),ie;ie=yield Je(te.next()),S=ie.done,!S;W=!0){B=ie.value,W=!1;const F=B,le=Bg(yield Je(F.json()));le.sdkHttpResponse={headers:F.headers};const fe=new Hs;Object.assign(fe,le),yield yield Je(fe)}}catch(F){x={error:F}}finally{try{!W&&!S&&(O=te.return)&&(yield Je(O.call(te)))}finally{if(x)throw x.error}}})})}else{const m=Hg(this.apiClient,e);return h=ne("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(_){return wo(this,arguments,function*(){var S,x,O,B;try{for(var W=!0,te=zs(_),ie;ie=yield Je(te.next()),S=ie.done,!S;W=!0){B=ie.value,W=!1;const F=B,le=Og(yield Je(F.json()));le.sdkHttpResponse={headers:F.headers};const fe=new Hs;Object.assign(fe,le),yield yield Je(fe)}}catch(F){x={error:F}}finally{try{!W&&!S&&(O=te.return)&&(yield Je(O.call(te)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=ZE(this.apiClient,e);return h=ne("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=jE(v),S=new Sg;return Object.assign(S,_),S})}else{const m=$E(this.apiClient,e);return h=ne("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=WE(v),S=new Sg;return Object.assign(S,_),S})}}async generateImagesInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=cx(this.apiClient,e);return h=ne("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=dx(v),S=new Cg;return Object.assign(S,_),S})}else{const m=ux(this.apiClient,e);return h=ne("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=fx(v),S=new Cg;return Object.assign(S,_),S})}}async editImageInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=YE(this.apiClient,e);return u=ne("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=KE(y),v=new tS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=cA(this.apiClient,e);return u=ne("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=fA(y),v=new nS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=Jx(this.apiClient,e);return u=ne("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=Yx(y),v=new iS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=Wx(this.apiClient,e);return u=ne("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=jx(y),v=new oS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Nx(this.apiClient,e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Ac(v))}else{const m=Mx(this.apiClient,e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>xc(v))}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Hx(this.apiClient,e);return h=ne("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Ox(v),S=new Eg;return Object.assign(S,_),S})}else{const m=Gx(this.apiClient,e);return h=ne("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Vx(v),S=new Eg;return Object.assign(S,_),S})}}async update(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=aA(this.apiClient,e);return h=ne("{model}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Ac(v))}else{const m=lA(this.apiClient,e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>xc(v))}}async delete(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=zE(this.apiClient,e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=FE(v),S=new xg;return Object.assign(S,_),S})}else{const m=BE(this.apiClient,e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=qE(v),S=new xg;return Object.assign(S,_),S})}}async countTokens(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=HE(this.apiClient,e);return h=ne("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=OE(v),S=new Ag;return Object.assign(S,_),S})}else{const m=GE(this.apiClient,e);return h=ne("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=VE(v),S=new Ag;return Object.assign(S,_),S})}}async computeTokens(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=IE(this.apiClient,e);return u=ne("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=DE(y),v=new sS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=vx(this.apiClient,e);return h=ne("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>{const _=gx(v),S=new Il;return Object.assign(S,_),S})}else{const m=yx(this.apiClient,e);return h=ne("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const _=mx(v),S=new Il;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oR extends Bn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=QT(e);return h=ne("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d}else{const m=XT(e);return h=ne("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=BT(e);return u=ne("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sR(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function rR(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>mR(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function lR(n,e,o){const s={},l=c(e,["expireTime"]);o!==void 0&&l!=null&&f(o,["expireTime"],l);const u=c(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&f(o,["newSessionExpireTime"],u);const d=c(e,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const h=c(e,["liveConnectConstraints"]);o!==void 0&&h!=null&&f(o,["bidiGenerateContentSetup"],hR(n,h));const y=c(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),s}function aR(n,e){const o={},s=c(e,["config"]);return s!=null&&f(o,["config"],lR(n,s,o)),o}function uR(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function cR(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fR(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function dR(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function pR(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],tf(_));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const x=c(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const O=c(n,["systemInstruction"]);e!==void 0&&O!=null&&f(e,["setup","systemInstruction"],rR(vt(O)));const B=c(n,["tools"]);if(e!==void 0&&B!=null){let ae=Oo(B);Array.isArray(ae)&&(ae=ae.map(j=>yR(Vo(j)))),f(e,["setup","tools"],ae)}const W=c(n,["sessionResumption"]);e!==void 0&&W!=null&&f(e,["setup","sessionResumption"],gR(W));const te=c(n,["inputAudioTranscription"]);e!==void 0&&te!=null&&f(e,["setup","inputAudioTranscription"],te);const ie=c(n,["outputAudioTranscription"]);e!==void 0&&ie!=null&&f(e,["setup","outputAudioTranscription"],ie);const F=c(n,["realtimeInputConfig"]);e!==void 0&&F!=null&&f(e,["setup","realtimeInputConfig"],F);const le=c(n,["contextWindowCompression"]);e!==void 0&&le!=null&&f(e,["setup","contextWindowCompression"],le);const fe=c(n,["proactivity"]);return e!==void 0&&fe!=null&&f(e,["setup","proactivity"],fe),o}function hR(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],Pe(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],pR(l,o)),o}function mR(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],uR(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],cR(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],sR(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function gR(n){const e={},o=c(n,["handle"]);if(o!=null&&f(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yR(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],fR(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],dR(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vR(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const s=n[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const l=Object.keys(s).map(u=>`${o}.${u}`);e.push(...l)}else e.push(o)}return e.join(",")}function _R(n,e){let o=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,o=u):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(o){const u=vR(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];l.length>0&&(h=l.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];u&&y.push(u),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class TR extends Bn{constructor(e){super(),this.apiClient=e}async create(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=aR(this.apiClient,e);u=ne("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const y=_R(h,e.config);return l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SR(n,e){const o={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function CR(n){const e={},o=c(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=c(n,["config"]);return s!=null&&SR(s,e),e}function ER(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function xR(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function AR(n){const e={},o=c(n,["parent"]);o!=null&&f(e,["_url","parent"],o);const s=c(n,["config"]);return s!=null&&xR(s,e),e}function RR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["documents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bR extends Bn{constructor(e){super(),this.apiClient=e,this.list=async o=>new Bi(On.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ER(e);return u=ne("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=CR(e);l=ne("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AR(e);return u=ne("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=RR(y),v=new rS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MR extends Bn{constructor(e,o=new bR(e)){super(),this.apiClient=e,this.documents=o,this.list=async(s={})=>new Bi(On.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=vA(e);return u=ne("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=SA(e);return u=ne("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=TA(e);l=ne("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=bA(e);return u=ne("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=MA(y),v=new lS;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=NA(e);return u=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=IA(y),v=new aS;return Object.assign(v,m),v})}}async importFile(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=xA(e);return u=ne("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=EA(y),v=new $c;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NR(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function IR(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function DR(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function UR(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function kR(n,e,o){const s={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=c(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&f(e,["displayName"],l),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","epochCount"],u);const d=c(n,["learningRateMultiplier"]);if(d!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=c(n,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const y=c(n,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function PR(n,e,o){const s={};let l=c(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const x=c(n,["validationDataset"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec"],Xg(x))}else if(l==="PREFERENCE_TUNING"){const x=c(n,["validationDataset"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec"],Xg(x))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&f(e,["tunedModelDisplayName"],u);const d=c(n,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let h=c(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=c(n,["epochCount"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(h==="PREFERENCE_TUNING"){const x=c(n,["epochCount"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let y=c(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const x=c(n,["learningRateMultiplier"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(y==="PREFERENCE_TUNING"){const x=c(n,["learningRateMultiplier"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const x=c(n,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(m==="PREFERENCE_TUNING"){const x=c(n,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const x=c(n,["adapterSize"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(v==="PREFERENCE_TUNING"){const x=c(n,["adapterSize"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=c(n,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const S=c(n,["beta"]);return e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),s}function wR(n,e){const o={},s=c(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&f(o,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&YR(u);const d=c(n,["config"]);return d!=null&&kR(d,o),o}function LR(n,e){const o={},s=c(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&f(o,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&KR(u,o,e);const d=c(n,["config"]);return d!=null&&PR(d,o,e),o}function GR(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function HR(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function VR(n,e,o){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function OR(n,e,o){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function BR(n,e){const o={},s=c(n,["config"]);return s!=null&&VR(s,o),o}function zR(n,e){const o={},s=c(n,["config"]);return s!=null&&OR(s,o),o}function qR(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&f(o,["nextPageToken"],l);const u=c(n,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>Yy(h))),f(o,["tuningJobs"],d)}return o}function FR(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&f(o,["nextPageToken"],l);const u=c(n,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>bc(h))),f(o,["tuningJobs"],d)}return o}function JR(n,e){const o={},s=c(n,["name"]);s!=null&&f(o,["model"],s);const l=c(n,["name"]);return l!=null&&f(o,["endpoint"],l),o}function YR(n,e){const o={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(n,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(o,["examples","examples"],l)}return o}function KR(n,e,o){const s={};let l=c(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(l==="PREFERENCE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Yy(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["state"]);u!=null&&f(o,["state"],Ry(u));const d=c(n,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(n,["tuningTask","startTime"]);h!=null&&f(o,["startTime"],h);const y=c(n,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=c(n,["description"]);v!=null&&f(o,["description"],v);const _=c(n,["baseModel"]);_!=null&&f(o,["baseModel"],_);const S=c(n,["_self"]);return S!=null&&f(o,["tunedModel"],JR(S)),o}function bc(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["state"]);u!=null&&f(o,["state"],Ry(u));const d=c(n,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(o,["startTime"],h);const y=c(n,["endTime"]);y!=null&&f(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=c(n,["error"]);v!=null&&f(o,["error"],v);const _=c(n,["description"]);_!=null&&f(o,["description"],_);const S=c(n,["baseModel"]);S!=null&&f(o,["baseModel"],S);const x=c(n,["tunedModel"]);x!=null&&f(o,["tunedModel"],x);const O=c(n,["preTunedModel"]);O!=null&&f(o,["preTunedModel"],O);const B=c(n,["supervisedTuningSpec"]);B!=null&&f(o,["supervisedTuningSpec"],B);const W=c(n,["preferenceOptimizationSpec"]);W!=null&&f(o,["preferenceOptimizationSpec"],W);const te=c(n,["tuningDataStats"]);te!=null&&f(o,["tuningDataStats"],te);const ie=c(n,["encryptionSpec"]);ie!=null&&f(o,["encryptionSpec"],ie);const F=c(n,["partnerModelTuningSpec"]);F!=null&&f(o,["partnerModelTuningSpec"],F);const le=c(n,["customBaseModel"]);le!=null&&f(o,["customBaseModel"],le);const fe=c(n,["experiment"]);fe!=null&&f(o,["experiment"],fe);const ae=c(n,["labels"]);ae!=null&&f(o,["labels"],ae);const j=c(n,["outputUri"]);j!=null&&f(o,["outputUri"],j);const Te=c(n,["pipelineJob"]);Te!=null&&f(o,["pipelineJob"],Te);const ce=c(n,["serviceAccount"]);ce!=null&&f(o,["serviceAccount"],ce);const ge=c(n,["tunedModelDisplayName"]);ge!=null&&f(o,["tunedModelDisplayName"],ge);const Ie=c(n,["veoTuningSpec"]);return Ie!=null&&f(o,["veoTuningSpec"],Ie),o}function XR(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(n,["done"]);d!=null&&f(o,["done"],d);const h=c(n,["error"]);return h!=null&&f(o,["error"],h),o}function Xg(n,e){const o={},s=c(n,["gcsUri"]);s!=null&&f(o,["validationDatasetUri"],s);const l=c(n,["vertexDatasetResource"]);return l!=null&&f(o,["validationDatasetUri"],l),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QR extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Bi(On.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(l.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),u=await this.tuneMldevInternal(l);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:Tc.JOB_STATE_QUEUED}}}}async getInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=HR(e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>bc(v))}else{const m=GR(e);return h=ne("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Yy(v))}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=zR(e);return h=ne("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=FR(v),S=new Rg;return Object.assign(S,_),S})}else{const m=BR(e);return h=ne("tunedModels",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=qR(v),S=new Rg;return Object.assign(S,_),S})}}async cancel(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=IR(e);return h=ne("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=UR(v),S=new bg;return Object.assign(S,_),S})}else{const m=NR(e);return h=ne("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=DR(v),S=new bg;return Object.assign(S,_),S})}}async tuneInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=LR(e,e);return u=ne("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>bc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=wR(e);return u=ne("tunedModels",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>XR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $R{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ZR=1024*1024*8,WR=3,jR=1e3,eb=2,Ul="x-goog-upload-status";async function tb(n,e,o){var s;const l=await Ky(n,e,o),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[Ul])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function nb(n,e,o){var s;const l=await Ky(n,e,o),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[Ul])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=Ty(u),h=new Zc;return Object.assign(h,d),h}async function Ky(n,e,o){var s,l;let u=0,d=0,h=new Sc(new Response),y="upload";for(u=n.size;d<u;){const m=Math.min(ZR,u-d),v=n.slice(d,d+m);d+m>=u&&(y+=", finalize");let _=0,S=jR;for(;_<WR&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[Ul]));)_++,await ob(S),S=S*eb;if(d+=m,((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l[Ul])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function ib(n){return{size:n.size,type:n.type}}function ob(n){return new Promise(e=>setTimeout(e,n))}class sb{async upload(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tb(e,o,s)}async uploadToFileSearchStore(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nb(e,o,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ib(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rb{create(e,o,s){return new lb(e,o,s)}}class lb{constructor(e,o,s){this.url=e,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qg="x-goog-api-key";class ab{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(Qg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Qg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ub="gl-node/";class cb{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const s=VT(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new ab(this.apiKey);this.apiClient=new HA({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ub+"web",uploader:new sb,downloader:new $R}),this.models=new iR(this.apiClient),this.live=new ZA(this.apiClient,l,new rb),this.batches=new hC(this.apiClient),this.chats=new QC(this.models,this.apiClient),this.caches=new YC(this.apiClient),this.files=new sE(this.apiClient),this.operations=new oR(this.apiClient),this.authTokens=new TR(this.apiClient),this.tunings=new QR(this.apiClient),this.fileSearchStores=new MR(this.apiClient)}}new cb({apiKey:void 0});const fb=async()=>({disaster:" ",description:"       .  ,  .",bunkerSize:150,capacity:10,foodSupply:"  2 ",equipment:["","  "],location:"   ",enemy:"-"}),db=async(n,e)=>"     API. ,  ,  .";class pb{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const o of this._parts)e.push(o);return hb(e).buffer}}function hb(n){let e=0;for(const l of n)e+=l.byteLength;const o=new Uint8Array(e);let s=0;for(const l of n){const u=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);o.set(u,s),s+=l.byteLength}return o}function Xy(n){return new mb(n).unpack()}function Qy(n){const e=new gb,o=e.pack(n);return o instanceof Promise?o.then(()=>e.getBuffer()):e.getBuffer()}class mb{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let o;if((o=e^160)<=15)return this.unpack_raw(o);if((o=e^176)<=15)return this.unpack_string(o);if((o=e^144)<=15)return this.unpack_array(o);if((o=e^128)<=15)return this.unpack_map(o);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return o=this.unpack_uint16(),this.unpack_string(o);case 217:return o=this.unpack_uint32(),this.unpack_string(o);case 218:return o=this.unpack_uint16(),this.unpack_raw(o);case 219:return o=this.unpack_uint32(),this.unpack_raw(o);case 220:return o=this.unpack_uint16(),this.unpack_array(o);case 221:return o=this.unpack_uint32(),this.unpack_array(o);case 222:return o=this.unpack_uint16(),this.unpack_map(o);case 223:return o=this.unpack_uint32(),this.unpack_map(o)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),o=(e[0]&255)*256+(e[1]&255);return this.index+=2,o}unpack_uint32(){const e=this.read(4),o=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,o}unpack_uint64(){const e=this.read(8),o=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,o}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const o=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,o}unpack_string(e){const o=this.read(e);let s=0,l="",u,d;for(;s<e;)u=o[s],u<160?(d=u,s++):(u^192)<32?(d=(u&31)<<6|o[s+1]&63,s+=2):(u^224)<16?(d=(u&15)<<12|(o[s+1]&63)<<6|o[s+2]&63,s+=3):(d=(u&7)<<18|(o[s+1]&63)<<12|(o[s+2]&63)<<6|o[s+3]&63,s+=4),l+=String.fromCodePoint(d);return this.index+=e,l}unpack_array(e){const o=new Array(e);for(let s=0;s<e;s++)o[s]=this.unpack();return o}unpack_map(e){const o={};for(let s=0;s<e;s++){const l=this.unpack();o[l]=this.unpack()}return o}unpack_float(){const e=this.unpack_uint32(),o=e>>31,s=(e>>23&255)-127,l=e&8388607|8388608;return(o===0?1:-1)*l*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),o=this.unpack_uint32(),s=e>>31,l=(e>>20&2047)-1023,d=(e&1048575|1048576)*2**(l-20)+o*2**(l-52);return(s===0?1:-1)*d}read(e){const o=this.index;if(o+e<=this.length)return this.dataView.subarray(o,o+e);throw new Error("BinaryPackFailure: read index out of range")}}class gb{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const o=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(o==Object||o.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${o.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const o=e.length;if(o<=15)this.pack_uint8(160+o);else if(o<=65535)this._bufferBuilder.append(218),this.pack_uint16(o);else if(o<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(o);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const o=this._textEncoder.encode(e),s=o.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(o)}pack_array(e){const o=e.length;if(o<=15)this.pack_uint8(144+o);else if(o<=65535)this._bufferBuilder.append(220),this.pack_uint16(o);else if(o<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(o);else throw new Error("Invalid length");const s=l=>{if(l<o){const u=this.pack(e[l]);return u instanceof Promise?u.then(()=>s(l+1)):s(l+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let o=0;e<0&&(o=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),l=e/2**s-1,u=Math.floor(l*2**52),d=2**32,h=o<<31|s+1023<<20|u/d&1048575,y=u%d;this._bufferBuilder.append(203),this.pack_int32(h),this.pack_int32(y)}pack_object(e){const o=Object.keys(e),s=o.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const l=u=>{if(u<o.length){const d=o[u];if(e.hasOwnProperty(d)){this.pack(d);const h=this.pack(e[d]);if(h instanceof Promise)return h.then(()=>l(u+1))}return l(u+1)}};return l(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const o=e&4294967295;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255)}pack_uint64(e){const o=e/4294967296,s=e%2**32;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const o=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new pb,this._textEncoder=new TextEncoder}}let $y=!0,Zy=!0;function Os(n,e,o){const s=n.match(e);return s&&s.length>=o&&parseFloat(s[o],10)}function zi(n,e,o){if(!n.RTCPeerConnection)return;const s=n.RTCPeerConnection.prototype,l=s.addEventListener;s.addEventListener=function(d,h){if(d!==e)return l.apply(this,arguments);const y=m=>{const v=o(m);v&&(h.handleEvent?h.handleEvent(v):h(v))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(h,y),l.apply(this,[d,y])};const u=s.removeEventListener;s.removeEventListener=function(d,h){if(d!==e||!this._eventMap||!this._eventMap[e])return u.apply(this,arguments);if(!this._eventMap[e].has(h))return u.apply(this,arguments);const y=this._eventMap[e].get(h);return this._eventMap[e].delete(h),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,u.apply(this,[d,y])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(d){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),d&&this.addEventListener(e,this["_on"+e]=d)},enumerable:!0,configurable:!0})}function yb(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):($y=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function vb(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(Zy=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function Wy(){if(typeof window=="object"){if($y)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function of(n,e){Zy&&console.warn(n+" is deprecated, please use "+e+" instead.")}function _b(n){const e={browser:null,version:null};if(typeof n>"u"||!n.navigator||!n.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:o}=n;if(o.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Os(o.userAgent,/Firefox\/(\d+)\./,1));else if(o.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Os(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(n.RTCPeerConnection&&o.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Os(o.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype,e._safariVersion=Os(o.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function $g(n){return Object.prototype.toString.call(n)==="[object Object]"}function jy(n){return $g(n)?Object.keys(n).reduce(function(e,o){const s=$g(n[o]),l=s?jy(n[o]):n[o],u=s&&!Object.keys(l).length;return l===void 0||u?e:Object.assign(e,{[o]:l})},{}):n}function Mc(n,e,o){!e||o.has(e.id)||(o.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?Mc(n,n.get(e[s]),o):s.endsWith("Ids")&&e[s].forEach(l=>{Mc(n,n.get(l),o)})}))}function Zg(n,e,o){const s=o?"outbound-rtp":"inbound-rtp",l=new Map;if(e===null)return l;const u=[];return n.forEach(d=>{d.type==="track"&&d.trackIdentifier===e.id&&u.push(d)}),u.forEach(d=>{n.forEach(h=>{h.type===s&&h.trackId===d.id&&Mc(n,h,l)})}),l}const Wg=Wy;function e0(n,e){const o=n&&n.navigator;if(!o.mediaDevices)return;const s=function(h){if(typeof h!="object"||h.mandatory||h.optional)return h;const y={};return Object.keys(h).forEach(m=>{if(m==="require"||m==="advanced"||m==="mediaSource")return;const v=typeof h[m]=="object"?h[m]:{ideal:h[m]};v.exact!==void 0&&typeof v.exact=="number"&&(v.min=v.max=v.exact);const _=function(S,x){return S?S+x.charAt(0).toUpperCase()+x.slice(1):x==="deviceId"?"sourceId":x};if(v.ideal!==void 0){y.optional=y.optional||[];let S={};typeof v.ideal=="number"?(S[_("min",m)]=v.ideal,y.optional.push(S),S={},S[_("max",m)]=v.ideal,y.optional.push(S)):(S[_("",m)]=v.ideal,y.optional.push(S))}v.exact!==void 0&&typeof v.exact!="number"?(y.mandatory=y.mandatory||{},y.mandatory[_("",m)]=v.exact):["min","max"].forEach(S=>{v[S]!==void 0&&(y.mandatory=y.mandatory||{},y.mandatory[_(S,m)]=v[S])})}),h.advanced&&(y.optional=(y.optional||[]).concat(h.advanced)),y},l=function(h,y){if(e.version>=61)return y(h);if(h=JSON.parse(JSON.stringify(h)),h&&typeof h.audio=="object"){const m=function(v,_,S){_ in v&&!(S in v)&&(v[S]=v[_],delete v[_])};h=JSON.parse(JSON.stringify(h)),m(h.audio,"autoGainControl","googAutoGainControl"),m(h.audio,"noiseSuppression","googNoiseSuppression"),h.audio=s(h.audio)}if(h&&typeof h.video=="object"){let m=h.video.facingMode;m=m&&(typeof m=="object"?m:{ideal:m});const v=e.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(o.mediaDevices.getSupportedConstraints&&o.mediaDevices.getSupportedConstraints().facingMode&&!v)){delete h.video.facingMode;let _;if(m.exact==="environment"||m.ideal==="environment"?_=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(_=["front"]),_)return o.mediaDevices.enumerateDevices().then(S=>{S=S.filter(O=>O.kind==="videoinput");let x=S.find(O=>_.some(B=>O.label.toLowerCase().includes(B)));return!x&&S.length&&_.includes("back")&&(x=S[S.length-1]),x&&(h.video.deviceId=m.exact?{exact:x.deviceId}:{ideal:x.deviceId}),h.video=s(h.video),Wg("chrome: "+JSON.stringify(h)),y(h)})}h.video=s(h.video)}return Wg("chrome: "+JSON.stringify(h)),y(h)},u=function(h){return e.version>=64?h:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[h.name]||h.name,message:h.message,constraint:h.constraint||h.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},d=function(h,y,m){l(h,v=>{o.webkitGetUserMedia(v,y,_=>{m&&m(u(_))})})};if(o.getUserMedia=d.bind(o),o.mediaDevices.getUserMedia){const h=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(y){return l(y,m=>h(m).then(v=>{if(m.audio&&!v.getAudioTracks().length||m.video&&!v.getVideoTracks().length)throw v.getTracks().forEach(_=>{_.stop()}),new DOMException("","NotFoundError");return v},v=>Promise.reject(u(v))))}}}function Tb(n,e){if(!(n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices)&&n.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}n.navigator.mediaDevices.getDisplayMedia=function(s){return e(s).then(l=>{const u=s.video&&s.video.width,d=s.video&&s.video.height,h=s.video&&s.video.frameRate;return s.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:l,maxFrameRate:h||3}},u&&(s.video.mandatory.maxWidth=u),d&&(s.video.mandatory.maxHeight=d),n.navigator.mediaDevices.getUserMedia(s)})}}}function t0(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function n0(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("ontrack"in n.RTCPeerConnection.prototype)){Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(o){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=o)},enumerable:!0,configurable:!0});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",l=>{let u;n.RTCPeerConnection.prototype.getReceivers?u=this.getReceivers().find(h=>h.track&&h.track.id===l.track.id):u={track:l.track};const d=new Event("track");d.track=l.track,d.receiver=u,d.transceiver={receiver:u},d.streams=[s.stream],this.dispatchEvent(d)}),s.stream.getTracks().forEach(l=>{let u;n.RTCPeerConnection.prototype.getReceivers?u=this.getReceivers().find(h=>h.track&&h.track.id===l.id):u={track:l};const d=new Event("track");d.track=l,d.receiver=u,d.transceiver={receiver:u},d.streams=[s.stream],this.dispatchEvent(d)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else zi(n,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function i0(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){const e=function(l,u){return{track:u,get dtmf(){return this._dtmf===void 0&&(u.kind==="audio"?this._dtmf=l.createDTMFSender(u):this._dtmf=null),this._dtmf},_pc:l}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const l=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(h,y){let m=l.apply(this,arguments);return m||(m=e(this,h),this._senders.push(m)),m};const u=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(h){u.apply(this,arguments);const y=this._senders.indexOf(h);y!==-1&&this._senders.splice(y,1)}}const o=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(u){this._senders=this._senders||[],o.apply(this,[u]),u.getTracks().forEach(d=>{this._senders.push(e(this,d))})};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(u){this._senders=this._senders||[],s.apply(this,[u]),u.getTracks().forEach(d=>{const h=this._senders.find(y=>y.track===d);h&&this._senders.splice(this._senders.indexOf(h),1)})}}else if(typeof n=="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){const e=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(l=>l._pc=this),s},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function o0(n){if(!n.RTCPeerConnection)return;const e=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[s,l,u]=arguments;if(arguments.length>0&&typeof s=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof s!="function"))return e.apply(this,[]);const d=function(y){const m={};return y.result().forEach(_=>{const S={id:_.id,timestamp:_.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[_.type]||_.type};_.names().forEach(x=>{S[x]=_.stat(x)}),m[S.id]=S}),m},h=function(y){return new Map(Object.keys(y).map(m=>[m,y[m]]))};if(arguments.length>=2){const y=function(m){l(h(d(m)))};return e.apply(this,[y,s])}return new Promise((y,m)=>{e.apply(this,[function(v){y(h(d(v)))},m])}).then(l,u)}}function s0(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!("getStats"in n.RTCRtpSender.prototype)){const o=n.RTCPeerConnection.prototype.getSenders;o&&(n.RTCPeerConnection.prototype.getSenders=function(){const u=o.apply(this,[]);return u.forEach(d=>d._pc=this),u});const s=n.RTCPeerConnection.prototype.addTrack;s&&(n.RTCPeerConnection.prototype.addTrack=function(){const u=s.apply(this,arguments);return u._pc=this,u}),n.RTCRtpSender.prototype.getStats=function(){const u=this;return this._pc.getStats().then(d=>Zg(d,u.track,!0))}}if(!("getStats"in n.RTCRtpReceiver.prototype)){const o=n.RTCPeerConnection.prototype.getReceivers;o&&(n.RTCPeerConnection.prototype.getReceivers=function(){const l=o.apply(this,[]);return l.forEach(u=>u._pc=this),l}),zi(n,"track",s=>(s.receiver._pc=s.srcElement,s)),n.RTCRtpReceiver.prototype.getStats=function(){const l=this;return this._pc.getStats().then(u=>Zg(u,l.track,!1))}}if(!("getStats"in n.RTCRtpSender.prototype&&"getStats"in n.RTCRtpReceiver.prototype))return;const e=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){const s=arguments[0];let l,u,d;return this.getSenders().forEach(h=>{h.track===s&&(l?d=!0:l=h)}),this.getReceivers().forEach(h=>(h.track===s&&(u?d=!0:u=h),h.track===s)),d||l&&u?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):l?l.getStats():u?u.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function r0(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(d=>this._shimmedLocalStreams[d][0])};const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(d,h){if(!h)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const y=e.apply(this,arguments);return this._shimmedLocalStreams[h.id]?this._shimmedLocalStreams[h.id].indexOf(y)===-1&&this._shimmedLocalStreams[h.id].push(y):this._shimmedLocalStreams[h.id]=[h,y],y};const o=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(d){this._shimmedLocalStreams=this._shimmedLocalStreams||{},d.getTracks().forEach(m=>{if(this.getSenders().find(_=>_.track===m))throw new DOMException("Track already exists.","InvalidAccessError")});const h=this.getSenders();o.apply(this,arguments);const y=this.getSenders().filter(m=>h.indexOf(m)===-1);this._shimmedLocalStreams[d.id]=[d].concat(y)};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(d){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[d.id],s.apply(this,arguments)};const l=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(d){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},d&&Object.keys(this._shimmedLocalStreams).forEach(h=>{const y=this._shimmedLocalStreams[h].indexOf(d);y!==-1&&this._shimmedLocalStreams[h].splice(y,1),this._shimmedLocalStreams[h].length===1&&delete this._shimmedLocalStreams[h]}),l.apply(this,arguments)}}function l0(n,e){if(!n.RTCPeerConnection)return;if(n.RTCPeerConnection.prototype.addTrack&&e.version>=65)return r0(n);const o=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){const v=o.apply(this);return this._reverseStreams=this._reverseStreams||{},v.map(_=>this._reverseStreams[_.id])};const s=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(v){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},v.getTracks().forEach(_=>{if(this.getSenders().find(x=>x.track===_))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[v.id]){const _=new n.MediaStream(v.getTracks());this._streams[v.id]=_,this._reverseStreams[_.id]=v,v=_}s.apply(this,[v])};const l=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(v){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.apply(this,[this._streams[v.id]||v]),delete this._reverseStreams[this._streams[v.id]?this._streams[v.id].id:v.id],delete this._streams[v.id]},n.RTCPeerConnection.prototype.addTrack=function(v,_){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const S=[].slice.call(arguments,1);if(S.length!==1||!S[0].getTracks().find(B=>B===v))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(B=>B.track===v))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const O=this._streams[_.id];if(O)O.addTrack(v),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const B=new n.MediaStream([v]);this._streams[_.id]=B,this._reverseStreams[B.id]=_,this.addStream(B)}return this.getSenders().find(B=>B.track===v)};function u(m,v){let _=v.sdp;return Object.keys(m._reverseStreams||[]).forEach(S=>{const x=m._reverseStreams[S],O=m._streams[x.id];_=_.replace(new RegExp(O.id,"g"),x.id)}),new RTCSessionDescription({type:v.type,sdp:_})}function d(m,v){let _=v.sdp;return Object.keys(m._reverseStreams||[]).forEach(S=>{const x=m._reverseStreams[S],O=m._streams[x.id];_=_.replace(new RegExp(x.id,"g"),O.id)}),new RTCSessionDescription({type:v.type,sdp:_})}["createOffer","createAnswer"].forEach(function(m){const v=n.RTCPeerConnection.prototype[m],_={[m](){const S=arguments;return arguments.length&&typeof arguments[0]=="function"?v.apply(this,[O=>{const B=u(this,O);S[0].apply(null,[B])},O=>{S[1]&&S[1].apply(null,O)},arguments[2]]):v.apply(this,arguments).then(O=>u(this,O))}};n.RTCPeerConnection.prototype[m]=_[m]});const h=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?h.apply(this,arguments):(arguments[0]=d(this,arguments[0]),h.apply(this,arguments))};const y=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get(){const m=y.get.apply(this);return m.type===""?m:u(this,m)}}),n.RTCPeerConnection.prototype.removeTrack=function(v){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!v._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(v._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let S;Object.keys(this._streams).forEach(x=>{this._streams[x].getTracks().find(B=>v.track===B)&&(S=this._streams[x])}),S&&(S.getTracks().length===1?this.removeStream(this._reverseStreams[S.id]):S.removeTrack(v.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Nc(n,e){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),n.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const s=n.RTCPeerConnection.prototype[o],l={[o](){return arguments[0]=new(o==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};n.RTCPeerConnection.prototype[o]=l[o]})}function a0(n,e){zi(n,"negotiationneeded",o=>{const s=o.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return o})}const jg=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:a0,shimAddTrackRemoveTrack:l0,shimAddTrackRemoveTrackWithNative:r0,shimGetDisplayMedia:Tb,shimGetSendersWithDtmf:i0,shimGetStats:o0,shimGetUserMedia:e0,shimMediaStream:t0,shimOnTrack:n0,shimPeerConnection:Nc,shimSenderReceiverGetStats:s0},Symbol.toStringTag,{value:"Module"}));function u0(n,e){const o=n&&n.navigator,s=n&&n.MediaStreamTrack;if(o.getUserMedia=function(l,u,d){of("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(l).then(u,d)},!(e.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){const l=function(d,h,y){h in d&&!(y in d)&&(d[y]=d[h],delete d[h])},u=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(d){return typeof d=="object"&&typeof d.audio=="object"&&(d=JSON.parse(JSON.stringify(d)),l(d.audio,"autoGainControl","mozAutoGainControl"),l(d.audio,"noiseSuppression","mozNoiseSuppression")),u(d)},s&&s.prototype.getSettings){const d=s.prototype.getSettings;s.prototype.getSettings=function(){const h=d.apply(this,arguments);return l(h,"mozAutoGainControl","autoGainControl"),l(h,"mozNoiseSuppression","noiseSuppression"),h}}if(s&&s.prototype.applyConstraints){const d=s.prototype.applyConstraints;s.prototype.applyConstraints=function(h){return this.kind==="audio"&&typeof h=="object"&&(h=JSON.parse(JSON.stringify(h)),l(h,"autoGainControl","mozAutoGainControl"),l(h,"noiseSuppression","mozNoiseSuppression")),d.apply(this,[h])}}}}function Sb(n,e){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||n.navigator.mediaDevices&&(n.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const l=new DOMException("getDisplayMedia without video constraints is undefined");return l.name="NotFoundError",l.code=8,Promise.reject(l)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,n.navigator.mediaDevices.getUserMedia(s)})}function c0(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ic(n,e){if(typeof n!="object"||!(n.RTCPeerConnection||n.mozRTCPeerConnection))return;!n.RTCPeerConnection&&n.mozRTCPeerConnection&&(n.RTCPeerConnection=n.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(l){const u=n.RTCPeerConnection.prototype[l],d={[l](){return arguments[0]=new(l==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),u.apply(this,arguments)}};n.RTCPeerConnection.prototype[l]=d[l]});const o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[u,d,h]=arguments;return s.apply(this,[u||null]).then(y=>{if(e.version<53&&!d)try{y.forEach(m=>{m.type=o[m.type]||m.type})}catch(m){if(m.name!=="TypeError")throw m;y.forEach((v,_)=>{y.set(_,Object.assign({},v,{type:o[v.type]||v.type}))})}return y}).then(d,h)}}function f0(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpSender.prototype)return;const e=n.RTCPeerConnection.prototype.getSenders;e&&(n.RTCPeerConnection.prototype.getSenders=function(){const l=e.apply(this,[]);return l.forEach(u=>u._pc=this),l});const o=n.RTCPeerConnection.prototype.addTrack;o&&(n.RTCPeerConnection.prototype.addTrack=function(){const l=o.apply(this,arguments);return l._pc=this,l}),n.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function d0(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpReceiver.prototype)return;const e=n.RTCPeerConnection.prototype.getReceivers;e&&(n.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(l=>l._pc=this),s}),zi(n,"track",o=>(o.receiver._pc=o.srcElement,o)),n.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function p0(n){!n.RTCPeerConnection||"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(o){of("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&o.getTracks().includes(s.track)&&this.removeTrack(s)})})}function h0(n){n.DataChannel&&!n.RTCDataChannel&&(n.RTCDataChannel=n.DataChannel)}function m0(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.addTransceiver;e&&(n.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const l=s.length>0;l&&s.forEach(d=>{if("rid"in d&&!/^[a-z0-9]{0,16}$/i.test(d.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in d&&!(parseFloat(d.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in d&&!(parseFloat(d.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const u=e.apply(this,arguments);if(l){const{sender:d}=u,h=d.getParameters();(!("encodings"in h)||h.encodings.length===1&&Object.keys(h.encodings[0]).length===0)&&(h.encodings=s,d.sendEncodings=s,this.setParametersPromises.push(d.setParameters(h).then(()=>{delete d.sendEncodings}).catch(()=>{delete d.sendEncodings})))}return u})}function g0(n){if(!(typeof n=="object"&&n.RTCRtpSender))return;const e=n.RTCRtpSender.prototype.getParameters;e&&(n.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function y0(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function v0(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createAnswer;n.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const ey=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:m0,shimCreateAnswer:v0,shimCreateOffer:y0,shimGetDisplayMedia:Sb,shimGetParameters:g0,shimGetUserMedia:u0,shimOnTrack:c0,shimPeerConnection:Ic,shimRTCDataChannel:h0,shimReceiverGetStats:d0,shimRemoveStream:p0,shimSenderGetStats:f0},Symbol.toStringTag,{value:"Module"}));function _0(n){if(!(typeof n!="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(l=>e.call(this,l,s)),s.getVideoTracks().forEach(l=>e.call(this,l,s))},n.RTCPeerConnection.prototype.addTrack=function(s,...l){return l&&l.forEach(u=>{this._localStreams?this._localStreams.includes(u)||this._localStreams.push(u):this._localStreams=[u]}),e.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(o){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(o);if(s===-1)return;this._localStreams.splice(s,1);const l=o.getTracks();this.getSenders().forEach(u=>{l.includes(u.track)&&this.removeTrack(u)})})}}function T0(n){if(!(typeof n!="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(o){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=o),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(l=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(l))return;this._remoteStreams.push(l);const u=new Event("addstream");u.stream=l,this.dispatchEvent(u)})})}});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(u=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(u)>=0)return;s._remoteStreams.push(u);const d=new Event("addstream");d.stream=u,s.dispatchEvent(d)})}),e.apply(s,arguments)}}}function S0(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const e=n.RTCPeerConnection.prototype,o=e.createOffer,s=e.createAnswer,l=e.setLocalDescription,u=e.setRemoteDescription,d=e.addIceCandidate;e.createOffer=function(m,v){const _=arguments.length>=2?arguments[2]:arguments[0],S=o.apply(this,[_]);return v?(S.then(m,v),Promise.resolve()):S},e.createAnswer=function(m,v){const _=arguments.length>=2?arguments[2]:arguments[0],S=s.apply(this,[_]);return v?(S.then(m,v),Promise.resolve()):S};let h=function(y,m,v){const _=l.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_};e.setLocalDescription=h,h=function(y,m,v){const _=u.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_},e.setRemoteDescription=h,h=function(y,m,v){const _=d.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_},e.addIceCandidate=h}function C0(n){const e=n&&n.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const o=e.mediaDevices,s=o.getUserMedia.bind(o);e.mediaDevices.getUserMedia=l=>s(E0(l))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,l,u){e.mediaDevices.getUserMedia(s).then(l,u)}).bind(e))}function E0(n){return n&&n.video!==void 0?Object.assign({},n,{video:jy(n.video)}):n}function x0(n){if(!n.RTCPeerConnection)return;const e=n.RTCPeerConnection;n.RTCPeerConnection=function(s,l){if(s&&s.iceServers){const u=[];for(let d=0;d<s.iceServers.length;d++){let h=s.iceServers[d];h.urls===void 0&&h.url?(of("RTCIceServer.url","RTCIceServer.urls"),h=JSON.parse(JSON.stringify(h)),h.urls=h.url,delete h.url,u.push(h)):u.push(s.iceServers[d])}s.iceServers=u}return new e(s,l)},n.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function A0(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function R0(n){const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const l=this.getTransceivers().find(d=>d.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):s.offerToReceiveAudio===!0&&!l&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const u=this.getTransceivers().find(d=>d.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&u?u.direction==="sendrecv"?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":u.direction==="recvonly"&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):s.offerToReceiveVideo===!0&&!u&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function b0(n){typeof n!="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const ty=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:b0,shimCallbacksAPI:S0,shimConstraints:E0,shimCreateOfferLegacy:R0,shimGetUserMedia:C0,shimLocalStreamsAPI:_0,shimRTCIceServerUrls:x0,shimRemoteStreamsAPI:T0,shimTrackEventTransceiver:A0},Symbol.toStringTag,{value:"Module"}));var dc={exports:{}},ny;function Cb(){return ny||(ny=1,(function(n){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(o){return o.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(o){return o.split(`
m=`).map((l,u)=>(u>0?"m="+l:l).trim()+`\r
`)},e.getDescription=function(o){const s=e.splitSections(o);return s&&s[0]},e.getMediaSections=function(o){const s=e.splitSections(o);return s.shift(),s},e.matchPrefix=function(o,s){return e.splitLines(o).filter(l=>l.indexOf(s)===0)},e.parseCandidate=function(o){let s;o.indexOf("a=candidate:")===0?s=o.substring(12).split(" "):s=o.substring(10).split(" ");const l={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let u=8;u<s.length;u+=2)switch(s[u]){case"raddr":l.relatedAddress=s[u+1];break;case"rport":l.relatedPort=parseInt(s[u+1],10);break;case"tcptype":l.tcpType=s[u+1];break;case"ufrag":l.ufrag=s[u+1],l.usernameFragment=s[u+1];break;default:l[s[u]]===void 0&&(l[s[u]]=s[u+1]);break}return l},e.writeCandidate=function(o){const s=[];s.push(o.foundation);const l=o.component;l==="rtp"?s.push(1):l==="rtcp"?s.push(2):s.push(l),s.push(o.protocol.toUpperCase()),s.push(o.priority),s.push(o.address||o.ip),s.push(o.port);const u=o.type;return s.push("typ"),s.push(u),u!=="host"&&o.relatedAddress&&o.relatedPort&&(s.push("raddr"),s.push(o.relatedAddress),s.push("rport"),s.push(o.relatedPort)),o.tcpType&&o.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(o.tcpType)),(o.usernameFragment||o.ufrag)&&(s.push("ufrag"),s.push(o.usernameFragment||o.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(o){return o.substring(14).split(" ")},e.parseRtpMap=function(o){let s=o.substring(9).split(" ");const l={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),l.name=s[0],l.clockRate=parseInt(s[1],10),l.channels=s.length===3?parseInt(s[2],10):1,l.numChannels=l.channels,l},e.writeRtpMap=function(o){let s=o.payloadType;o.preferredPayloadType!==void 0&&(s=o.preferredPayloadType);const l=o.channels||o.numChannels||1;return"a=rtpmap:"+s+" "+o.name+"/"+o.clockRate+(l!==1?"/"+l:"")+`\r
`},e.parseExtmap=function(o){const s=o.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(o){return"a=extmap:"+(o.id||o.preferredId)+(o.direction&&o.direction!=="sendrecv"?"/"+o.direction:"")+" "+o.uri+(o.attributes?" "+o.attributes:"")+`\r
`},e.parseFmtp=function(o){const s={};let l;const u=o.substring(o.indexOf(" ")+1).split(";");for(let d=0;d<u.length;d++)l=u[d].trim().split("="),s[l[0].trim()]=l[1];return s},e.writeFmtp=function(o){let s="",l=o.payloadType;if(o.preferredPayloadType!==void 0&&(l=o.preferredPayloadType),o.parameters&&Object.keys(o.parameters).length){const u=[];Object.keys(o.parameters).forEach(d=>{o.parameters[d]!==void 0?u.push(d+"="+o.parameters[d]):u.push(d)}),s+="a=fmtp:"+l+" "+u.join(";")+`\r
`}return s},e.parseRtcpFb=function(o){const s=o.substring(o.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(o){let s="",l=o.payloadType;return o.preferredPayloadType!==void 0&&(l=o.preferredPayloadType),o.rtcpFeedback&&o.rtcpFeedback.length&&o.rtcpFeedback.forEach(u=>{s+="a=rtcp-fb:"+l+" "+u.type+(u.parameter&&u.parameter.length?" "+u.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(o){const s=o.indexOf(" "),l={ssrc:parseInt(o.substring(7,s),10)},u=o.indexOf(":",s);return u>-1?(l.attribute=o.substring(s+1,u),l.value=o.substring(u+1)):l.attribute=o.substring(s+1),l},e.parseSsrcGroup=function(o){const s=o.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(l=>parseInt(l,10))}},e.getMid=function(o){const s=e.matchPrefix(o,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(o){const s=o.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(o,s){return{role:"auto",fingerprints:e.matchPrefix(o+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(o,s){let l="a=setup:"+s+`\r
`;return o.fingerprints.forEach(u=>{l+="a=fingerprint:"+u.algorithm+" "+u.value+`\r
`}),l},e.parseCryptoLine=function(o){const s=o.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(o){return"a=crypto:"+o.tag+" "+o.cryptoSuite+" "+(typeof o.keyParams=="object"?e.writeCryptoKeyParams(o.keyParams):o.keyParams)+(o.sessionParams?" "+o.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(o){if(o.indexOf("inline:")!==0)return null;const s=o.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(o){return o.keyMethod+":"+o.keySalt+(o.lifeTime?"|"+o.lifeTime:"")+(o.mkiValue&&o.mkiLength?"|"+o.mkiValue+":"+o.mkiLength:"")},e.getCryptoParameters=function(o,s){return e.matchPrefix(o+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(o,s){const l=e.matchPrefix(o+s,"a=ice-ufrag:")[0],u=e.matchPrefix(o+s,"a=ice-pwd:")[0];return l&&u?{usernameFragment:l.substring(12),password:u.substring(10)}:null},e.writeIceParameters=function(o){let s="a=ice-ufrag:"+o.usernameFragment+`\r
a=ice-pwd:`+o.password+`\r
`;return o.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(o){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},u=e.splitLines(o)[0].split(" ");s.profile=u[2];for(let h=3;h<u.length;h++){const y=u[h],m=e.matchPrefix(o,"a=rtpmap:"+y+" ")[0];if(m){const v=e.parseRtpMap(m),_=e.matchPrefix(o,"a=fmtp:"+y+" ");switch(v.parameters=_.length?e.parseFmtp(_[0]):{},v.rtcpFeedback=e.matchPrefix(o,"a=rtcp-fb:"+y+" ").map(e.parseRtcpFb),s.codecs.push(v),v.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(v.name.toUpperCase());break}}}e.matchPrefix(o,"a=extmap:").forEach(h=>{s.headerExtensions.push(e.parseExtmap(h))});const d=e.matchPrefix(o,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(h=>{d.forEach(y=>{h.rtcpFeedback.find(v=>v.type===y.type&&v.parameter===y.parameter)||h.rtcpFeedback.push(y)})}),s},e.writeRtpDescription=function(o,s){let l="";l+="m="+o+" ",l+=s.codecs.length>0?"9":"0",l+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",l+=s.codecs.map(d=>d.preferredPayloadType!==void 0?d.preferredPayloadType:d.payloadType).join(" ")+`\r
`,l+=`c=IN IP4 0.0.0.0\r
`,l+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(d=>{l+=e.writeRtpMap(d),l+=e.writeFmtp(d),l+=e.writeRtcpFb(d)});let u=0;return s.codecs.forEach(d=>{d.maxptime>u&&(u=d.maxptime)}),u>0&&(l+="a=maxptime:"+u+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(d=>{l+=e.writeExtmap(d)}),l},e.parseRtpEncodingParameters=function(o){const s=[],l=e.parseRtpParameters(o),u=l.fecMechanisms.indexOf("RED")!==-1,d=l.fecMechanisms.indexOf("ULPFEC")!==-1,h=e.matchPrefix(o,"a=ssrc:").map(S=>e.parseSsrcMedia(S)).filter(S=>S.attribute==="cname"),y=h.length>0&&h[0].ssrc;let m;const v=e.matchPrefix(o,"a=ssrc-group:FID").map(S=>S.substring(17).split(" ").map(O=>parseInt(O,10)));v.length>0&&v[0].length>1&&v[0][0]===y&&(m=v[0][1]),l.codecs.forEach(S=>{if(S.name.toUpperCase()==="RTX"&&S.parameters.apt){let x={ssrc:y,codecPayloadType:parseInt(S.parameters.apt,10)};y&&m&&(x.rtx={ssrc:m}),s.push(x),u&&(x=JSON.parse(JSON.stringify(x)),x.fec={ssrc:y,mechanism:d?"red+ulpfec":"red"},s.push(x))}}),s.length===0&&y&&s.push({ssrc:y});let _=e.matchPrefix(o,"b=");return _.length&&(_[0].indexOf("b=TIAS:")===0?_=parseInt(_[0].substring(7),10):_[0].indexOf("b=AS:")===0?_=parseInt(_[0].substring(5),10)*1e3*.95-2e3*8:_=void 0,s.forEach(S=>{S.maxBitrate=_})),s},e.parseRtcpParameters=function(o){const s={},l=e.matchPrefix(o,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname")[0];l&&(s.cname=l.value,s.ssrc=l.ssrc);const u=e.matchPrefix(o,"a=rtcp-rsize");s.reducedSize=u.length>0,s.compound=u.length===0;const d=e.matchPrefix(o,"a=rtcp-mux");return s.mux=d.length>0,s},e.writeRtcpParameters=function(o){let s="";return o.reducedSize&&(s+=`a=rtcp-rsize\r
`),o.mux&&(s+=`a=rtcp-mux\r
`),o.ssrc!==void 0&&o.cname&&(s+="a=ssrc:"+o.ssrc+" cname:"+o.cname+`\r
`),s},e.parseMsid=function(o){let s;const l=e.matchPrefix(o,"a=msid:");if(l.length===1)return s=l[0].substring(7).split(" "),{stream:s[0],track:s[1]};const u=e.matchPrefix(o,"a=ssrc:").map(d=>e.parseSsrcMedia(d)).filter(d=>d.attribute==="msid");if(u.length>0)return s=u[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(o){const s=e.parseMLine(o),l=e.matchPrefix(o,"a=max-message-size:");let u;l.length>0&&(u=parseInt(l[0].substring(19),10)),isNaN(u)&&(u=65536);const d=e.matchPrefix(o,"a=sctp-port:");if(d.length>0)return{port:parseInt(d[0].substring(12),10),protocol:s.fmt,maxMessageSize:u};const h=e.matchPrefix(o,"a=sctpmap:");if(h.length>0){const y=h[0].substring(10).split(" ");return{port:parseInt(y[0],10),protocol:y[1],maxMessageSize:u}}},e.writeSctpDescription=function(o,s){let l=[];return o.protocol!=="DTLS/SCTP"?l=["m="+o.kind+" 9 "+o.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:l=["m="+o.kind+" 9 "+o.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&l.push("a=max-message-size:"+s.maxMessageSize+`\r
`),l.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(o,s,l){let u;const d=s!==void 0?s:2;return o?u=o:u=e.generateSessionId(),`v=0\r
o=`+(l||"thisisadapterortc")+" "+u+" "+d+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(o,s){const l=e.splitLines(o);for(let u=0;u<l.length;u++)switch(l[u]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return l[u].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(o){return e.splitLines(o)[0].split(" ")[0].substring(2)},e.isRejected=function(o){return o.split(" ",2)[1]==="0"},e.parseMLine=function(o){const l=e.splitLines(o)[0].substring(2).split(" ");return{kind:l[0],port:parseInt(l[1],10),protocol:l[2],fmt:l.slice(3).join(" ")}},e.parseOLine=function(o){const l=e.matchPrefix(o,"o=")[0].substring(2).split(" ");return{username:l[0],sessionId:l[1],sessionVersion:parseInt(l[2],10),netType:l[3],addressType:l[4],address:l[5]}},e.isValidSDP=function(o){if(typeof o!="string"||o.length===0)return!1;const s=e.splitLines(o);for(let l=0;l<s.length;l++)if(s[l].length<2||s[l].charAt(1)!=="=")return!1;return!0},n.exports=e})(dc)),dc.exports}var M0=Cb();const Go=Yc(M0),Eb=pT({__proto__:null,default:Go},[M0]);function Sl(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const e=n.RTCIceCandidate;n.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const l=new e(s),u=Go.parseCandidate(s.candidate);for(const d in u)d in l||Object.defineProperty(l,d,{value:u[d]});return l.toJSON=function(){return{candidate:l.candidate,sdpMid:l.sdpMid,sdpMLineIndex:l.sdpMLineIndex,usernameFragment:l.usernameFragment}},l}return new e(s)},n.RTCIceCandidate.prototype=e.prototype,zi(n,"icecandidate",o=>(o.candidate&&Object.defineProperty(o,"candidate",{value:new n.RTCIceCandidate(o.candidate),writable:"false"}),o))}function Dc(n){!n.RTCIceCandidate||n.RTCIceCandidate&&"relayProtocol"in n.RTCIceCandidate.prototype||zi(n,"icecandidate",e=>{if(e.candidate){const o=Go.parseCandidate(e.candidate.candidate);o.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[o.priority>>24])}return e})}function Cl(n,e){if(!n.RTCPeerConnection)return;"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const o=function(h){if(!h||!h.sdp)return!1;const y=Go.splitSections(h.sdp);return y.shift(),y.some(m=>{const v=Go.parseMLine(m);return v&&v.kind==="application"&&v.protocol.indexOf("SCTP")!==-1})},s=function(h){const y=h.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(y===null||y.length<2)return-1;const m=parseInt(y[1],10);return m!==m?-1:m},l=function(h){let y=65536;return e.browser==="firefox"&&(e.version<57?h===-1?y=16384:y=2147483637:e.version<60?y=e.version===57?65535:65536:y=2147483637),y},u=function(h,y){let m=65536;e.browser==="firefox"&&e.version===57&&(m=65535);const v=Go.matchPrefix(h.sdp,"a=max-message-size:");return v.length>0?m=parseInt(v[0].substring(19),10):e.browser==="firefox"&&y!==-1&&(m=2147483637),m},d=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:y}=this.getConfiguration();y==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(o(arguments[0])){const y=s(arguments[0]),m=l(y),v=u(arguments[0],y);let _;m===0&&v===0?_=Number.POSITIVE_INFINITY:m===0||v===0?_=Math.max(m,v):_=Math.min(m,v);const S={};Object.defineProperty(S,"maxMessageSize",{get(){return _}}),this._sctp=S}return d.apply(this,arguments)}}function El(n){if(!(n.RTCPeerConnection&&"createDataChannel"in n.RTCPeerConnection.prototype))return;function e(s,l){const u=s.send;s.send=function(){const h=arguments[0],y=h.length||h.size||h.byteLength;if(s.readyState==="open"&&l.sctp&&y>l.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+l.sctp.maxMessageSize+" bytes)");return u.apply(s,arguments)}}const o=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){const l=o.apply(this,arguments);return e(l,this),l},zi(n,"datachannel",s=>(e(s.channel,s.target),s))}function Uc(n){if(!n.RTCPeerConnection||"connectionState"in n.RTCPeerConnection.prototype)return;const e=n.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(o){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),o&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=o)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(o=>{const s=e[o];e[o]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=l=>{const u=l.target;if(u._lastConnectionState!==u.connectionState){u._lastConnectionState=u.connectionState;const d=new Event("connectionstatechange",l);u.dispatchEvent(d)}return l},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function kc(n,e){if(!n.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const o=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(l){if(l&&l.sdp&&l.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const u=l.sdp.split(`
`).filter(d=>d.trim()!=="a=extmap-allow-mixed").join(`
`);n.RTCSessionDescription&&l instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:l.type,sdp:u}):l.sdp=u}return o.apply(this,arguments)}}function xl(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const o=n.RTCPeerConnection.prototype.addIceCandidate;!o||o.length===0||(n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Al(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const o=n.RTCPeerConnection.prototype.setLocalDescription;!o||o.length===0||(n.RTCPeerConnection.prototype.setLocalDescription=function(){let l=arguments[0]||{};if(typeof l!="object"||l.type&&l.sdp)return o.apply(this,arguments);if(l={type:l.type,sdp:l.sdp},!l.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":l.type="offer";break;default:l.type="answer";break}return l.sdp||l.type!=="offer"&&l.type!=="answer"?o.apply(this,[l]):(l.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(d=>o.apply(this,[d]))})}const xb=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:kc,shimAddIceCandidateNullOrEmpty:xl,shimConnectionState:Uc,shimMaxMessageSize:Cl,shimParameterlessSetLocalDescription:Al,shimRTCIceCandidate:Sl,shimRTCIceCandidateRelayProtocol:Dc,shimSendThrowTypeError:El},Symbol.toStringTag,{value:"Module"}));function Ab({window:n}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const o=Wy,s=_b(n),l={browserDetails:s,commonShim:xb,extractVersion:Os,disableLog:yb,disableWarnings:vb,sdp:Eb};switch(s.browser){case"chrome":if(!jg||!Nc||!e.shimChrome)return o("Chrome shim is not included in this adapter release."),l;if(s.version===null)return o("Chrome shim can not determine version, not shimming."),l;o("adapter.js shimming chrome."),l.browserShim=jg,xl(n,s),Al(n),e0(n,s),t0(n),Nc(n,s),n0(n),l0(n,s),i0(n),o0(n),s0(n),a0(n,s),Sl(n),Dc(n),Uc(n),Cl(n,s),El(n),kc(n,s);break;case"firefox":if(!ey||!Ic||!e.shimFirefox)return o("Firefox shim is not included in this adapter release."),l;o("adapter.js shimming firefox."),l.browserShim=ey,xl(n,s),Al(n),u0(n,s),Ic(n,s),c0(n),p0(n),f0(n),d0(n),h0(n),m0(n),g0(n),y0(n),v0(n),Sl(n),Uc(n),Cl(n,s),El(n);break;case"safari":if(!ty||!e.shimSafari)return o("Safari shim is not included in this adapter release."),l;o("adapter.js shimming safari."),l.browserShim=ty,xl(n,s),Al(n),x0(n),R0(n),S0(n),_0(n),T0(n),A0(n),C0(n),b0(n),Sl(n),Dc(n),Cl(n,s),El(n),kc(n,s);break;default:o("Unsupported browser!");break}return l}const iy=Ab({window:typeof window>"u"?void 0:window});let Pc;try{Pc=new TextDecoder}catch{}let se,Hi,Y=0;const Rb=105,bb=57342,Mb=57343,oy=57337,sy=6,Io={};let Ne={},$e,kl,Pl=0,Js=0,lt,un,ot=[],wc=[],wt,Ct,Bs,ry={useRecords:!1,mapsAsObjects:!0},Ys=!1,N0=2;try{new Function("")}catch{N0=1/0}class Ks{constructor(e){if(e&&((e.keyMap||e._keyMap)&&!e.useRecords&&(e.useRecords=!1,e.mapsAsObjects=!0),e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.getStructures&&(e.getShared=e.getStructures),e.getShared&&!e.structures&&((e.structures=[]).uninitialized=!0),e.keyMap)){this.mapKey=new Map;for(let[o,s]of Object.entries(e.keyMap))this.mapKey.set(s,o)}Object.assign(this,e)}decodeKey(e){return this.keyMap&&this.mapKey.get(e)||e}encodeKey(e){return this.keyMap&&this.keyMap.hasOwnProperty(e)?this.keyMap[e]:e}encodeKeys(e){if(!this._keyMap)return e;let o=new Map;for(let[s,l]of Object.entries(e))o.set(this._keyMap.hasOwnProperty(s)?this._keyMap[s]:s,l);return o}decodeKeys(e){if(!this._keyMap||e.constructor.name!="Map")return e;if(!this._mapKey){this._mapKey=new Map;for(let[s,l]of Object.entries(this._keyMap))this._mapKey.set(l,s)}let o={};return e.forEach((s,l)=>o[on(this._mapKey.has(l)?this._mapKey.get(l):l)]=s),o}mapDecode(e,o){let s=this.decode(e);if(this._keyMap)switch(s.constructor.name){case"Array":return s.map(l=>this.decodeKeys(l))}return s}decode(e,o){if(se)return k0(()=>(Vc(),this?this.decode(e,o):Ks.prototype.decode.call(ry,e,o)));Hi=o>-1?o:e.length,Y=0,Js=0,kl=null,lt=null,se=e;try{Ct=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(s){throw se=null,e instanceof Uint8Array?s:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof Ks){if(Ne=this,wt=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return $e=this.structures,yl();(!$e||$e.length>0)&&($e=[])}else Ne=ry,(!$e||$e.length>0)&&($e=[]),wt=null;return yl()}decodeMultiple(e,o){let s,l=0;try{let u=e.length;Ys=!0;let d=this?this.decode(e,u):lf.decode(e,u);if(o){if(o(d)===!1)return;for(;Y<u;)if(l=Y,o(yl())===!1)return}else{for(s=[d];Y<u;)l=Y,s.push(yl());return s}}catch(u){throw u.lastPosition=l,u.values=s,u}finally{Ys=!1,Vc()}}}function yl(){try{let n=Me();if(lt){if(Y>=lt.postBundlePosition){let e=new Error("Unexpected bundle position");throw e.incomplete=!0,e}Y=lt.postBundlePosition,lt=null}if(Y==Hi)$e=null,se=null,un&&(un=null);else if(Y>Hi){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}else if(!Ys)throw new Error("Data read, but end of buffer not reached");return n}catch(n){throw Vc(),(n instanceof RangeError||n.message.startsWith("Unexpected end of buffer"))&&(n.incomplete=!0),n}}function Me(){let n=se[Y++],e=n>>5;if(n=n&31,n>23)switch(n){case 24:n=se[Y++];break;case 25:if(e==7)return Ub();n=Ct.getUint16(Y),Y+=2;break;case 26:if(e==7){let o=Ct.getFloat32(Y);if(Ne.useFloat32>2){let s=rf[(se[Y]&127)<<1|se[Y+1]>>7];return Y+=4,(s*o+(o>0?.5:-.5)>>0)/s}return Y+=4,o}n=Ct.getUint32(Y),Y+=4;break;case 27:if(e==7){let o=Ct.getFloat64(Y);return Y+=8,o}if(e>1){if(Ct.getUint32(Y)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");n=Ct.getUint32(Y+4)}else Ne.int64AsNumber?(n=Ct.getUint32(Y)*4294967296,n+=Ct.getUint32(Y+4)):n=Ct.getBigUint64(Y);Y+=8;break;case 31:switch(e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let o=[],s,l=0;for(;(s=Me())!=Io;)o[l++]=s;return e==4?o:e==3?o.join(""):Buffer.concat(o);case 5:let u;if(Ne.mapsAsObjects){let d={};if(Ne.keyMap)for(;(u=Me())!=Io;)d[on(Ne.decodeKey(u))]=Me();else for(;(u=Me())!=Io;)d[on(u)]=Me();return d}else{Bs&&(Ne.mapsAsObjects=!0,Bs=!1);let d=new Map;if(Ne.keyMap)for(;(u=Me())!=Io;)d.set(Ne.decodeKey(u),Me());else for(;(u=Me())!=Io;)d.set(u,Me());return d}case 7:return Io;default:throw new Error("Invalid major type for indefinite length "+e)}default:throw new Error("Unknown token "+n)}switch(e){case 0:return n;case 1:return~n;case 2:return Db(n);case 3:if(Js>=Y)return kl.slice(Y-Pl,(Y+=n)-Pl);if(Js==0&&Hi<140&&n<32){let l=n<16?I0(n):Ib(n);if(l!=null)return l}return Nb(n);case 4:let o=new Array(n);for(let l=0;l<n;l++)o[l]=Me();return o;case 5:if(Ne.mapsAsObjects){let l={};if(Ne.keyMap)for(let u=0;u<n;u++)l[on(Ne.decodeKey(Me()))]=Me();else for(let u=0;u<n;u++)l[on(Me())]=Me();return l}else{Bs&&(Ne.mapsAsObjects=!0,Bs=!1);let l=new Map;if(Ne.keyMap)for(let u=0;u<n;u++)l.set(Ne.decodeKey(Me()),Me());else for(let u=0;u<n;u++)l.set(Me(),Me());return l}case 6:if(n>=oy){let l=$e[n&8191];if(l)return l.read||(l.read=Lc(l)),l.read();if(n<65536){if(n==Mb){let u=ko(),d=Me(),h=Me();Hc(d,h);let y={};if(Ne.keyMap)for(let m=2;m<u;m++){let v=Ne.decodeKey(h[m-2]);y[on(v)]=Me()}else for(let m=2;m<u;m++){let v=h[m-2];y[on(v)]=Me()}return y}else if(n==bb){let u=ko(),d=Me();for(let h=2;h<u;h++)Hc(d++,Me());return Me()}else if(n==oy)return Hb();if(Ne.getShared&&(sf(),l=$e[n&8191],l))return l.read||(l.read=Lc(l)),l.read()}}let s=ot[n];if(s)return s.handlesRead?s(Me):s(Me());{let l=Me();for(let u=0;u<wc.length;u++){let d=wc[u](n,l);if(d!==void 0)return d}return new Vi(l,n)}case 7:switch(n){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let l=(wt||Li())[n];if(l!==void 0)return l;throw new Error("Unknown token "+n)}default:if(isNaN(n)){let l=new Error("Unexpected end of CBOR data");throw l.incomplete=!0,l}throw new Error("Unknown CBOR token "+n)}}const ly=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Lc(n){function e(){let o=se[Y++];if(o=o&31,o>23)switch(o){case 24:o=se[Y++];break;case 25:o=Ct.getUint16(Y),Y+=2;break;case 26:o=Ct.getUint32(Y),Y+=4;break;default:throw new Error("Expected array header, but got "+se[Y-1])}let s=this.compiledReader;for(;s;){if(s.propertyCount===o)return s(Me);s=s.next}if(this.slowReads++>=N0){let u=this.length==o?this:this.slice(0,o);return s=Ne.keyMap?new Function("r","return {"+u.map(d=>Ne.decodeKey(d)).map(d=>ly.test(d)?on(d)+":r()":"["+JSON.stringify(d)+"]:r()").join(",")+"}"):new Function("r","return {"+u.map(d=>ly.test(d)?on(d)+":r()":"["+JSON.stringify(d)+"]:r()").join(",")+"}"),this.compiledReader&&(s.next=this.compiledReader),s.propertyCount=o,this.compiledReader=s,s(Me)}let l={};if(Ne.keyMap)for(let u=0;u<o;u++)l[on(Ne.decodeKey(this[u]))]=Me();else for(let u=0;u<o;u++)l[on(this[u])]=Me();return l}return n.slowReads=0,e}function on(n){return n==="__proto__"?"__proto_":n}let Nb=Gc;function Gc(n){let e;if(n<16&&(e=I0(n)))return e;if(n>64&&Pc)return Pc.decode(se.subarray(Y,Y+=n));const o=Y+n,s=[];for(e="";Y<o;){const l=se[Y++];if((l&128)===0)s.push(l);else if((l&224)===192){const u=se[Y++]&63;s.push((l&31)<<6|u)}else if((l&240)===224){const u=se[Y++]&63,d=se[Y++]&63;s.push((l&31)<<12|u<<6|d)}else if((l&248)===240){const u=se[Y++]&63,d=se[Y++]&63,h=se[Y++]&63;let y=(l&7)<<18|u<<12|d<<6|h;y>65535&&(y-=65536,s.push(y>>>10&1023|55296),y=56320|y&1023),s.push(y)}else s.push(l);s.length>=4096&&(e+=ct.apply(String,s),s.length=0)}return s.length>0&&(e+=ct.apply(String,s)),e}let ct=String.fromCharCode;function Ib(n){let e=Y,o=new Array(n);for(let s=0;s<n;s++){const l=se[Y++];if((l&128)>0){Y=e;return}o[s]=l}return ct.apply(String,o)}function I0(n){if(n<4)if(n<2){if(n===0)return"";{let e=se[Y++];if((e&128)>1){Y-=1;return}return ct(e)}}else{let e=se[Y++],o=se[Y++];if((e&128)>0||(o&128)>0){Y-=2;return}if(n<3)return ct(e,o);let s=se[Y++];if((s&128)>0){Y-=3;return}return ct(e,o,s)}else{let e=se[Y++],o=se[Y++],s=se[Y++],l=se[Y++];if((e&128)>0||(o&128)>0||(s&128)>0||(l&128)>0){Y-=4;return}if(n<6){if(n===4)return ct(e,o,s,l);{let u=se[Y++];if((u&128)>0){Y-=5;return}return ct(e,o,s,l,u)}}else if(n<8){let u=se[Y++],d=se[Y++];if((u&128)>0||(d&128)>0){Y-=6;return}if(n<7)return ct(e,o,s,l,u,d);let h=se[Y++];if((h&128)>0){Y-=7;return}return ct(e,o,s,l,u,d,h)}else{let u=se[Y++],d=se[Y++],h=se[Y++],y=se[Y++];if((u&128)>0||(d&128)>0||(h&128)>0||(y&128)>0){Y-=8;return}if(n<10){if(n===8)return ct(e,o,s,l,u,d,h,y);{let m=se[Y++];if((m&128)>0){Y-=9;return}return ct(e,o,s,l,u,d,h,y,m)}}else if(n<12){let m=se[Y++],v=se[Y++];if((m&128)>0||(v&128)>0){Y-=10;return}if(n<11)return ct(e,o,s,l,u,d,h,y,m,v);let _=se[Y++];if((_&128)>0){Y-=11;return}return ct(e,o,s,l,u,d,h,y,m,v,_)}else{let m=se[Y++],v=se[Y++],_=se[Y++],S=se[Y++];if((m&128)>0||(v&128)>0||(_&128)>0||(S&128)>0){Y-=12;return}if(n<14){if(n===12)return ct(e,o,s,l,u,d,h,y,m,v,_,S);{let x=se[Y++];if((x&128)>0){Y-=13;return}return ct(e,o,s,l,u,d,h,y,m,v,_,S,x)}}else{let x=se[Y++],O=se[Y++];if((x&128)>0||(O&128)>0){Y-=14;return}if(n<15)return ct(e,o,s,l,u,d,h,y,m,v,_,S,x,O);let B=se[Y++];if((B&128)>0){Y-=15;return}return ct(e,o,s,l,u,d,h,y,m,v,_,S,x,O,B)}}}}}function Db(n){return Ne.copyBuffers?Uint8Array.prototype.slice.call(se,Y,Y+=n):se.subarray(Y,Y+=n)}let D0=new Float32Array(1),vl=new Uint8Array(D0.buffer,0,4);function Ub(){let n=se[Y++],e=se[Y++],o=(n&127)>>2;if(o===31)return e||n&3?NaN:n&128?-1/0:1/0;if(o===0){let s=((n&3)<<8|e)/16777216;return n&128?-s:s}return vl[3]=n&128|(o>>1)+56,vl[2]=(n&7)<<5|e>>3,vl[1]=e<<5,vl[0]=0,D0[0]}new Array(4096);class Vi{constructor(e,o){this.value=e,this.tag=o}}ot[0]=n=>new Date(n);ot[1]=n=>new Date(Math.round(n*1e3));ot[2]=n=>{let e=BigInt(0);for(let o=0,s=n.byteLength;o<s;o++)e=BigInt(n[o])+e<<BigInt(8);return e};ot[3]=n=>BigInt(-1)-ot[2](n);ot[4]=n=>+(n[1]+"e"+n[0]);ot[5]=n=>n[1]*Math.exp(n[0]*Math.log(2));const Hc=(n,e)=>{n=n-57344;let o=$e[n];o&&o.isShared&&(($e.restoreStructures||($e.restoreStructures=[]))[n]=o),$e[n]=e,e.read=Lc(e)};ot[Rb]=n=>{let e=n.length,o=n[1];Hc(n[0],o);let s={};for(let l=2;l<e;l++){let u=o[l-2];s[on(u)]=n[l]}return s};ot[14]=n=>lt?lt[0].slice(lt.position0,lt.position0+=n):new Vi(n,14);ot[15]=n=>lt?lt[1].slice(lt.position1,lt.position1+=n):new Vi(n,15);let kb={Error,RegExp};ot[27]=n=>(kb[n[0]]||Error)(n[1],n[2]);const U0=n=>{if(se[Y++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let e=n();return wt=wt?e.concat(wt.slice(e.length)):e,wt.prefixes=n(),wt.suffixes=n(),n()};U0.handlesRead=!0;ot[51]=U0;ot[sy]=n=>{if(!wt)if(Ne.getShared)sf();else return new Vi(n,sy);if(typeof n=="number")return wt[16+(n>=0?2*n:-2*n-1)];throw new Error("No support for non-integer packed references yet")};ot[28]=n=>{un||(un=new Map,un.id=0);let e=un.id++,o=se[Y],s;o>>5==4?s=[]:s={};let l={target:s};un.set(e,l);let u=n();return l.used?Object.assign(s,u):(l.target=u,u)};ot[28].handlesRead=!0;ot[29]=n=>{let e=un.get(n);return e.used=!0,e.target};ot[258]=n=>new Set(n);(ot[259]=n=>(Ne.mapsAsObjects&&(Ne.mapsAsObjects=!1,Bs=!0),n())).handlesRead=!0;function Do(n,e){return typeof n=="string"?n+e:n instanceof Array?n.concat(e):Object.assign({},n,e)}function Li(){if(!wt)if(Ne.getShared)sf();else throw new Error("No packed values available");return wt}const Pb=1399353956;wc.push((n,e)=>{if(n>=225&&n<=255)return Do(Li().prefixes[n-224],e);if(n>=28704&&n<=32767)return Do(Li().prefixes[n-28672],e);if(n>=1879052288&&n<=2147483647)return Do(Li().prefixes[n-1879048192],e);if(n>=216&&n<=223)return Do(e,Li().suffixes[n-216]);if(n>=27647&&n<=28671)return Do(e,Li().suffixes[n-27639]);if(n>=1811940352&&n<=1879048191)return Do(e,Li().suffixes[n-1811939328]);if(n==Pb)return{packedValues:wt,structures:$e.slice(0),version:e};if(n==55799)return e});const wb=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,ay=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],Lb=[64,68,69,70,71,72,77,78,79,85,86];for(let n=0;n<ay.length;n++)Gb(ay[n],Lb[n]);function Gb(n,e){let o="get"+n.name.slice(0,-5),s;typeof n=="function"?s=n.BYTES_PER_ELEMENT:n=null;for(let l=0;l<2;l++){if(!l&&s==1)continue;let u=s==2?1:s==4?2:3;ot[l?e:e-4]=s==1||l==wb?d=>{if(!n)throw new Error("Could not find typed array for code "+e);return new n(Uint8Array.prototype.slice.call(d,0).buffer)}:d=>{if(!n)throw new Error("Could not find typed array for code "+e);let h=new DataView(d.buffer,d.byteOffset,d.byteLength),y=d.length>>u,m=new n(y),v=h[o];for(let _=0;_<y;_++)m[_]=v.call(h,_<<u,l);return m}}}function Hb(){let n=ko(),e=Y+Me();for(let s=2;s<n;s++){let l=ko();Y+=l}let o=Y;return Y=e,lt=[Gc(ko()),Gc(ko())],lt.position0=0,lt.position1=0,lt.postBundlePosition=Y,Y=o,Me()}function ko(){let n=se[Y++]&31;if(n>23)switch(n){case 24:n=se[Y++];break;case 25:n=Ct.getUint16(Y),Y+=2;break;case 26:n=Ct.getUint32(Y),Y+=4;break}return n}function sf(){if(Ne.getShared){let n=k0(()=>(se=null,Ne.getShared()))||{},e=n.structures||[];Ne.sharedVersion=n.version,wt=Ne.sharedValues=n.packedValues,$e===!0?Ne.structures=$e=e:$e.splice.apply($e,[0,e.length].concat(e))}}function k0(n){let e=Hi,o=Y,s=Pl,l=Js,u=kl,d=un,h=lt,y=new Uint8Array(se.slice(0,Hi)),m=$e,v=Ne,_=Ys,S=n();return Hi=e,Y=o,Pl=s,Js=l,kl=u,un=d,lt=h,se=y,Ys=_,$e=m,Ne=v,Ct=new DataView(se.buffer,se.byteOffset,se.byteLength),S}function Vc(){se=null,un=null,$e=null}const rf=new Array(147);for(let n=0;n<256;n++)rf[n]=+("1e"+Math.floor(45.15-n*.30103));let lf=new Ks({useRecords:!1});lf.decode;lf.decodeMultiple;let Rl;try{Rl=new TextEncoder}catch{}let Oc,P0;const Bl=typeof globalThis=="object"&&globalThis.Buffer,Zs=typeof Bl<"u",pc=Zs?Bl.allocUnsafeSlow:Uint8Array,uy=Zs?Bl:Uint8Array,cy=256,fy=Zs?4294967296:2144337920;let hc,L,Fe,M=0,hi,rt=null;const Vb=61440,Ob=/[\u0080-\uFFFF]/,Yt=Symbol("record-id");class Bb extends Ks{constructor(e){super(e),this.offset=0;let o,s,l,u,d;e=e||{};let h=uy.prototype.utf8Write?function(k,$,J){return L.utf8Write(k,$,J)}:Rl&&Rl.encodeInto?function(k,$){return Rl.encodeInto(k,L.subarray($)).written}:!1,y=this,m=e.structures||e.saveStructures,v=e.maxSharedStructures;if(v==null&&(v=m?128:0),v>8190)throw new Error("Maximum maxSharedStructure is 8190");let _=e.sequential;_&&(v=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let S,x,O=e.sharedValues,B;if(O){B=Object.create(null);for(let k=0,$=O.length;k<$;k++)B[O[k]]=k}let W=[],te=0,ie=0;this.mapEncode=function(k,$){if(this._keyMap&&!this._mapped)switch(k.constructor.name){case"Array":k=k.map(J=>this.encodeKeys(J));break}return this.encode(k,$)},this.encode=function(k,$){if(L||(L=new pc(8192),Fe=new DataView(L.buffer,0,8192),M=0),hi=L.length-10,hi-M<2048?(L=new pc(L.length),Fe=new DataView(L.buffer,0,L.length),hi=L.length-10,M=0):$===my&&(M=M+7&2147483640),o=M,y.useSelfDescribedHeader&&(Fe.setUint32(M,3654940416),M+=3),d=y.structuredClone?new Map:null,y.bundleStrings&&typeof k!="string"?(rt=[],rt.size=1/0):rt=null,s=y.structures,s){if(s.uninitialized){let b=y.getShared()||{};y.structures=s=b.structures||[],y.sharedVersion=b.version;let I=y.sharedValues=b.packedValues;if(I){B={};for(let Q=0,ee=I.length;Q<ee;Q++)B[I[Q]]=Q}}let J=s.length;if(J>v&&!_&&(J=v),!s.transitions){s.transitions=Object.create(null);for(let b=0;b<J;b++){let I=s[b];if(!I)continue;let Q,ee=s.transitions;for(let H=0,E=I.length;H<E;H++){ee[Yt]===void 0&&(ee[Yt]=b);let D=I[H];Q=ee[D],Q||(Q=ee[D]=Object.create(null)),ee=Q}ee[Yt]=b|1048576}}_||(s.nextId=J)}if(l&&(l=!1),u=s||[],x=B,e.pack){let J=new Map;if(J.values=[],J.encoder=y,J.maxValues=e.maxPrivatePackedValues||(B?16:1/0),J.objectMap=B||!1,J.samplingPackedValues=S,bl(k,J),J.values.length>0){L[M++]=216,L[M++]=51,vn(4);let b=J.values;F(b),vn(0),vn(0),x=Object.create(B||null);for(let I=0,Q=b.length;I<Q;I++)x[b[I]]=I}}hc=$&gc;try{if(hc)return;if(F(k),rt&&hy(o,F),y.offset=M,d&&d.idsToInsert){M+=d.idsToInsert.length*2,M>hi&&fe(M),y.offset=M;let J=Fb(L.subarray(o,M),d.idsToInsert);return d=null,J}return $&my?(L.start=o,L.end=M,L):L.subarray(o,M)}finally{if(s){if(ie<10&&ie++,s.length>v&&(s.length=v),te>1e4)s.transitions=null,ie=0,te=0,W.length>0&&(W=[]);else if(W.length>0&&!_){for(let J=0,b=W.length;J<b;J++)W[J][Yt]=void 0;W=[]}}if(l&&y.saveShared){y.structures.length>v&&(y.structures=y.structures.slice(0,v));let J=L.subarray(o,M);return y.updateSharedData()===!1?y.encode(k):J}$&Jb&&(M=o)}},this.findCommonStringsToPack=()=>(S=new Map,B||(B=Object.create(null)),k=>{let $=k&&k.threshold||4,J=this.pack?k.maxPrivatePackedValues||16:0;O||(O=this.sharedValues=[]);for(let[b,I]of S)I.count>$&&(B[b]=J++,O.push(b),l=!0);for(;this.saveShared&&this.updateSharedData()===!1;);S=null});const F=k=>{M>hi&&(L=fe(M));var $=typeof k,J;if($==="string"){if(x){let ee=x[k];if(ee>=0){ee<16?L[M++]=ee+224:(L[M++]=198,ee&1?F(15-ee>>1):F(ee-16>>1));return}else if(S&&!e.pack){let H=S.get(k);H?H.count++:S.set(k,{count:1})}}let b=k.length;if(rt&&b>=4&&b<1024){if((rt.size+=b)>Vb){let H,E=(rt[0]?rt[0].length*3+rt[1].length:0)+10;M+E>hi&&(L=fe(M+E)),L[M++]=217,L[M++]=223,L[M++]=249,L[M++]=rt.position?132:130,L[M++]=26,H=M-o,M+=4,rt.position&&hy(o,F),rt=["",""],rt.size=0,rt.position=H}let ee=Ob.test(k);rt[ee?0:1]+=k,L[M++]=ee?206:207,F(b);return}let I;b<32?I=1:b<256?I=2:b<65536?I=3:I=5;let Q=b*3;if(M+Q>hi&&(L=fe(M+Q)),b<64||!h){let ee,H,E,D=M+I;for(ee=0;ee<b;ee++)H=k.charCodeAt(ee),H<128?L[D++]=H:H<2048?(L[D++]=H>>6|192,L[D++]=H&63|128):(H&64512)===55296&&((E=k.charCodeAt(ee+1))&64512)===56320?(H=65536+((H&1023)<<10)+(E&1023),ee++,L[D++]=H>>18|240,L[D++]=H>>12&63|128,L[D++]=H>>6&63|128,L[D++]=H&63|128):(L[D++]=H>>12|224,L[D++]=H>>6&63|128,L[D++]=H&63|128);J=D-M-I}else J=h(k,M+I,Q);J<24?L[M++]=96|J:J<256?(I<2&&L.copyWithin(M+2,M+1,M+1+J),L[M++]=120,L[M++]=J):J<65536?(I<3&&L.copyWithin(M+3,M+2,M+2+J),L[M++]=121,L[M++]=J>>8,L[M++]=J&255):(I<5&&L.copyWithin(M+5,M+3,M+3+J),L[M++]=122,Fe.setUint32(M,J),M+=4),M+=J}else if($==="number")if(!this.alwaysUseFloat&&k>>>0===k)k<24?L[M++]=k:k<256?(L[M++]=24,L[M++]=k):k<65536?(L[M++]=25,L[M++]=k>>8,L[M++]=k&255):(L[M++]=26,Fe.setUint32(M,k),M+=4);else if(!this.alwaysUseFloat&&k>>0===k)k>=-24?L[M++]=31-k:k>=-256?(L[M++]=56,L[M++]=~k):k>=-65536?(L[M++]=57,Fe.setUint16(M,~k),M+=2):(L[M++]=58,Fe.setUint32(M,~k),M+=4);else{let b;if((b=this.useFloat32)>0&&k<4294967296&&k>=-2147483648){L[M++]=250,Fe.setFloat32(M,k);let I;if(b<4||(I=k*rf[(L[M]&127)<<1|L[M+1]>>7])>>0===I){M+=4;return}else M--}L[M++]=251,Fe.setFloat64(M,k),M+=8}else if($==="object")if(!k)L[M++]=246;else{if(d){let I=d.get(k);if(I){if(L[M++]=216,L[M++]=29,L[M++]=25,!I.references){let Q=d.idsToInsert||(d.idsToInsert=[]);I.references=[],Q.push(I)}I.references.push(M-o),M+=2;return}else d.set(k,{offset:M-o})}let b=k.constructor;if(b===Object)le(k,!0);else if(b===Array){J=k.length,J<24?L[M++]=128|J:vn(J);for(let I=0;I<J;I++)F(k[I])}else if(b===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(L[M++]=217,L[M++]=1,L[M++]=3),J=k.size,J<24?L[M++]=160|J:J<256?(L[M++]=184,L[M++]=J):J<65536?(L[M++]=185,L[M++]=J>>8,L[M++]=J&255):(L[M++]=186,Fe.setUint32(M,J),M+=4),y.keyMap)for(let[I,Q]of k)F(y.encodeKey(I)),F(Q);else for(let[I,Q]of k)F(I),F(Q);else{for(let I=0,Q=Oc.length;I<Q;I++){let ee=P0[I];if(k instanceof ee){let H=Oc[I],E=H.tag;E==null&&(E=H.getTag&&H.getTag.call(this,k)),E<24?L[M++]=192|E:E<256?(L[M++]=216,L[M++]=E):E<65536?(L[M++]=217,L[M++]=E>>8,L[M++]=E&255):E>-1&&(L[M++]=218,Fe.setUint32(M,E),M+=4),H.encode.call(this,k,F,fe);return}}if(k[Symbol.iterator]){if(hc){let I=new Error("Iterable should be serialized as iterator");throw I.iteratorNotHandled=!0,I}L[M++]=159;for(let I of k)F(I);L[M++]=255;return}if(k[Symbol.asyncIterator]||mc(k)){let I=new Error("Iterable/blob should be serialized as iterator");throw I.iteratorNotHandled=!0,I}if(this.useToJSON&&k.toJSON){const I=k.toJSON();if(I!==k)return F(I)}le(k,!k.hasOwnProperty)}}else if($==="boolean")L[M++]=k?245:244;else if($==="bigint"){if(k<BigInt(1)<<BigInt(64)&&k>=0)L[M++]=27,Fe.setBigUint64(M,k);else if(k>-(BigInt(1)<<BigInt(64))&&k<0)L[M++]=59,Fe.setBigUint64(M,-k-BigInt(1));else if(this.largeBigIntToFloat)L[M++]=251,Fe.setFloat64(M,Number(k));else throw new RangeError(k+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");M+=8}else if($==="undefined")L[M++]=247;else throw new Error("Unknown type: "+$)},le=this.useRecords===!1?this.variableMapSize?k=>{let $=Object.keys(k),J=Object.values(k),b=$.length;if(b<24?L[M++]=160|b:b<256?(L[M++]=184,L[M++]=b):b<65536?(L[M++]=185,L[M++]=b>>8,L[M++]=b&255):(L[M++]=186,Fe.setUint32(M,b),M+=4),y.keyMap)for(let I=0;I<b;I++)F(y.encodeKey($[I])),F(J[I]);else for(let I=0;I<b;I++)F($[I]),F(J[I])}:(k,$)=>{L[M++]=185;let J=M-o;M+=2;let b=0;if(y.keyMap)for(let I in k)($||k.hasOwnProperty(I))&&(F(y.encodeKey(I)),F(k[I]),b++);else for(let I in k)($||k.hasOwnProperty(I))&&(F(I),F(k[I]),b++);L[J+++o]=b>>8,L[J+o]=b&255}:(k,$)=>{let J,b=u.transitions||(u.transitions=Object.create(null)),I=0,Q=0,ee,H;if(this.keyMap){H=Object.keys(k).map(D=>this.encodeKey(D)),Q=H.length;for(let D=0;D<Q;D++){let X=H[D];J=b[X],J||(J=b[X]=Object.create(null),I++),b=J}}else for(let D in k)($||k.hasOwnProperty(D))&&(J=b[D],J||(b[Yt]&1048576&&(ee=b[Yt]&65535),J=b[D]=Object.create(null),I++),b=J,Q++);let E=b[Yt];if(E!==void 0)E&=65535,L[M++]=217,L[M++]=E>>8|224,L[M++]=E&255;else if(H||(H=b.__keys__||(b.__keys__=Object.keys(k))),ee===void 0?(E=u.nextId++,E||(E=0,u.nextId=1),E>=cy&&(u.nextId=(E=v)+1)):E=ee,u[E]=H,E<v){L[M++]=217,L[M++]=E>>8|224,L[M++]=E&255,b=u.transitions;for(let D=0;D<Q;D++)(b[Yt]===void 0||b[Yt]&1048576)&&(b[Yt]=E),b=b[H[D]];b[Yt]=E|1048576,l=!0}else{if(b[Yt]=E,Fe.setUint32(M,3655335680),M+=3,I&&(te+=ie*I),W.length>=cy-v&&(W.shift()[Yt]=void 0),W.push(b),vn(Q+2),F(57344+E),F(H),$===null)return;for(let D in k)($||k.hasOwnProperty(D))&&F(k[D]);return}if(Q<24?L[M++]=128|Q:vn(Q),$!==null)for(let D in k)($||k.hasOwnProperty(D))&&F(k[D])},fe=k=>{let $;if(k>16777216){if(k-o>fy)throw new Error("Encoded buffer would be larger than maximum buffer size");$=Math.min(fy,Math.round(Math.max((k-o)*(k>67108864?1.25:2),4194304)/4096)*4096)}else $=(Math.max(k-o<<2,L.length-1)>>12)+1<<12;let J=new pc($);return Fe=new DataView(J.buffer,0,$),L.copy?L.copy(J,0,o,k):J.set(L.slice(o,k)),M-=o,o=0,hi=J.length-10,L=J};let ae=100,j=1e3;this.encodeAsIterable=function(k,$){return Ie(k,$,Te)},this.encodeAsAsyncIterable=function(k,$){return Ie(k,$,ve)};function*Te(k,$,J){let b=k.constructor;if(b===Object){let I=y.useRecords!==!1;I?le(k,null):dy(Object.keys(k).length,160);for(let Q in k){let ee=k[Q];I||F(Q),ee&&typeof ee=="object"?$[Q]?yield*Te(ee,$[Q]):yield*ce(ee,$,Q):F(ee)}}else if(b===Array){let I=k.length;vn(I);for(let Q=0;Q<I;Q++){let ee=k[Q];ee&&(typeof ee=="object"||M-o>ae)?$.element?yield*Te(ee,$.element):yield*ce(ee,$,"element"):F(ee)}}else if(k[Symbol.iterator]){L[M++]=159;for(let I of k)I&&(typeof I=="object"||M-o>ae)?$.element?yield*Te(I,$.element):yield*ce(I,$,"element"):F(I);L[M++]=255}else mc(k)?(dy(k.size,64),yield L.subarray(o,M),yield k,ge()):k[Symbol.asyncIterator]?(L[M++]=159,yield L.subarray(o,M),yield k,ge(),L[M++]=255):F(k);J&&M>o?yield L.subarray(o,M):M-o>ae&&(yield L.subarray(o,M),ge())}function*ce(k,$,J){let b=M-o;try{F(k),M-o>ae&&(yield L.subarray(o,M),ge())}catch(I){if(I.iteratorNotHandled)$[J]={},M=o+b,yield*Te.call(this,k,$[J]);else throw I}}function ge(){ae=j,y.encode(null,gc)}function Ie(k,$,J){return $&&$.chunkThreshold?ae=j=$.chunkThreshold:ae=100,k&&typeof k=="object"?(y.encode(null,gc),J(k,y.iterateProperties||(y.iterateProperties={}),!0)):[y.encode(k)]}async function*ve(k,$){for(let J of Te(k,$,!0)){let b=J.constructor;if(b===uy||b===Uint8Array)yield J;else if(mc(J)){let I=J.stream().getReader(),Q;for(;!(Q=await I.read()).done;)yield Q.value}else if(J[Symbol.asyncIterator])for await(let I of J)ge(),I?yield*ve(I,$.async||($.async={})):yield y.encode(I);else yield J}}}useBuffer(e){L=e,Fe=new DataView(L.buffer,L.byteOffset,L.byteLength),M=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let e=this.sharedVersion||0;this.sharedVersion=e+1;let o=this.structures.slice(0),s=new w0(o,this.sharedValues,this.sharedVersion),l=this.saveShared(s,u=>(u&&u.version||0)==e);return l===!1?(s=this.getShared()||{},this.structures=s.structures||[],this.sharedValues=s.packedValues,this.sharedVersion=s.version,this.structures.nextId=this.structures.length):o.forEach((u,d)=>this.structures[d]=u),l}}function dy(n,e){n<24?L[M++]=e|n:n<256?(L[M++]=e|24,L[M++]=n):n<65536?(L[M++]=e|25,L[M++]=n>>8,L[M++]=n&255):(L[M++]=e|26,Fe.setUint32(M,n),M+=4)}class w0{constructor(e,o,s){this.structures=e,this.packedValues=o,this.version=s}}function vn(n){n<24?L[M++]=128|n:n<256?(L[M++]=152,L[M++]=n):n<65536?(L[M++]=153,L[M++]=n>>8,L[M++]=n&255):(L[M++]=154,Fe.setUint32(M,n),M+=4)}const zb=typeof Blob>"u"?function(){}:Blob;function mc(n){if(n instanceof zb)return!0;let e=n[Symbol.toStringTag];return e==="Blob"||e==="File"}function bl(n,e){switch(typeof n){case"string":if(n.length>3){if(e.objectMap[n]>-1||e.values.length>=e.maxValues)return;let s=e.get(n);if(s)++s.count==2&&e.values.push(n);else if(e.set(n,{count:1}),e.samplingPackedValues){let l=e.samplingPackedValues.get(n);l?l.count++:e.samplingPackedValues.set(n,{count:1})}}break;case"object":if(n)if(n instanceof Array)for(let s=0,l=n.length;s<l;s++)bl(n[s],e);else{let s=!e.encoder.useRecords;for(var o in n)n.hasOwnProperty(o)&&(s&&bl(o,e),bl(n[o],e))}break;case"function":console.log(n)}}const qb=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;P0=[Date,Set,Error,RegExp,Vi,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,w0];Oc=[{tag:1,encode(n,e){let o=n.getTime()/1e3;(this.useTimestamp32||n.getMilliseconds()===0)&&o>=0&&o<4294967296?(L[M++]=26,Fe.setUint32(M,o),M+=4):(L[M++]=251,Fe.setFloat64(M,o),M+=8)}},{tag:258,encode(n,e){let o=Array.from(n);e(o)}},{tag:27,encode(n,e){e([n.name,n.message])}},{tag:27,encode(n,e){e(["RegExp",n.source,n.flags])}},{getTag(n){return n.tag},encode(n,e){e(n.value)}},{encode(n,e,o){py(n,o)}},{getTag(n){if(n.constructor===Uint8Array&&(this.tagUint8Array||Zs&&this.tagUint8Array!==!1))return 64},encode(n,e,o){py(n,o)}},yn(68,1),yn(69,2),yn(70,4),yn(71,8),yn(72,1),yn(77,2),yn(78,4),yn(79,8),yn(85,4),yn(86,8),{encode(n,e){let o=n.packedValues||[],s=n.structures||[];if(o.values.length>0){L[M++]=216,L[M++]=51,vn(4);let l=o.values;e(l),vn(0),vn(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let u=0,d=l.length;u<d;u++)packedObjectMap[l[u]]=u}if(s){Fe.setUint32(M,3655335424),M+=3;let l=s.slice(0);l.unshift(57344),l.push(new Vi(n.version,1399353956)),e(l)}else e(new Vi(n.version,1399353956))}}];function yn(n,e){return!qb&&e>1&&(n-=4),{tag:n,encode:function(s,l){let u=s.byteLength,d=s.byteOffset||0,h=s.buffer||s;l(Zs?Bl.from(h,d,u):new Uint8Array(h,d,u))}}}function py(n,e){let o=n.byteLength;o<24?L[M++]=64+o:o<256?(L[M++]=88,L[M++]=o):o<65536?(L[M++]=89,L[M++]=o>>8,L[M++]=o&255):(L[M++]=90,Fe.setUint32(M,o),M+=4),M+o>=L.length&&e(M+o),L.set(n.buffer?n:new Uint8Array(n),M),M+=o}function Fb(n,e){let o,s=e.length*2,l=n.length-s;e.sort((u,d)=>u.offset>d.offset?1:-1);for(let u=0;u<e.length;u++){let d=e[u];d.id=u;for(let h of d.references)n[h++]=u>>8,n[h]=u&255}for(;o=e.pop();){let u=o.offset;n.copyWithin(u+s,u,l),s-=2;let d=u+s;n[d++]=216,n[d++]=28,l=u}return n}function hy(n,e){Fe.setUint32(rt.position+n,M-rt.position-n+1);let o=rt;rt=null,e(o[0]),e(o[1])}let af=new Bb({useRecords:!1});af.encode;af.encodeAsIterable;af.encodeAsAsyncIterable;const my=512,Jb=1024,gc=2048;function qi(n,e,o,s){Object.defineProperty(n,e,{get:o,set:s,enumerable:!0,configurable:!0})}class L0{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const o=[],s=e.byteLength,l=Math.ceil(s/this.chunkedMTU);let u=0,d=0;for(;d<s;){const h=Math.min(s,d+this.chunkedMTU),y=e.slice(d,h),m={__peerData:this._dataCount,n:u,data:y,total:l};o.push(m),d=h,u++}return this._dataCount++,o}}}function Yb(n){let e=0;for(const l of n)e+=l.byteLength;const o=new Uint8Array(e);let s=0;for(const l of n)o.set(l,s),s+=l.byteLength;return o}const yc=iy.default||iy,Vs=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const n=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(n)?n==="chrome"?e>=this.minChromeVersion:n==="firefox"?e>=this.minFirefoxVersion:n==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return yc.browserDetails.browser}getVersion(){return yc.browserDetails.version||0}isUnifiedPlanSupported(){const n=this.getBrowser(),e=yc.browserDetails.version||0;if(n==="chrome"&&e<this.minChromeVersion)return!1;if(n==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let o,s=!1;try{o=new RTCPeerConnection,o.addTransceiver("audio"),s=!0}catch{}finally{o&&o.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Kb=n=>!n||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(n),G0=()=>Math.random().toString(36).slice(2),gy={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Xb extends L0{noop(){}blobToArrayBuffer(e,o){const s=new FileReader;return s.onload=function(l){l.target&&o(l.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const o=new Uint8Array(e.length);for(let s=0;s<e.length;s++)o[s]=e.charCodeAt(s)&255;return o.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=gy,this.browser=Vs.getBrowser(),this.browserVersion=Vs.getVersion(),this.pack=Qy,this.unpack=Xy,this.supports=(function(){const o={browser:Vs.isBrowserSupported(),webRTC:Vs.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!o.webRTC)return o;let s;try{s=new RTCPeerConnection(gy),o.audioVideo=!0;let l;try{l=s.createDataChannel("_PEERJSTEST",{ordered:!0}),o.data=!0,o.reliable=!!l.ordered;try{l.binaryType="blob",o.binaryBlob=!Vs.isIOS}catch{}}catch{}finally{l&&l.close()}}catch{}finally{s&&s.close()}return o})(),this.validateId=Kb,this.randomToken=G0}}const Ut=new Xb,Qb="PeerJS: ";var yy;(function(n){n[n.Disabled=0]="Disabled",n[n.Errors=1]="Errors",n[n.Warnings=2]="Warnings",n[n.All=3]="All"})(yy||(yy={}));class $b{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...o){const s=[Qb,...o];for(const l in s)s[l]instanceof Error&&(s[l]="("+s[l].name+") "+s[l].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var re=new $b,uf={},Zb=Object.prototype.hasOwnProperty,Et="~";function Xs(){}Object.create&&(Xs.prototype=Object.create(null),new Xs().__proto__||(Et=!1));function Wb(n,e,o){this.fn=n,this.context=e,this.once=o||!1}function H0(n,e,o,s,l){if(typeof o!="function")throw new TypeError("The listener must be a function");var u=new Wb(o,s||n,l),d=Et?Et+e:e;return n._events[d]?n._events[d].fn?n._events[d]=[n._events[d],u]:n._events[d].push(u):(n._events[d]=u,n._eventsCount++),n}function Ml(n,e){--n._eventsCount===0?n._events=new Xs:delete n._events[e]}function _t(){this._events=new Xs,this._eventsCount=0}_t.prototype.eventNames=function(){var e=[],o,s;if(this._eventsCount===0)return e;for(s in o=this._events)Zb.call(o,s)&&e.push(Et?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(o)):e};_t.prototype.listeners=function(e){var o=Et?Et+e:e,s=this._events[o];if(!s)return[];if(s.fn)return[s.fn];for(var l=0,u=s.length,d=new Array(u);l<u;l++)d[l]=s[l].fn;return d};_t.prototype.listenerCount=function(e){var o=Et?Et+e:e,s=this._events[o];return s?s.fn?1:s.length:0};_t.prototype.emit=function(e,o,s,l,u,d){var h=Et?Et+e:e;if(!this._events[h])return!1;var y=this._events[h],m=arguments.length,v,_;if(y.fn){switch(y.once&&this.removeListener(e,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,o),!0;case 3:return y.fn.call(y.context,o,s),!0;case 4:return y.fn.call(y.context,o,s,l),!0;case 5:return y.fn.call(y.context,o,s,l,u),!0;case 6:return y.fn.call(y.context,o,s,l,u,d),!0}for(_=1,v=new Array(m-1);_<m;_++)v[_-1]=arguments[_];y.fn.apply(y.context,v)}else{var S=y.length,x;for(_=0;_<S;_++)switch(y[_].once&&this.removeListener(e,y[_].fn,void 0,!0),m){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,o);break;case 3:y[_].fn.call(y[_].context,o,s);break;case 4:y[_].fn.call(y[_].context,o,s,l);break;default:if(!v)for(x=1,v=new Array(m-1);x<m;x++)v[x-1]=arguments[x];y[_].fn.apply(y[_].context,v)}}return!0};_t.prototype.on=function(e,o,s){return H0(this,e,o,s,!1)};_t.prototype.once=function(e,o,s){return H0(this,e,o,s,!0)};_t.prototype.removeListener=function(e,o,s,l){var u=Et?Et+e:e;if(!this._events[u])return this;if(!o)return Ml(this,u),this;var d=this._events[u];if(d.fn)d.fn===o&&(!l||d.once)&&(!s||d.context===s)&&Ml(this,u);else{for(var h=0,y=[],m=d.length;h<m;h++)(d[h].fn!==o||l&&!d[h].once||s&&d[h].context!==s)&&y.push(d[h]);y.length?this._events[u]=y.length===1?y[0]:y:Ml(this,u)}return this};_t.prototype.removeAllListeners=function(e){var o;return e?(o=Et?Et+e:e,this._events[o]&&Ml(this,o)):(this._events=new Xs,this._eventsCount=0),this};_t.prototype.off=_t.prototype.removeListener;_t.prototype.addListener=_t.prototype.on;_t.prefixed=Et;_t.EventEmitter=_t;uf=_t;var Fi={};qi(Fi,"ConnectionType",()=>Tn);qi(Fi,"PeerErrorType",()=>Qe);qi(Fi,"BaseConnectionErrorType",()=>Qs);qi(Fi,"DataConnectionErrorType",()=>$s);qi(Fi,"SerializationType",()=>Ho);qi(Fi,"SocketEventType",()=>_n);qi(Fi,"ServerMessageType",()=>ft);var Tn;(function(n){n.Data="data",n.Media="media"})(Tn||(Tn={}));var Qe;(function(n){n.BrowserIncompatible="browser-incompatible",n.Disconnected="disconnected",n.InvalidID="invalid-id",n.InvalidKey="invalid-key",n.Network="network",n.PeerUnavailable="peer-unavailable",n.SslUnavailable="ssl-unavailable",n.ServerError="server-error",n.SocketError="socket-error",n.SocketClosed="socket-closed",n.UnavailableID="unavailable-id",n.WebRTC="webrtc"})(Qe||(Qe={}));var Qs;(function(n){n.NegotiationFailed="negotiation-failed",n.ConnectionClosed="connection-closed"})(Qs||(Qs={}));var $s;(function(n){n.NotOpenYet="not-open-yet",n.MessageToBig="message-too-big"})($s||($s={}));var Ho;(function(n){n.Binary="binary",n.BinaryUTF8="binary-utf8",n.JSON="json",n.None="raw"})(Ho||(Ho={}));var _n;(function(n){n.Message="message",n.Disconnected="disconnected",n.Error="error",n.Close="close"})(_n||(_n={}));var ft;(function(n){n.Heartbeat="HEARTBEAT",n.Candidate="CANDIDATE",n.Offer="OFFER",n.Answer="ANSWER",n.Open="OPEN",n.Error="ERROR",n.IdTaken="ID-TAKEN",n.InvalidKey="INVALID-KEY",n.Leave="LEAVE",n.Expire="EXPIRE"})(ft||(ft={}));var cf={};cf=JSON.parse('{"name":"peerjs","version":"1.5.2","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-cbor":"dist/serializer.cbor.mjs","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-cbor":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/Cbor.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","cbor-x":"1.5.4","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^8.0.0"},"alias":{"process":false,"buffer":false}}');class jb extends uf.EventEmitter{constructor(e,o,s,l,u,d=5e3){super(),this.pingInterval=d,this._disconnected=!0,this._messagesQueue=[];const h=e?"wss://":"ws://";this._baseUrl=h+o+":"+s+l+"peerjs?key="+u}start(e,o){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${o}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+cf.version),this._disconnected=!1,this._socket.onmessage=l=>{let u;try{u=JSON.parse(l.data),re.log("Server message received:",u)}catch{re.log("Invalid server message",l.data);return}this.emit(_n.Message,u)},this._socket.onclose=l=>{this._disconnected||(re.log("Socket closed.",l),this._cleanup(),this._disconnected=!0,this.emit(_n.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),re.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){re.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:ft.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const o of e)this.send(o)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(_n.Error,"Invalid message");return}if(!this._wsOpen())return;const o=JSON.stringify(e);this._socket.send(o)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class V0{constructor(e){this.connection=e}startConnection(e){const o=this._startPeerConnection();if(this.connection.peerConnection=o,this.connection.type===Tn.Media&&e._stream&&this._addTracksToConnection(e._stream,o),e.originator){const s=this.connection,l={ordered:!!e.reliable},u=o.createDataChannel(s.label,l);s._initializeDataChannel(u),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){re.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const o=this.connection.peer,s=this.connection.connectionId,l=this.connection.type,u=this.connection.provider;re.log("Listening for ICE candidates."),e.onicecandidate=d=>{!d.candidate||!d.candidate.candidate||(re.log(`Received ICE candidates for ${o}:`,d.candidate),u.socket.send({type:ft.Candidate,payload:{candidate:d.candidate,type:l,connectionId:s},dst:o}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":re.log("iceConnectionState is failed, closing connections to "+o),this.connection.emitError(Qs.NegotiationFailed,"Negotiation of connection to "+o+" failed."),this.connection.close();break;case"closed":re.log("iceConnectionState is closed, closing connections to "+o),this.connection.emitError(Qs.ConnectionClosed,"Connection to "+o+" closed."),this.connection.close();break;case"disconnected":re.log("iceConnectionState changed to disconnected on the connection with "+o);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},re.log("Listening for data channel"),e.ondatachannel=d=>{re.log("Received data channel");const h=d.channel;u.getConnection(o,s)._initializeDataChannel(h)},re.log("Listening for remote stream"),e.ontrack=d=>{re.log("Received remote stream");const h=d.streams[0],y=u.getConnection(o,s);if(y.type===Tn.Media){const m=y;this._addStreamToMediaConnection(h,m)}}}cleanup(){re.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const o=e.signalingState!=="closed";let s=!1;const l=this.connection.dataChannel;l&&(s=!!l.readyState&&l.readyState!=="closed"),(o||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,o=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);re.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),re.log("Set localDescription:",s,`for:${this.connection.peer}`);let l={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Tn.Data){const u=this.connection;l={...l,label:u.label,reliable:u.reliable,serialization:u.serialization}}o.socket.send({type:ft.Offer,payload:l,dst:this.connection.peer})}catch(l){l!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(o.emitError(Qe.WebRTC,l),re.log("Failed to setLocalDescription, ",l))}}catch(s){o.emitError(Qe.WebRTC,s),re.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,o=this.connection.provider;try{const s=await e.createAnswer();re.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),re.log("Set localDescription:",s,`for:${this.connection.peer}`),o.socket.send({type:ft.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(l){o.emitError(Qe.WebRTC,l),re.log("Failed to setLocalDescription, ",l)}}catch(s){o.emitError(Qe.WebRTC,s),re.log("Failed to create answer, ",s)}}async handleSDP(e,o){o=new RTCSessionDescription(o);const s=this.connection.peerConnection,l=this.connection.provider;re.log("Setting remote description",o);const u=this;try{await s.setRemoteDescription(o),re.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await u._makeAnswer()}catch(d){l.emitError(Qe.WebRTC,d),re.log("Failed to setRemoteDescription, ",d)}}async handleCandidate(e){re.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),re.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){this.connection.provider.emitError(Qe.WebRTC,o),re.log("Failed to handleCandidate, ",o)}}_addTracksToConnection(e,o){if(re.log(`add tracks from stream ${e.id} to peer connection`),!o.addTrack)return re.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{o.addTrack(s,e)})}_addStreamToMediaConnection(e,o){re.log(`add stream ${e.id} to media connection ${o.connectionId}`),o.addStream(e)}}class O0 extends uf.EventEmitter{emitError(e,o){re.error("Error:",o),this.emit("error",new e1(`${e}`,o))}}class e1 extends Error{constructor(e,o){typeof o=="string"?super(o):(super(),Object.assign(this,o)),this.type=e}}class B0 extends O0{get open(){return this._open}constructor(e,o,s){super(),this.peer=e,this.provider=o,this.options=s,this._open=!1,this.metadata=s.metadata}}var zc;const qs=class qs extends B0{get type(){return Tn.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,o,s){super(e,o,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||qs.ID_PREFIX+Ut.randomToken(),this._negotiator=new V0(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{re.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{re.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){re.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const o=e.type,s=e.payload;switch(e.type){case ft.Answer:this._negotiator.handleSDP(o,s.sdp),this._open=!0;break;case ft.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:re.warn(`Unrecognized message type:${o} from peer:${this.peer}`);break}}answer(e,o={}){if(this._localStream){re.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,o&&o.sdpTransform&&(this.options.sdpTransform=o.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const l of s)this.handleMessage(l);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};zc=new WeakMap,ws(qs,zc,qs.ID_PREFIX="mc_");let wl=qs;class t1{constructor(e){this._options=e}_buildRequest(e){const o=this._options.secure?"https":"http",{host:s,port:l,path:u,key:d}=this._options,h=new URL(`${o}://${s}:${l}${u}${d}/${e}`);return h.searchParams.set("ts",`${Date.now()}${Math.random()}`),h.searchParams.set("version",cf.version),fetch(h.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){re.error("Error retrieving ID",e);let o="";throw this._options.path==="/"&&this._options.host!==Ut.CLOUD_HOST&&(o=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+o)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let o="";throw this._options.host===Ut.CLOUD_HOST?o="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":o="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+o)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw re.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var qc,Fc;const Gi=class Gi extends B0{get type(){return Tn.Data}constructor(e,o,s){super(e,o,s),this.connectionId=this.options.connectionId||Gi.ID_PREFIX+G0(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new V0(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{re.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=o=>{re.log(`DC#${this.connectionId} dc onmessage:`,o.data)},this.dataChannel.onclose=()=>{re.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,o=!1){if(!this.open){this.emitError($s.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,o)}async handleMessage(e){const o=e.payload;switch(e.type){case ft.Answer:await this._negotiator.handleSDP(e.type,o.sdp);break;case ft.Candidate:await this._negotiator.handleCandidate(o.candidate);break;default:re.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};qc=new WeakMap,Fc=new WeakMap,ws(Gi,qc,Gi.ID_PREFIX="dc_"),ws(Gi,Fc,Gi.MAX_BUFFERED_AMOUNT=8388608);let Ll=Gi;class ff extends Ll{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",o=>this._handleDataMessage(o))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Ll.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(o){return re.error(`DC#:${this.connectionId} Error when sending:`,o),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class vc extends ff{close(e){super.close(e),this._chunkedData={}}constructor(e,o,s){super(e,o,s),this.chunker=new L0,this.serialization=Ho.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const o=Xy(e),s=o.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(o);return}this.emit("data",o)}_handleChunk(e){const o=e.__peerData,s=this._chunkedData[o]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[o]=s,s.total===s.count){delete this._chunkedData[o];const l=Yb(s.data);this._handleDataMessage({data:l})}}_send(e,o){const s=Qy(e);if(s instanceof Promise)return this._send_blob(s);if(!o&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const o=await e;if(o.byteLength>this.chunker.chunkedMTU){this._sendChunks(o);return}this._bufferedSend(o)}_sendChunks(e){const o=this.chunker.chunk(e);re.log(`DC#${this.connectionId} Try to send ${o.length} chunks...`);for(const s of o)this.send(s,!0)}}class n1 extends ff{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,o){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Ho.None}}class i1 extends ff{_handleDataMessage({data:e}){const o=this.parse(this.decoder.decode(e)),s=o.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",o)}_send(e,o){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=Ut.chunkedMTU){this.emitError($s.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=Ho.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var Jc;const Fs=class Fs extends O0{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[o,s]of this._connections)e[o]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,o){super(),this._serializers={raw:n1,json:i1,binary:vc,"binary-utf8":vc,default:vc},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?o=e:e&&(s=e.toString()),o={debug:0,host:Ut.CLOUD_HOST,port:Ut.CLOUD_PORT,path:"/",key:Fs.DEFAULT_KEY,token:Ut.randomToken(),config:Ut.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...o},this._options=o,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Ut.CLOUD_HOST?this._options.secure=Ut.isSecure():this._options.host==Ut.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&re.setLogFunction(this._options.logFunction),re.logLevel=this._options.debug||0,this._api=new t1(o),this._socket=this._createServerConnection(),!Ut.supports.audioVideo&&!Ut.supports.data){this._delayedAbort(Qe.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!Ut.validateId(s)){this._delayedAbort(Qe.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(l=>this._initialize(l)).catch(l=>this._abort(Qe.ServerError,l))}_createServerConnection(){const e=new jb(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(_n.Message,o=>{this._handleMessage(o)}),e.on(_n.Error,o=>{this._abort(Qe.SocketError,o)}),e.on(_n.Disconnected,()=>{this.disconnected||(this.emitError(Qe.Network,"Lost connection to server."),this.disconnect())}),e.on(_n.Close,()=>{this.disconnected||this._abort(Qe.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const o=e.type,s=e.payload,l=e.src;switch(o){case ft.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case ft.Error:this._abort(Qe.ServerError,s.msg);break;case ft.IdTaken:this._abort(Qe.UnavailableID,`ID "${this.id}" is taken`);break;case ft.InvalidKey:this._abort(Qe.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case ft.Leave:re.log(`Received leave message from ${l}`),this._cleanupPeer(l),this._connections.delete(l);break;case ft.Expire:this.emitError(Qe.PeerUnavailable,`Could not connect to peer ${l}`);break;case ft.Offer:{const u=s.connectionId;let d=this.getConnection(l,u);if(d&&(d.close(),re.warn(`Offer received for existing Connection ID:${u}`)),s.type===Tn.Media){const y=new wl(l,this,{connectionId:u,_payload:s,metadata:s.metadata});d=y,this._addConnection(l,d),this.emit("call",y)}else if(s.type===Tn.Data){const y=new this._serializers[s.serialization](l,this,{connectionId:u,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});d=y,this._addConnection(l,d),this.emit("connection",y)}else{re.warn(`Received malformed connection type:${s.type}`);return}const h=this._getMessages(u);for(const y of h)d.handleMessage(y);break}default:{if(!s){re.warn(`You received a malformed message from ${l} of type ${o}`);return}const u=s.connectionId,d=this.getConnection(l,u);d&&d.peerConnection?d.handleMessage(e):u?this._storeMessage(u,e):re.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,o){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(o)}_getMessages(e){const o=this._lostMessages.get(e);return o?(this._lostMessages.delete(e),o):[]}connect(e,o={}){if(o={serialization:"default",...o},this.disconnected){re.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Qe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[o.serialization](e,this,o);return this._addConnection(e,s),s}call(e,o,s={}){if(this.disconnected){re.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Qe.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!o){re.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const l=new wl(e,this,{...s,_stream:o});return this._addConnection(e,l),l}_addConnection(e,o){re.log(`add connection ${o.type}:${o.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(o)}_removeConnection(e){const o=this._connections.get(e.peer);if(o){const s=o.indexOf(e);s!==-1&&o.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,o){const s=this._connections.get(e);if(!s)return null;for(const l of s)if(l.connectionId===o)return l;return null}_delayedAbort(e,o){setTimeout(()=>{this._abort(e,o)},0)}_abort(e,o){re.error("Aborting!"),this.emitError(e,o),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(re.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const o=this._connections.get(e);if(o)for(const s of o)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;re.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)re.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)re.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=o=>{}){this._api.listAllPeers().then(o=>e(o)).catch(o=>this._abort(Qe.ServerError,o))}};Jc=new WeakMap,ws(Fs,Jc,Fs.DEFAULT_KEY="peerjs");let Bc=Fs;class o1{constructor(){this.peer=null,this.connections=new Map,this.hostConnection=null,this.onStateUpdate=null,this.onPlayerAction=null,this.onPlayerJoin=null,this.onPlayerDisconnect=null}initialize(e){this.peer||(this.peer=new Bc(gl+e,{debug:2}),this.peer.on("open",o=>{console.log("My Peer ID is: "+o)}),this.peer.on("connection",o=>{this.handleIncomingConnection(o)}),this.peer.on("error",o=>{console.error("Peer Error:",o)}))}handleIncomingConnection(e){e.on("open",()=>{console.log(`Connected to: ${e.peer}`),this.connections.set(e.peer,e),e.on("data",o=>{var l,u;const s=o;s.type==="JOIN"?(l=this.onPlayerJoin)==null||l.call(this,e.peer.replace(gl,""),s.payload.name):s.type==="ACTION"&&((u=this.onPlayerAction)==null||u.call(this,s.payload))}),e.on("close",()=>{var o;this.connections.delete(e.peer),(o=this.onPlayerDisconnect)==null||o.call(this,e.peer.replace(gl,""))})})}broadcastState(e){const o={type:"STATE_UPDATE",payload:e};this.connections.forEach(s=>{s.open&&s.send(o)})}connectToHost(e,o){if(!this.peer)return;const s=this.peer.connect(gl+e);s.on("open",()=>{this.hostConnection=s,s.send({type:"JOIN",payload:{name:o}})}),s.on("data",l=>{var d;const u=l;u.type==="STATE_UPDATE"&&((d=this.onStateUpdate)==null||d.call(this,u.payload))}),s.on("close",()=>{console.log("Disconnected from host"),this.hostConnection=null}),s.on("error",l=>{console.error("Connection error",l)})}sendAction(e){this.hostConnection&&this.hostConnection.open&&this.hostConnection.send({type:"ACTION",payload:e})}destroy(){var e;(e=this.peer)==null||e.destroy(),this.peer=null,this.connections.clear(),this.hostConnection=null}}const Dt=new o1,Pt=({children:n,variant:e="primary",size:o="md",className:s="",isLoading:l,...u})=>{const d="font-header uppercase tracking-wider rounded-lg transition-all duration-300 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden group",h={primary:"bg-bunker-accent text-bunker-950 hover:bg-yellow-400 shadow-[0_0_20px_rgba(234,179,8,0.2)] hover:shadow-[0_0_30px_rgba(234,179,8,0.5)] border border-yellow-600",secondary:"bg-bunker-800 text-gray-200 hover:bg-bunker-700 border border-white/10 hover:border-white/30",danger:"bg-bunker-danger text-white hover:bg-rose-600 shadow-[0_0_20px_rgba(244,63,94,0.2)] border border-rose-800",success:"bg-bunker-success text-bunker-900 hover:bg-emerald-400 shadow-[0_0_20px_rgba(16,185,129,0.2)] border border-emerald-800",ghost:"bg-transparent text-gray-400 hover:text-white hover:bg-white/5"},y={sm:"px-3 py-1.5 text-xs",md:"px-6 py-3 text-sm",lg:"px-8 py-4 text-base",xl:"px-10 py-5 text-xl"};return R.jsxs("button",{className:`${d} ${h[e]} ${y[o]} ${s}`,disabled:l||u.disabled,...u,children:[l&&R.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[R.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),R.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),R.jsx("span",{className:"relative z-10",children:n})]})},s1=({exiledName:n,onAnimationComplete:e})=>{const[o,s]=kt.useState(0);return kt.useEffect(()=>{if(n){s(1);const l=setTimeout(()=>s(2),200),u=setTimeout(()=>s(3),3e3),d=setTimeout(()=>{s(0),e()},3500);return()=>{clearTimeout(l),clearTimeout(u),clearTimeout(d)}}},[n,e]),!n||o===0?null:R.jsxs("div",{className:"fixed inset-0 z-[100] pointer-events-none flex items-center justify-center overflow-hidden",children:[R.jsx("div",{className:`absolute inset-0 bg-red-600 mix-blend-multiply transition-opacity duration-1000 ${o===1?"opacity-80 animate-exile-flash":"opacity-20"}`}),R.jsx("div",{className:`relative ${o===2?"animate-shake-hard":""}`,children:R.jsxs("div",{className:"bg-black/90 border-4 border-red-600 p-12 transform rotate-2 shadow-[0_0_100px_rgba(220,38,38,0.8)] text-center",children:[R.jsx("h1",{className:"text-6xl md:text-9xl font-header text-red-500 uppercase tracking-tighter drop-shadow-lg",children:""}),R.jsx("div",{className:"text-3xl md:text-5xl font-mono text-white mt-4 bg-red-600 px-4 py-2 inline-block",children:n})]})}),R.jsx("div",{className:"absolute inset-0 bg-[url('https://media.giphy.com/media/oEI9uBYSzLpBK/giphy.gif')] opacity-10 mix-blend-overlay bg-cover"})]})},Oi={Eye:()=>R.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),Lock:()=>R.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),Clock:()=>R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Megaphone:()=>R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),Vote:()=>R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Skull:()=>R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7.5 3.5a4.5 4.5 0 019 0c.348.65.6 1.35.732 2.083C19.508 6.476 21 8.242 21 10.5c0 3.314-2.686 6-6 6-.628 0-1.229-.098-1.797-.279A8.966 8.966 0 0112 21a8.966 8.966 0 01-3.203-4.779A5.986 5.986 0 017 16.5c-3.314 0-6-2.686-6-6 0-2.258 1.492-4.024 3.768-4.917A9.014 9.014 0 017.5 3.5zM10 9a1 1 0 11-2 0 1 1 0 012 0zm5 0a1 1 0 11-2 0 1 1 0 012 0z"})})},vy=[{id:"profession",label:"",width:"min-w-[140px] md:min-w-[160px]"},{id:"biology",label:"",width:"min-w-[100px] md:min-w-[120px]"},{id:"health",label:"",width:"min-w-[130px] md:min-w-[150px]"},{id:"hobby",label:"",width:"min-w-[120px] md:min-w-[140px]"},{id:"body",label:"",width:"min-w-[100px] md:min-w-[110px]"},{id:"phobia",label:"",width:"min-w-[130px] md:min-w-[150px]"},{id:"inventory",label:"",width:"min-w-[130px] md:min-w-[150px]"},{id:"baggage",label:"",width:"min-w-[130px] md:min-w-[150px]"},{id:"fact",label:"",width:"min-w-[140px] md:min-w-[160px]"},{id:"action",label:"",width:"min-w-[140px] md:min-w-[160px]"}],r1=Xc.memo(({gameState:n,activePlayer:e,onToggleReveal:o,onCastVote:s,onSelectPlayer:l})=>{const u=n.phase===Ce.VOTING,d=n.phase===Ce.PLAYER_SPEECH||n.phase===Ce.JUSTIFICATION;return R.jsx("div",{className:"w-full h-full flex flex-col glass-panel rounded-2xl border border-white/10 shadow-2xl relative overflow-hidden",children:R.jsx("div",{className:"overflow-x-auto flex-1 custom-scrollbar",children:R.jsxs("table",{className:"w-full text-left border-collapse",children:[R.jsx("thead",{className:"bg-bunker-950/95 backdrop-blur sticky top-0 z-20 border-b border-bunker-accent/20",children:R.jsxs("tr",{children:[R.jsx("th",{className:"p-3 font-header text-[10px] md:text-xs tracking-[0.15em] text-gray-400 uppercase sticky left-0 z-30 bg-bunker-950 min-w-[180px] md:min-w-[220px] border-r border-white/5 shadow-[5px_0_15px_-5px_rgba(0,0,0,0.5)]",children:""}),vy.map(h=>R.jsx("th",{className:`p-3 font-header text-[10px] md:text-xs tracking-[0.15em] text-gray-500 uppercase ${h.width} border-r border-white/5 last:border-0`,children:h.label},h.id))]})}),R.jsx("tbody",{className:"divide-y divide-white/5 bg-bunker-900/20",children:n.players.map(h=>{const y=(d||n.phase===Ce.VOTE_PREP_SPEECH)&&(e==null?void 0:e.id)===h.id,m=n.phase===Ce.JUSTIFICATION&&n.candidatesForExile.includes(h.id),v=h.id===n.myId;return R.jsxs("tr",{className:`
                                        group transition-colors relative
                                        ${h.isExiled?"bg-red-900/10 grayscale opacity-50":"hover:bg-white/5"}
                                        ${y?"bg-bunker-accent/5":""}
                                        ${m?"bg-red-500/10":""}
                                        ${v?"bg-blue-500/5":""}
                                    `,children:[R.jsx("td",{className:`p-2 sticky left-0 z-10 border-r border-white/10 transition-colors shadow-[5px_0_15px_-5px_rgba(0,0,0,0.5)] ${h.isExiled?"bg-black":"bg-[#0a0a0c] group-hover:bg-[#131316]"}`,children:R.jsxs("div",{className:"flex items-center gap-3 relative h-full",children:[y&&R.jsx("div",{className:"absolute -left-2 top-0 bottom-0 w-0.5 bg-bunker-accent animate-pulse shadow-[0_0_10px_rgba(234,179,8,0.5)]"}),v&&R.jsx("div",{className:"absolute right-0 top-0 text-[8px] bg-blue-500 text-white px-1 rounded-bl",children:""}),R.jsx("div",{onClick:()=>l(h.id),className:"w-8 h-8 md:w-10 md:h-10 rounded bg-bunker-800 border border-white/10 flex items-center justify-center shrink-0 cursor-pointer hover:border-bunker-accent transition-colors",children:R.jsx("span",{className:"font-header text-gray-400 text-xs md:text-sm",children:h.avatarId})}),R.jsxs("div",{className:"min-w-0 flex-1",children:[R.jsx("div",{onClick:()=>l(h.id),className:"font-bold text-white text-xs md:text-sm leading-tight truncate cursor-pointer hover:text-bunker-accent transition-colors",children:h.name}),R.jsx("div",{className:"flex items-center gap-2 mt-1",children:h.votesReceived>0&&u&&R.jsxs("span",{className:"text-[9px] uppercase tracking-wider bg-bunker-danger text-white px-1.5 py-0.5 rounded font-bold animate-pulse",children:[h.votesReceived," ()"]})})]}),u&&!h.isExiled&&R.jsx("button",{onClick:()=>s(h.id),className:"ml-2 w-7 h-7 rounded-full bg-bunker-danger/20 text-bunker-danger border border-bunker-danger/50 flex items-center justify-center hover:bg-bunker-danger hover:text-white transition-all shadow-[0_0_10px_rgba(244,63,94,0.3)] active:scale-90",title:" ",children:R.jsx(Oi.Vote,{})})]})}),vy.map(_=>{const S=h.stats[_.id],x=!h.isExiled&&v;return R.jsxs("td",{onClick:()=>x&&o(h.id,S.type),className:`p-2 md:p-3 border-r border-white/5 last:border-0 relative align-top ${x?"cursor-pointer":""} ${h.isExiled?"cursor-not-allowed":""}`,children:[S.isRevealed?R.jsx("span",{className:"font-mono text-xs md:text-sm text-gray-200 block animate-in fade-in duration-300 leading-tight whitespace-normal break-words",children:S.value}):R.jsxs("div",{className:"flex items-center gap-2 opacity-30 select-none group-hover:opacity-50 transition-opacity h-full min-h-[20px]",children:[R.jsx(Oi.Lock,{}),R.jsx("span",{className:"font-mono text-[9px] tracking-widest hidden md:inline",children:"ENCRYPTED"})]}),!S.isRevealed&&!h.isExiled&&x&&R.jsx("div",{className:"absolute inset-0 bg-bunker-accent/5 opacity-0 hover:opacity-100 flex items-center justify-center backdrop-blur-[1px] transition-all",children:R.jsx("span",{className:"text-[9px] text-bunker-accent font-bold uppercase tracking-wider border border-bunker-accent/30 px-2 py-0.5 rounded bg-black/50",children:""})})]},_.id)})]},h.id)})})]})})})}),l1=Xc.memo(({timer:n,isRunning:e})=>R.jsx("div",{className:`fixed top-0 left-1/2 -translate-x-1/2 z-50 transition-all duration-500 ${e?"translate-y-4 opacity-100":"-translate-y-20 opacity-0"}`,children:R.jsxs("div",{className:"glass-panel px-6 py-2 rounded-full border-bunker-accent/50 flex items-center gap-3 shadow-[0_0_20px_rgba(234,179,8,0.2)] bg-black/80",children:[R.jsx("span",{className:"animate-pulse text-bunker-accent",children:R.jsx(Oi.Clock,{})}),R.jsxs("span",{className:"font-mono text-2xl font-bold text-white tabular-nums",children:[Math.floor(n/60).toString().padStart(2,"0"),":",(n%60).toString().padStart(2,"0")]})]})})),a1=({playerId:n,players:e,onClose:o,onToggleReveal:s,onUseAction:l,myId:u})=>{if(!n)return null;const d=e.find(m=>m.id===n);if(!d)return null;const h=d.id===u,y=[{label:"",val:d.stats.profession},{label:"",val:d.stats.biology},{label:"",val:d.stats.health},{label:"",val:d.stats.hobby},{label:"",val:d.stats.body},{label:"",val:d.stats.phobia},{label:"",val:d.stats.baggage},{label:"",val:d.stats.inventory},{label:"",val:d.stats.fact},{label:". ",val:d.stats.action}];return R.jsx("div",{className:"fixed inset-0 z-[60] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:o,children:R.jsxs("div",{className:"w-full max-w-2xl bg-bunker-900 border border-bunker-accent/30 shadow-[0_0_50px_rgba(234,179,8,0.1)] rounded-xl overflow-hidden flex flex-col max-h-[90vh]",onClick:m=>m.stopPropagation(),children:[R.jsxs("div",{className:"bg-bunker-950 p-6 border-b border-bunker-accent/20 flex items-start gap-6",children:[R.jsxs("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-lg bg-bunker-800 border-2 border-white/10 flex items-center justify-center overflow-hidden shrink-0 relative",children:[R.jsx("span",{className:"font-header text-4xl text-gray-600",children:d.avatarId}),d.isExiled&&R.jsx("div",{className:"absolute inset-0 bg-red-900/80 flex items-center justify-center text-red-500 font-bold border-4 border-red-500 rotate-12",children:""})]}),R.jsxs("div",{className:"flex-1",children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl md:text-3xl font-header text-white uppercase tracking-wider",children:d.name}),R.jsxs("p",{className:"text-bunker-accent font-mono text-xs md:text-sm mt-1",children:["ID: ",d.avatarId," // : ",d.isExiled?"":""]})]}),R.jsx("button",{onClick:o,className:"text-gray-500 hover:text-white transition-colors",children:R.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),R.jsx("div",{className:"mt-4 flex gap-2",children:!d.isExiled&&!d.stats.action.isRevealed&&h&&R.jsx("button",{onClick:()=>l(d.id),className:"px-3 py-1 bg-bunker-accent/10 text-bunker-accent border border-bunker-accent/50 rounded hover:bg-bunker-accent/20 text-xs font-bold uppercase tracking-widest transition-all",children:" . "})})]})]}),R.jsx("div",{className:"p-6 overflow-y-auto bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] custom-scrollbar",children:R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map((m,v)=>R.jsxs("div",{onClick:()=>h&&!d.isExiled&&s(d.id,m.val.type),className:`group p-4 border rounded-lg transition-all duration-300 relative overflow-hidden ${m.val.isRevealed?"bg-bunker-800/90 border-bunker-accent/30 shadow-[0_0_15px_rgba(234,179,8,0.05)]":"bg-bunker-900/50 border-white/5 hover:border-white/20"} ${h&&!d.isExiled?"cursor-pointer":"cursor-default"}`,children:[R.jsxs("div",{className:"flex justify-between items-center mb-1",children:[R.jsx("span",{className:"text-[10px] uppercase font-bold tracking-[0.15em] text-gray-500 group-hover:text-bunker-accent transition-colors",children:m.label}),R.jsx("span",{className:`text-gray-600 ${m.val.isRevealed?"text-bunker-accent":""}`,children:m.val.isRevealed?R.jsx(Oi.Eye,{}):R.jsx(Oi.Lock,{})})]}),R.jsx("div",{className:`font-mono text-sm leading-snug break-words ${m.val.isRevealed?"text-white":"text-gray-700 blur-[3px] select-none"}`,children:m.val.isRevealed?m.val.value:"ENCRYPTED_DATA_BLOCK_X9"}),!m.val.isRevealed&&h&&!d.isExiled&&R.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/20 backdrop-blur-[1px]",children:R.jsx("span",{className:"text-xs font-bold text-white uppercase tracking-widest border border-white/20 px-2 py-1 rounded bg-black/50",children:""})})]},v))})})]})})},u1=({onCreateRoom:n,onJoinRoom:e,loading:o})=>{const[s,l]=kt.useState(""),[u,d]=kt.useState(""),[h,y]=kt.useState("HOME"),m=()=>{if(!s.trim())return alert(" ");n(s)},v=()=>{if(!s.trim()||!u.trim())return alert("  ");e(u,s)};return R.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 animate-in fade-in duration-700 relative overflow-hidden",children:[R.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:R.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-bunker-accent/10 via-transparent to-transparent"})}),R.jsxs("div",{className:"relative mb-12 text-center",children:[R.jsx("h1",{className:"text-6xl md:text-8xl font-header font-bold text-transparent bg-clip-text bg-gradient-to-b from-bunker-accent to-yellow-600 tracking-tighter drop-shadow-[0_0_15px_rgba(234,179,8,0.3)]",children:"BUNKER"}),R.jsx("div",{className:"text-bunker-danger font-mono text-sm tracking-[0.5em] animate-pulse mt-2",children:"PROJECT: LAST HOPE"})]}),R.jsxs("div",{className:"glass-panel p-8 rounded-2xl w-full max-w-md space-y-6 border-t border-bunker-accent/20 relative z-10",children:[h==="HOME"&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"space-y-4",children:[R.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:" "}),R.jsx("input",{type:"text",value:s,onChange:_=>l(_.target.value),className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-bunker-accent outline-none font-mono text-center uppercase placeholder:text-gray-700",placeholder:" "})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[R.jsx(Pt,{onClick:m,isLoading:o,variant:"primary",children:""}),R.jsx(Pt,{onClick:()=>y("JOIN"),variant:"secondary",children:""})]})]}),h==="JOIN"&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:" "}),R.jsx("input",{type:"text",value:s,onChange:_=>l(_.target.value),className:"w-full bg-black/50 border border-white/10 rounded p-3 text-white focus:border-bunker-accent outline-none font-mono text-center uppercase mb-4",placeholder:" "})]}),R.jsxs("div",{children:[R.jsx("label",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:" "}),R.jsx("input",{type:"text",value:u,onChange:_=>d(_.target.value.toUpperCase()),className:"w-full bg-black/50 border border-white/10 rounded p-3 text-bunker-accent focus:border-bunker-accent outline-none font-mono text-center uppercase tracking-[0.5em] text-xl",placeholder:"XXXX",maxLength:4})]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[R.jsx(Pt,{onClick:v,isLoading:o,variant:"primary",children:""}),R.jsx(Pt,{onClick:()=>y("HOME"),variant:"ghost",children:""})]})]})]})]})},c1=({players:n,onStartGame:e,loading:o,roomId:s,isHost:l})=>R.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 animate-in fade-in duration-700",children:R.jsxs("div",{className:"glass-panel p-8 rounded-2xl w-full max-w-lg space-y-6 border-t border-bunker-accent/20",children:[R.jsxs("div",{className:"text-center border-b border-white/10 pb-6",children:[R.jsx("h2",{className:"text-gray-400 text-sm font-mono mb-2",children:" "}),R.jsx("div",{className:"text-5xl font-mono font-bold text-white tracking-[0.2em]",children:s}),!l&&R.jsx("p",{className:"text-xs text-gray-500 mt-2 animate-pulse",children:" ..."})]}),R.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar",children:[R.jsxs("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 flex justify-between",children:[R.jsx("span",{children:" "}),R.jsx("span",{children:n.length})]}),n.map(u=>R.jsxs("div",{className:"bg-white/5 p-3 rounded flex items-center gap-3",children:[R.jsx("div",{className:"w-2 h-2 rounded-full bg-bunker-success animate-pulse"}),R.jsx("span",{className:"font-bold text-white",children:u.name}),u.isHost&&R.jsx("span",{className:"text-[10px] bg-bunker-accent text-black px-1 rounded ml-auto font-bold",children:"HOST"})]},u.id))]}),l&&R.jsxs("div",{className:"pt-4 border-t border-white/10",children:[R.jsxs("p",{className:"text-center text-xs text-gray-500 mb-4 font-mono",children:["  : ",R.jsx("span",{className:"text-bunker-accent",children:_y(n.length)})]}),R.jsx(Pt,{onClick:e,isLoading:o,size:"lg",className:"w-full",variant:"primary",disabled:n.length<2,children:" "})]})]})}),f1=({gameState:n,beginRound:e,isHost:o})=>{var s,l,u,d,h,y,m,v;return R.jsxs("div",{className:"min-h-screen p-6 flex flex-col items-center justify-center relative overflow-hidden",children:[R.jsx("div",{className:"absolute inset-0 bg-red-500/5 animate-pulse-slow pointer-events-none"}),R.jsxs("div",{className:"glass-panel max-w-4xl w-full p-8 md:p-12 rounded-3xl border border-bunker-danger/20 shadow-[0_0_50px_rgba(244,63,94,0.1)] relative z-10",children:[R.jsxs("div",{className:"flex items-center justify-center mb-8 text-bunker-danger",children:[R.jsx(Oi.Megaphone,{}),R.jsx("span",{className:"ml-3 font-mono text-xl tracking-widest uppercase",children:"! !"})]}),R.jsx("h2",{className:"text-4xl md:text-5xl font-header text-center mb-6 text-white",children:(s=n.bunker)==null?void 0:s.disaster}),R.jsxs("p",{className:"text-gray-300 text-lg md:text-xl text-center leading-relaxed mb-10 max-w-2xl mx-auto border-l-2 border-bunker-danger/50 pl-4 italic",children:['"',(l=n.bunker)==null?void 0:l.description,'"']}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",children:[R.jsxs("div",{className:"bg-bunker-900/60 p-6 rounded-xl border border-white/5",children:[R.jsx("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:" "}),R.jsxs("ul",{className:"space-y-3 font-mono text-sm",children:[R.jsxs("li",{className:"flex justify-between",children:[R.jsx("span",{className:"text-gray-400",children:":"})," ",R.jsx("span",{className:"text-white text-right",children:(u=n.bunker)==null?void 0:u.location})]}),R.jsxs("li",{className:"flex justify-between",children:[R.jsx("span",{className:"text-gray-400",children:":"})," ",R.jsxs("span",{className:"text-white text-right",children:[(d=n.bunker)==null?void 0:d.bunkerSize," "]})]}),R.jsxs("li",{className:"flex justify-between",children:[R.jsx("span",{className:"text-gray-400",children:":"})," ",R.jsxs("span",{className:"text-bunker-accent text-right",children:[(h=n.bunker)==null?void 0:h.capacity," ."]})]}),R.jsxs("li",{className:"flex justify-between",children:[R.jsx("span",{className:"text-gray-400",children:":"})," ",R.jsx("span",{className:"text-white text-right",children:(y=n.bunker)==null?void 0:y.foodSupply})]})]})]}),R.jsxs("div",{className:"bg-bunker-900/60 p-6 rounded-xl border border-white/5",children:[R.jsx("h3",{className:"text-xs uppercase tracking-widest text-gray-500 mb-4",children:"  "}),R.jsxs("div",{className:"mb-4",children:[R.jsx("span",{className:"text-gray-400 block text-xs mb-1",children:" :"}),R.jsx("span",{className:"text-rose-400 font-bold",children:(m=n.bunker)==null?void 0:m.enemy})]}),R.jsxs("div",{children:[R.jsx("span",{className:"text-gray-400 block text-xs mb-1",children:":"}),R.jsx("div",{className:"flex flex-wrap gap-2",children:(v=n.bunker)==null?void 0:v.equipment.map((_,S)=>R.jsx("span",{className:"px-2 py-1 bg-white/10 rounded text-xs text-bunker-accent border border-bunker-accent/20",children:_},S))})]})]})]}),o&&R.jsx("div",{className:"flex justify-center",children:R.jsx(Pt,{onClick:e,size:"lg",variant:"success",className:"animate-bounce",children:"  "})}),!o&&R.jsx("div",{className:"text-center text-gray-500 animate-pulse",children:"  ..."})]})]})},d1=({gameState:n})=>R.jsxs("div",{className:"min-h-screen p-8 max-w-4xl mx-auto flex flex-col justify-center animate-in fade-in zoom-in duration-1000",children:[R.jsx("h1",{className:"text-5xl font-header text-center mb-8 text-bunker-success",children:" "}),R.jsxs("div",{className:"glass-panel p-8 rounded-2xl mb-8 border-t-2 border-bunker-success",children:[R.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:" "}),R.jsx("div",{className:"prose prose-invert max-w-none text-gray-300 leading-relaxed font-mono text-sm",children:n.endingStory?n.endingStory.split(`
`).map((e,o)=>R.jsx("p",{className:"mb-4",children:e},o)):R.jsxs("div",{className:"flex flex-col items-center py-12",children:[R.jsx("div",{className:"w-12 h-12 border-4 border-bunker-success border-t-transparent rounded-full animate-spin mb-4"}),R.jsx("p",{className:"animate-pulse",children:"   ..."})]})})]}),R.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-bunker-success font-bold uppercase tracking-widest mb-4 border-b border-white/10 pb-2",children:""}),R.jsx("ul",{className:"space-y-2",children:n.survivors.map(e=>R.jsxs("li",{className:"bg-white/5 p-3 rounded flex justify-between items-center",children:[R.jsx("span",{children:e.name}),R.jsx("span",{className:"text-xs text-gray-500",children:e.stats.profession.value})]},e.id))})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-bunker-danger font-bold uppercase tracking-widest mb-4 border-b border-white/10 pb-2",children:""}),R.jsx("ul",{className:"space-y-2 opacity-60",children:n.players.filter(e=>e.isExiled).map(e=>R.jsxs("li",{className:"p-3 flex justify-between items-center",children:[R.jsx("span",{className:"line-through",children:e.name}),R.jsx("span",{className:"text-xs",children:e.stats.profession.value})]},e.id))})]})]}),R.jsx(Pt,{onClick:()=>window.location.reload(),className:"mt-12 mx-auto",size:"lg",children:"  "})]});function p1(){var Q,ee;const[n,e]=kt.useState({myId:null,roomId:null,isHost:!1,phase:Ce.LOBBY,round:1,maxRounds:5,turnDirection:"CW",currentPlayerIndex:0,players:[],bunker:null,history:[],survivors:[],endingStory:null,timer:0,isTimerRunning:!1,votingRound:0,candidatesForExile:[],exiledPlayerId:null}),[o,s]=kt.useState(!1),[l,u]=kt.useState(null);kt.useEffect(()=>{Dt.onStateUpdate=H=>{e(E=>({...H,myId:E.myId,isHost:E.isHost}))},Dt.onPlayerJoin=(H,E)=>{e(D=>{if(D.players.find(he=>he.id===H))return D;const X=Em(H,E,!1),Z={...D,players:[...D.players,X]};return Dt.broadcastState(Z),Z})},Dt.onPlayerDisconnect=H=>{console.log("Player disconnected:",H)},Dt.onPlayerAction=H=>{d(H)}},[]);const d=H=>{e(E=>{let D={...E};if(H.type==="REVEAL"){const{playerId:X,data:Z}=H;D.players=E.players.map(he=>{if(he.id!==X)return he;const de=he.stats[Z];return{...he,stats:{...he.stats,[Z]:{...de,isRevealed:!de.isRevealed}}}})}else if(H.type==="VOTE"){const{data:X}=H;D.players=E.players.map(Z=>Z.id===X?{...Z,votesReceived:Z.votesReceived+1}:Z)}else if(H.type==="USE_ACTION"){const{playerId:X}=H;D.players=E.players.map(Z=>Z.id!==X?Z:{...Z,stats:{...Z.stats,action:{...Z.stats.action,isRevealed:!0}}})}return Dt.broadcastState(D),D})};kt.useEffect(()=>{let H;return n.isHost&&n.isTimerRunning&&n.timer>0&&(H=setInterval(()=>{e(E=>{const D={...E,timer:E.timer-1,isTimerRunning:E.timer-1>0};return Dt.broadcastState(D),D})},1e3)),()=>clearInterval(H)},[n.isHost,n.isTimerRunning,n.timer]);const h=H=>{e(H),Dt.broadcastState(H)},y=()=>Math.random().toString(36).substring(2,6).toUpperCase(),m=H=>{s(!0);const E=y(),D=Math.random().toString(36).substr(2,9);Dt.initialize(E);const X=Em(D,H,!0);e(Z=>({...Z,myId:D,roomId:E,isHost:!0,phase:Ce.SETUP,players:[X]})),s(!1)},v=(H,E)=>{s(!0);const D=Math.random().toString(36).substr(2,9);Dt.initialize(D),Dt.connectToHost(H,E),e(X=>({...X,myId:D,roomId:H,isHost:!1,phase:Ce.SETUP})),s(!1)},_=async()=>{if(!n.isHost)return;s(!0),h({...n,phase:Ce.SCENARIO_LOADING});const H=await fb();H.capacity=_y(n.players.length);const E={...n,phase:Ce.SCENARIO_REVEAL,round:1,maxRounds:7,turnDirection:"CW",currentPlayerIndex:0,bunker:H,history:[" ."],survivors:[],endingStory:null,timer:0,isTimerRunning:!1,votingRound:0,candidatesForExile:[],exiledPlayerId:null};s(!1),h(E)},S=()=>{if(!n.isHost)return;const H=n.round%2!==0?"CW":"CCW";h({...n,phase:Ce.ROUND_START,turnDirection:H,currentPlayerIndex:0,timer:0,isTimerRunning:!1})},x=()=>{n.isHost&&h({...n,phase:Ce.PLAYER_SPEECH,timer:Vn.SPEECH,isTimerRunning:!0})},O=()=>{if(!n.isHost)return;const H=n.players.filter(E=>!E.isExiled);n.currentPlayerIndex>=H.length-1?h({...n,phase:Ce.GROUP_DISCUSSION,timer:Vn.DISCUSSION,isTimerRunning:!0}):h({...n,phase:Ce.PLAYER_SPEECH,currentPlayerIndex:n.currentPlayerIndex+1,timer:Vn.SPEECH,isTimerRunning:!0})},B=()=>{n.isHost&&h({...n,phase:Ce.VOTE_PREP_SPEECH,currentPlayerIndex:0,timer:Vn.JUSTIFICATION,isTimerRunning:!0})},W=()=>{if(!n.isHost)return;const H=n.players.filter(E=>!E.isExiled);n.currentPlayerIndex>=H.length-1?te():h({...n,currentPlayerIndex:n.currentPlayerIndex+1,timer:Vn.JUSTIFICATION,isTimerRunning:!0})},te=()=>{if(!n.isHost)return;const H=n.players.map(E=>({...E,votesReceived:0}));h({...n,phase:Ce.VOTING,players:H,timer:Vn.VOTE,isTimerRunning:!0,candidatesForExile:[]})},ie=kt.useCallback(H=>{n.isHost?d({type:"VOTE",playerId:n.myId,data:H}):Dt.sendAction({type:"VOTE",playerId:n.myId,data:H})},[n.isHost,n.myId]),F=kt.useCallback((H,E)=>{n.isHost?d({type:"REVEAL",playerId:H,data:E}):Dt.sendAction({type:"REVEAL",playerId:H,data:E})},[n.isHost]),le=kt.useCallback(H=>{n.isHost?d({type:"USE_ACTION",playerId:H}):Dt.sendAction({type:"USE_ACTION",playerId:H})},[n.isHost]),fe=()=>{if(!n.isHost)return;const H=n.players.filter(de=>!de.isExiled),E=H.reduce((de,De)=>de+De.votesReceived,0);let D=0;H.forEach(de=>{de.votesReceived>D&&(D=de.votesReceived)});const X=H.filter(de=>de.votesReceived===D),he=(E>0?D/E:0)>=.7;h({...n,phase:Ce.VOTE_RESULTS,isTimerRunning:!1,candidatesForExile:X.map(de=>de.id)}),setTimeout(()=>{he&&X.length===1?j(X[0].id):X.length>1||X.length===1&&!he&&n.votingRound===0?h({...n,phase:Ce.JUSTIFICATION,candidatesForExile:X.map(de=>de.id),currentPlayerIndex:0,timer:Vn.JUSTIFICATION,isTimerRunning:!0}):X.length===1?j(X[0].id):Te(X.map(de=>de.id))},2e3)},ae=()=>{if(!n.isHost)return;const{candidatesForExile:H,currentPlayerIndex:E}=n;if(E>=H.length-1){const D=n.players.map(X=>({...X,votesReceived:0}));h({...n,votingRound:1,phase:Ce.VOTING,players:D,timer:Vn.VOTE,isTimerRunning:!0})}else h({...n,currentPlayerIndex:n.currentPlayerIndex+1,timer:Vn.JUSTIFICATION,isTimerRunning:!0})},j=H=>{if(!n.isHost)return;const E=n.players.map(D=>D.id===H?{...D,isExiled:!0}:D);h({...n,players:E,phase:Ce.EXILE_ANIMATION,exiledPlayerId:H,history:[...n.history,"  ."]})},Te=H=>{if(!n.isHost)return;const E=n.players.map(D=>H.includes(D.id)?{...D,isExiled:!0}:D);h({...n,players:E,phase:Ce.EXILE_ANIMATION,exiledPlayerId:H[0]})},ce=()=>{var E;if(!n.isHost)return;n.players.filter(D=>!D.isExiled).length<=(((E=n.bunker)==null?void 0:E.capacity)||0)?Ie(n.players):ge()},ge=()=>{n.isHost&&h({...n,round:n.round+1,votingRound:0,exiledPlayerId:null,phase:Ce.ROUND_START})},Ie=async H=>{if(!n.isHost)return;h({...n,players:H,phase:Ce.ENDING_GENERATION});const E=H.filter(X=>!X.isExiled),D=await db(E,n.bunker);h({...n,phase:Ce.GAME_OVER,survivors:E,endingStory:D})},ve=n.exiledPlayerId?(Q=n.players.find(H=>H.id===n.exiledPlayerId))==null?void 0:Q.name:null;if(n.phase===Ce.LOBBY)return R.jsx(u1,{onCreateRoom:m,onJoinRoom:v,loading:o});if(n.phase===Ce.SETUP)return R.jsx(c1,{players:n.players,onStartGame:_,loading:o,roomId:n.roomId,isHost:n.isHost});if(n.phase===Ce.SCENARIO_LOADING)return R.jsx("div",{className:"h-screen flex flex-col items-center justify-center",children:R.jsx("div",{className:"animate-scanline text-bunker-accent font-mono text-2xl",children:" ..."})});if(n.phase===Ce.SCENARIO_REVEAL)return R.jsx(f1,{gameState:n,beginRound:S,isHost:n.isHost});if(n.phase===Ce.GAME_OVER||n.phase===Ce.ENDING_GENERATION)return R.jsx(d1,{gameState:n});const k=()=>{const H=AT(n.players.length),E=n.round-1;return E<H.length?H[E]:1},$=n.players.filter(H=>!H.isExiled)[n.currentPlayerIndex];let J="",b="",I=null;if(n.phase===Ce.ROUND_START)J=` ${n.round}`,b=` ${k()} . : ${n.turnDirection==="CW"?" ":" "}.`,n.isHost?I=R.jsx(Pt,{size:"lg",onClick:x,children:" "}):I=R.jsx("span",{className:"text-gray-500 animate-pulse",children:" ..."});else if(n.phase===Ce.PLAYER_SPEECH)J=`: ${$==null?void 0:$.name}`,b="   .",n.isHost&&(I=R.jsx(Pt,{onClick:O,variant:"secondary",children:" "}));else if(n.phase===Ce.GROUP_DISCUSSION)J=" ",b="     .",n.isHost&&(I=R.jsx(Pt,{onClick:B,variant:"danger",children:"  "}));else if(n.phase===Ce.VOTE_PREP_SPEECH)J=`: ${$==null?void 0:$.name}`,b="30     .",n.isHost&&(I=R.jsx(Pt,{onClick:W,variant:"secondary",children:""}));else if(n.phase===Ce.VOTING)J="",b="    (    ).",n.isHost&&(I=R.jsx(Pt,{onClick:fe,variant:"danger",size:"lg",children:" "}));else if(n.phase===Ce.VOTE_RESULTS)J=" ...",b="";else if(n.phase===Ce.JUSTIFICATION){const H=n.players.find(E=>E.id===n.candidatesForExile[n.currentPlayerIndex]);J=` : ${H==null?void 0:H.name}`,b="  . .",n.isHost&&(I=R.jsx(Pt,{onClick:ae,children:" "}))}else n.phase===Ce.EXILE_ANIMATION&&(J="",n.isHost&&(I=R.jsx(Pt,{onClick:ge,variant:"primary",children:" "})));return R.jsxs("div",{className:"h-screen w-full flex flex-col overflow-hidden bg-bunker-950",children:[R.jsx(s1,{exiledName:ve||null,onAnimationComplete:ce}),R.jsx(l1,{timer:n.timer,isRunning:n.isTimerRunning}),R.jsxs("div",{className:"shrink-0 p-4 pb-0 z-30 flex justify-between items-end mb-4 border-b border-white/5 bg-bunker-950/80 backdrop-blur-sm",children:[R.jsxs("div",{children:[R.jsxs("h2",{className:"text-2xl md:text-3xl font-header text-white flex items-center gap-3",children:[J,n.phase===Ce.VOTING&&R.jsx("span",{className:"animate-pulse text-bunker-danger",children:R.jsx(Oi.Skull,{})})]}),R.jsx("p",{className:"text-gray-400 font-mono text-xs md:text-sm mt-1 uppercase tracking-wider",children:b})]}),R.jsxs("div",{className:"flex gap-4 text-xs font-mono text-gray-500 uppercase tracking-widest hidden md:flex",children:[R.jsxs("div",{className:"bg-white/5 px-3 py-1.5 rounded border border-white/5",children:[": ",R.jsx("span",{className:"text-bunker-accent",children:n.roomId})]}),R.jsxs("div",{className:"bg-white/5 px-3 py-1.5 rounded border border-white/5",children:[": ",R.jsx("span",{className:"text-white",children:n.round})]}),R.jsxs("div",{className:"bg-white/5 px-3 py-1.5 rounded border border-white/5",children:[": ",R.jsx("span",{className:"text-bunker-accent",children:(ee=n.bunker)==null?void 0:ee.capacity})]})]})]}),R.jsx("div",{className:"flex-1 overflow-hidden px-4 pb-20 md:pb-24",children:R.jsx(r1,{gameState:n,activePlayer:$,onToggleReveal:F,onCastVote:ie,onSelectPlayer:u})}),R.jsx("div",{className:"fixed bottom-0 left-0 w-full p-4 md:p-6 glass-panel border-t border-bunker-accent/20 flex justify-center z-40 bg-black/80 backdrop-blur-xl",children:I}),R.jsx(a1,{playerId:l,players:n.players,onClose:()=>u(null),onToggleReveal:F,onUseAction:le,myId:n.myId})]})}const z0=document.getElementById("root");if(!z0)throw new Error("Could not find root element to mount to");const h1=xT.createRoot(z0);h1.render(R.jsx(Xc.StrictMode,{children:R.jsx(p1,{})}));
